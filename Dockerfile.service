# Dockerfile.service
FROM eclipse-temurin:17-jre-jammy

WORKDIR /app

# JAR_FILE is passed from docker-compose build args
ARG JAR_FILE=app.jar
ARG EXPOSE_PORT=8080

ENV JAVA_OPTS=""

# Copy the JAR into the image
COPY ${JAR_FILE} /app/app.jar

# Document the port (actual host port mapping is in docker-compose)
EXPOSE ${EXPOSE_PORT}

ENTRYPOINT ["sh", "-c", "java $JAVA_OPTS -jar /app/app.jar"]
