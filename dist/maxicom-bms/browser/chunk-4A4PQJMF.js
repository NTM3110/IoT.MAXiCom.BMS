import{a as se}from"./chunk-MPLNOOWS.js";import{a as Ne,b as ke}from"./chunk-O64OXNYJ.js";import{a as Ae}from"./chunk-ZCLD5EY5.js";import"./chunk-VZJTCMO4.js";import{a as Ve,b as Ze}from"./chunk-JZCKNGD4.js";import"./chunk-F5X5MWHG.js";import{a as Le}from"./chunk-CNETILLL.js";import{a as xe,b as be,c as ve,d as Se,e as Me,f as Oe,g as we,h as Pe,i as ye,j as Ie,k as De,l as Ee,m as Te}from"./chunk-WTXCY3NJ.js";import{a as ze,b as Re}from"./chunk-B4LNXPXW.js";import"./chunk-L26O6Y2M.js";import{a as oe,b as le}from"./chunk-5WMX25QH.js";import{a as ue,b as Ce,c as _e}from"./chunk-EYZQD4T5.js";import{f as fe}from"./chunk-KJHVRK6L.js";import{c as te}from"./chunk-KZ4JRIZK.js";import"./chunk-5DZ3LLXB.js";import{C as ce,F as de,I as pe,N as ge,V as he,y as me}from"./chunk-A7CVY6IQ.js";import{h as W,i as J,j as G,m as Y,ma as ne,n as K,na as ie,t as X,ta as ae,wa as re,y as ee}from"./chunk-4PO2YNOU.js";import{$a as Q,$b as E,B as y,Cb as m,Eb as I,Lb as a,Mb as r,Nb as f,Ob as x,Pb as b,Q as H,Rb as P,T as z,Vb as h,W as B,Wb as c,Z as j,_b as D,ac as T,ca as U,cb as l,ec as o,fc as v,gc as g,hb as _,k as M,ma as u,na as C,ob as q,p as A,pc as O,q as Z,qc as w,ub as d,v as F,x as $}from"./chunk-OB35JHSB.js";import{a as V,b as L}from"./chunk-C6Q5SG76.js";var He=5e3,N=class n{constructor(t){this.http=t}zonesApiUrl="/api/thermal-camera/radiometry/zones";zonesData$=null;getThermalZonesData(){return this.zonesData$||(this.zonesData$=$(0,He).pipe(z(()=>this.fetchZonesData()),H(1))),this.zonesData$}fetchZonesData(){return this.http.get(this.zonesApiUrl).pipe(B(t=>{console.log("[ThermalCameraService] Zones data received:",t)}),y(t=>(console.error("[ThermalCameraService] Error fetching zones data:",t),M(null))),z(t=>M(t?.zones??null)))}getThermalZonesDataOnce(){return this.fetchZonesData()}static \u0275fac=function(e){return new(e||n)(U(X))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})};var je=["cameraWrapper"],Ue=["cameraIframe"];function Qe(n,t){if(n&1){let e=P();a(0,"div",33)(1,"mat-icon",34),o(2,"home_work"),r(),a(3,"h1",35),o(4),r(),a(5,"button",36),h("click",function(){u(e);let s=c();return C(s.startEditSiteName())}),a(6,"mat-icon"),o(7,"edit"),r()()()}if(n&2){let e=c();l(4),v(e.siteName)}}function qe(n,t){if(n&1){let e=P();a(0,"div",37)(1,"mat-form-field",38)(2,"input",39),h("keydown.enter",function(){u(e);let s=c();return C(s.saveSiteName())}),r()(),a(3,"button",40),h("click",function(){u(e);let s=c();return C(s.saveSiteName())}),a(4,"mat-icon"),o(5,"check"),r()(),a(6,"button",41),h("click",function(){u(e);let s=c();return C(s.cancelEditSiteName())}),a(7,"mat-icon"),o(8,"close"),r()()()}if(n&2){let e=c();l(2),m("formControl",e.siteNameControl)}}function We(n,t){if(n&1&&(a(0,"span",50)(1,"mat-icon"),o(2,"warning"),r(),o(3),r()),n&2){let e=c().$implicit;l(3),g("",e.lowSohCells," <80% ")}}function Je(n,t){n&1&&(a(0,"span",51)(1,"mat-icon"),o(2,"check_circle"),r(),o(3,"OK "),r())}function Ge(n,t){if(n&1&&(a(0,"div",44)(1,"mat-icon",45),o(2,"battery_charging_full"),r(),a(3,"span",46),o(4),r(),a(5,"span",47),o(6),r(),d(7,We,4,1,"span",48)(8,Je,4,0,"span",49),r()),n&2){let e=t.$implicit;l(4),v(e.stringName),l(2),g("",e.totalCells," cells"),l(),m("ngIf",e.lowSohCells>0),l(),m("ngIf",e.lowSohCells===0)}}function Ye(n,t){if(n&1&&(a(0,"div",42),d(1,Ge,9,4,"div",43),r()),n&2){let e=c();l(),m("ngForOf",e.stringCellInfo)}}function Ke(n,t){n&1&&(a(0,"div",52),f(1,"mat-progress-spinner",53),a(2,"span"),o(3,"Loading zones..."),r()())}function Xe(n,t){if(n&1&&(a(0,"div",56)(1,"div",57),o(2),r(),a(3,"div",58)(4,"div",59)(5,"span",60),o(6,"AVG"),r(),a(7,"span",61),o(8),O(9,"number"),r()(),a(10,"div",62)(11,"span",60),o(12,"MIN"),r(),a(13,"span",61),o(14),O(15,"number"),r()(),a(16,"div",63)(17,"span",60),o(18,"MAX"),r(),a(19,"span",61),o(20),O(21,"number"),r()()()()),n&2){let e=t.$implicit;I("inactive",e.avg_c===0),l(2),v(e.zone_name),l(6),g("",w(9,8,e.avg_c,"1.1-1"),"\xB0C"),l(6),g("",w(15,11,e.min_c,"1.1-1"),"\xB0"),l(5),I("warning",e.max_c>40),l(),g("",w(21,14,e.max_c,"1.1-1"),"\xB0")}}function et(n,t){if(n&1&&(a(0,"div",54),d(1,Xe,22,17,"div",55),r()),n&2){let e=c();l(),m("ngForOf",e.thermalZones)}}function tt(n,t){n&1&&(a(0,"div",64)(1,"mat-icon"),o(2,"info"),r(),a(3,"span"),o(4,"No thermal data available"),r()())}function nt(n,t){if(n&1){let e=P();a(0,"div",65),h("click",function(){u(e);let s=c();return C(s.toggleCamera())}),a(1,"div",66),h("click",function(s){return u(e),C(s.stopPropagation())}),a(2,"div",67)(3,"mat-icon"),o(4,"videocam"),r(),a(5,"span"),o(6,"Live Camera Stream"),r(),a(7,"button",41),h("click",function(){u(e);let s=c();return C(s.toggleCamera())}),a(8,"mat-icon"),o(9,"close"),r()()(),a(10,"div",68),f(11,"iframe",69,0),r()()()}if(n&2){let e=c();l(11),m("src",e.cameraStreamUrl,Q)}}function it(n,t){n&1&&(a(0,"div",70),f(1,"mat-spinner",71),r())}function at(n,t){n&1&&(a(0,"th",72),o(1,"String Name"),r())}function rt(n,t){if(n&1&&(a(0,"td",73),o(1),r()),n&2){let e=t.$implicit;l(),v(e.stringName)}}function ot(n,t){n&1&&(a(0,"th",72),o(1,"SoC (%)"),r())}function lt(n,t){if(n&1&&(a(0,"td",74),o(1),O(2,"number"),r()),n&2){let e=t.$implicit;l(),v(e.soC!==null?w(2,1,e.soC,"1.0-0"):"N/A")}}function st(n,t){n&1&&(a(0,"th",72),o(1,"SoH (%)"),r())}function mt(n,t){if(n&1&&(a(0,"td",74),o(1),O(2,"number"),r()),n&2){let e=t.$implicit;l(),v(e.soH!==null?w(2,1,e.soH,"1.0-0"):"N/A")}}function ct(n,t){n&1&&(a(0,"th",72),o(1,"Cell Vol"),r())}function dt(n,t){if(n&1&&(a(0,"td",74),f(1,"span",75),o(2),r()),n&2){let e=t.$implicit,i=c();l(),m("ngClass",i.getStatusClass(e.cellVol)),l(),g("",e.cellVol," ")}}function pt(n,t){n&1&&(a(0,"th",72),o(1,"Cell Rst"),r())}function gt(n,t){if(n&1&&(a(0,"td",74),f(1,"span",75),o(2),r()),n&2){let e=t.$implicit,i=c();l(),m("ngClass",i.getStatusClass(e.cellRst)),l(),g("",e.cellRst," ")}}function ft(n,t){n&1&&(a(0,"th",72),o(1,"String Vol"),r())}function ht(n,t){if(n&1&&(a(0,"td",74),f(1,"span",75),o(2),r()),n&2){let e=t.$implicit,i=c();l(),m("ngClass",i.getStatusClass(e.stringVol)),l(),g("",e.stringVol," ")}}function ut(n,t){n&1&&(a(0,"th",72),o(1,"Current"),r())}function Ct(n,t){if(n&1&&(a(0,"td",74),f(1,"span",75),o(2),r()),n&2){let e=t.$implicit,i=c();l(),m("ngClass",i.getStatusClass(e.current)),l(),g("",e.current," ")}}function _t(n,t){n&1&&(a(0,"th",72),o(1,"Ambient"),r())}function xt(n,t){if(n&1&&(a(0,"td",74),f(1,"span",75),o(2),r()),n&2){let e=t.$implicit,i=c();l(),m("ngClass",i.getStatusClass(e.ambient)),l(),g("",e.ambient," ")}}function bt(n,t){n&1&&f(0,"tr",76)}function vt(n,t){if(n&1){let e=P();a(0,"tr",77),h("click",function(){let s=u(e).$implicit,p=c();return C(p.viewStringDetail(s))}),r()}}function St(n,t){if(n&1&&(a(0,"tr",78)(1,"td",79),o(2,"No monitoring data available."),r()()),n&2){let e=c();l(),m("colSpan",e.displayedColumns.length)}}var Fe=class n{constructor(t,e,i,s,p,S,R,k){this.router=t;this.openmucService=e;this.authService=i;this.batteryStringService=s;this.commService=p;this.siteService=S;this.thermalCameraService=R;this.sanitizer=k;this.siteNameControl=new de("")}displayedColumns=["stringName","soC","soH","cellVol","cellRst","stringVol","current","ambient"];dataSource=new Te([]);isLoadingData=!0;isLoadingInfo=!0;siteName="Loading...";isEditingSiteName=!1;siteNameControl;stringPortMapping=[];stringCellInfo=[];isLoadingCellInfo=!1;thermalZones=null;isLoadingThermalCamera=!0;thermalCameraSubscription;isCameraEnabled=!1;cameraStreamUrl=null;CAMERA_STREAM_BASE_URL="/api/thermal-camera/stream/webrtc";cameraWrapper;cameraIframe;dataSubscription;stringReloadInterval;allStringConfigs=[];paginator;ngOnInit(){this.loadHeaderInfo(),this.loadMonitoringData(),this.loadThermalCameraData(),this.stringReloadInterval=setInterval(()=>{this.batteryStringService.reloadStrings().subscribe(t=>{let e=this.allStringConfigs.length,i=t.length;e!==i||JSON.stringify(this.allStringConfigs.map(s=>s.stringIndex).sort())!==JSON.stringify(t.map(s=>s.stringIndex).sort())?(console.log("[Dashboard] Strings changed, updating..."),this.allStringConfigs=t,this.loadHeaderInfo()):this.loadStringCellInfo(t)})},5e3)}ngAfterViewInit(){this.dataSource.paginator=this.paginator}ngOnDestroy(){this.dataSubscription&&this.dataSubscription.unsubscribe(),this.stringReloadInterval&&clearInterval(this.stringReloadInterval),this.thermalCameraSubscription&&this.thermalCameraSubscription.unsubscribe()}loadHeaderInfo(){this.isLoadingInfo=!0,F({siteName:this.siteService.getSiteName(),strings:this.batteryStringService.reloadStrings(),ports:this.commService.getSerialPortsConfig()}).subscribe(({siteName:t,strings:e,ports:i})=>{this.siteName=t,this.siteNameControl.setValue(t),this.allStringConfigs=e,this.stringPortMapping=e.map(s=>{let p=i.find(S=>S.id===s.serialPortId);return{name:s.stringName,port:p?p.alias:"N/A"}}),this.dataSource.data=this.overrideDashboardLabels(this.dataSource.data),this.loadStringCellInfo(e),this.isLoadingInfo=!1})}loadStringCellInfo(t){if(this.isLoadingCellInfo=!0,t.length===0){this.stringCellInfo=[],this.isLoadingCellInfo=!1;return}let e=t.map(i=>{let s=`str${i.stringIndex}`,p=i.cellQty||0;return p<=0?M({stringName:i.stringName,stringIndex:i.stringIndex,totalCells:0,lowSohCells:0}):this.openmucService.getCellsData(s,p).pipe(A(S=>{let R=S.filter(k=>k.SoH!==null&&k.SoH<80).length;return{stringName:i.stringName,stringIndex:i.stringIndex,totalCells:S.length,lowSohCells:R}}),y(S=>(console.error(`Error loading cell data for ${s}:`,S),M({stringName:i.stringName,stringIndex:i.stringIndex,totalCells:p,lowSohCells:0}))))});Z(e).subscribe({next:i=>{this.stringCellInfo=i,this.isLoadingCellInfo=!1},error:i=>{console.error("Error loading string cell info:",i),this.isLoadingCellInfo=!1}})}loadThermalCameraData(){this.isLoadingThermalCamera=!0,this.thermalCameraSubscription&&this.thermalCameraSubscription.unsubscribe(),this.thermalCameraSubscription=this.thermalCameraService.getThermalZonesData().subscribe({next:t=>{this.thermalZones=t,this.isLoadingThermalCamera=!1},error:t=>{console.error("Error loading thermal camera data:",t),this.thermalZones=null,this.isLoadingThermalCamera=!1}})}loadMonitoringData(){this.isLoadingData=!0,this.dataSubscription&&this.dataSubscription.unsubscribe(),this.dataSubscription=this.openmucService.getDashboardStatus().subscribe(t=>{let e=this.overrideDashboardLabels(t);this.dataSource.data=e,this.isLoadingData=!1},t=>{console.error("Error loading dashboard data:",t),this.isLoadingData=!1})}startEditSiteName(){this.isEditingSiteName=!0}saveSiteName(){if(this.siteNameControl.invalid)return;let t=this.siteNameControl.value.trim();if(!t){this.authService.showMessage("Site name cannot be empty.","error");return}this.siteService.setSiteName(t).subscribe({next:()=>{this.siteService.getSiteName().subscribe({next:e=>{this.siteName=e,this.siteNameControl.setValue(e),this.isEditingSiteName=!1,this.authService.showMessage("Site name updated.","success")},error:e=>{this.siteName=t,this.siteNameControl.setValue(t),this.isEditingSiteName=!1,this.authService.showMessage("Site name updated (but could not verify).","info"),console.error("Error reloading site name after save:",e)}})},error:e=>{console.error("Error saving site name:",e),this.authService.showMessage("Error saving site name.","error")}})}cancelEditSiteName(){this.siteNameControl.setValue(this.siteName),this.isEditingSiteName=!1}overrideDashboardLabels(t){return!t||t.length===0?t??[]:t.map(e=>{let i=parseInt(e.id.replace(/^str/i,""),10);if(Number.isNaN(i))return e;let s=this.allStringConfigs.find(p=>p.stringIndex===i);return s?L(V({},e),{stringName:s.stringName||e.stringName}):e})}viewStringDetail(t){let e=parseInt(t.id.replace("str",""),10);if(isNaN(e))return;let i=this.allStringConfigs.find(s=>s.stringIndex===e);i?this.router.navigate(["/setting/string",i.id],{queryParams:{from:"dashboard"}}):(console.warn(`No config found for stringIndex ${e} in cache, force reloading from API...`),this.batteryStringService.reloadStrings().subscribe(s=>{this.allStringConfigs=s,i=s.find(p=>p.stringIndex===e),i?this.router.navigate(["/setting/string",i.id],{queryParams:{from:"dashboard"}}):(console.error(`No config found for stringIndex ${e} after force reload`),this.authService.showMessage(`Error: String ${e} has data but has not been configured. Please configure it first.`,"error"))}))}getStatusClass(t){return t?.toLowerCase()==="on"?"status-dot status-on":t?.toLowerCase()==="off"?"status-dot status-off":"status-dot status-unknown"}toggleCamera(){this.isCameraEnabled=!this.isCameraEnabled,this.isCameraEnabled?this.cameraStreamUrl=this.sanitizer.bypassSecurityTrustResourceUrl(this.CAMERA_STREAM_BASE_URL):this.cameraStreamUrl=null}toggleFullscreen(){if(this.cameraWrapper?.nativeElement){let t=this.cameraWrapper.nativeElement;document.fullscreenElement?document.exitFullscreen?.():t.requestFullscreen?.()||t.webkitRequestFullscreen?.()}}static \u0275fac=function(e){return new(e||n)(_(te),_(Ve),_(se),_(Le),_(Ae),_(Ze),_(N),_(ee))};static \u0275cmp=q({type:n,selectors:[["app-dashboard"]],viewQuery:function(e,i){if(e&1&&(D(je,5),D(Ue,5),D(Ne,5)),e&2){let s;E(s=T())&&(i.cameraWrapper=s.first),E(s=T())&&(i.cameraIframe=s.first),E(s=T())&&(i.paginator=s.first)}},decls:49,vars:15,consts:[["cameraWrapper",""],[1,"page-container"],[1,"site-header"],[1,"site-name-section"],["class","site-name-display",4,"ngIf"],["class","site-name-edit",4,"ngIf"],["class","string-stats",4,"ngIf"],[1,"thermal-section"],[1,"thermal-header"],[1,"thermal-icon"],[1,"thermal-title"],["mat-icon-button","",1,"camera-toggle",3,"click","matTooltip"],["class","loading-thermal",4,"ngIf"],["class","zones-grid",4,"ngIf"],["class","no-data",4,"ngIf"],["class","camera-modal-overlay",3,"click",4,"ngIf"],[1,"table-container","mat-elevation-z2"],["class","table-loading",4,"ngIf"],["mat-table","",1,"dashboard-table",3,"dataSource"],["matColumnDef","stringName"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","table-link",4,"matCellDef"],["matColumnDef","soC"],["mat-cell","",4,"matCellDef"],["matColumnDef","soH"],["matColumnDef","cellVol"],["matColumnDef","cellRst"],["matColumnDef","stringVol"],["matColumnDef","current"],["matColumnDef","ambient"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","dashboard-row-clickable",3,"click",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[1,"site-name-display"],[1,"site-icon"],[1,"site-name"],["mat-icon-button","","matTooltip","Rename Site",3,"click"],[1,"site-name-edit"],["appearance","outline","subscriptSizing","dynamic"],["matInput","","placeholder","Site name",3,"keydown.enter","formControl"],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","",3,"click"],[1,"string-stats"],["class","string-stat-item",4,"ngFor","ngForOf"],[1,"string-stat-item"],[1,"stat-icon"],[1,"stat-name"],[1,"stat-cells"],["class","stat-warning",4,"ngIf"],["class","stat-ok",4,"ngIf"],[1,"stat-warning"],[1,"stat-ok"],[1,"loading-thermal"],["mode","indeterminate","diameter","24"],[1,"zones-grid"],["class","zone-card",3,"inactive",4,"ngFor","ngForOf"],[1,"zone-card"],[1,"zone-name"],[1,"zone-temps"],[1,"temp-item","avg"],[1,"temp-label"],[1,"temp-value"],[1,"temp-item","min"],[1,"temp-item","max"],[1,"no-data"],[1,"camera-modal-overlay",3,"click"],[1,"camera-modal",3,"click"],[1,"camera-modal-header"],[1,"camera-modal-body"],["allowfullscreen","",1,"camera-iframe",3,"src"],[1,"table-loading"],["diameter","32"],["mat-header-cell",""],["mat-cell","",1,"table-link"],["mat-cell",""],[3,"ngClass"],["mat-header-row",""],["mat-row","",1,"dashboard-row-clickable",3,"click"],[1,"mat-row"],[1,"mat-cell",3,"colSpan"]],template:function(e,i){e&1&&(a(0,"div",1)(1,"div",2)(2,"div",3),d(3,Qe,8,1,"div",4)(4,qe,9,1,"div",5),r(),d(5,Ye,2,1,"div",6),r(),a(6,"div",7)(7,"div",8)(8,"mat-icon",9),o(9,"thermostat"),r(),a(10,"h3",10),o(11,"Thermal Camera"),r(),a(12,"button",11),h("click",function(){return i.toggleCamera()}),a(13,"mat-icon"),o(14),r()()(),d(15,Ke,4,0,"div",12)(16,et,2,1,"div",13)(17,tt,5,0,"div",14),r(),d(18,nt,13,1,"div",15),a(19,"div",16),d(20,it,2,0,"div",17),a(21,"table",18),x(22,19),d(23,at,2,0,"th",20)(24,rt,2,1,"td",21),b(),x(25,22),d(26,ot,2,0,"th",20)(27,lt,3,4,"td",23),b(),x(28,24),d(29,st,2,0,"th",20)(30,mt,3,4,"td",23),b(),x(31,25),d(32,ct,2,0,"th",20)(33,dt,3,2,"td",23),b(),x(34,26),d(35,pt,2,0,"th",20)(36,gt,3,2,"td",23),b(),x(37,27),d(38,ft,2,0,"th",20)(39,ht,3,2,"td",23),b(),x(40,28),d(41,ut,2,0,"th",20)(42,Ct,3,2,"td",23),b(),x(43,29),d(44,_t,2,0,"th",20)(45,xt,3,2,"td",23),b(),d(46,bt,1,0,"tr",30)(47,vt,1,0,"tr",31)(48,St,3,1,"tr",32),r()()()),e&2&&(l(3),m("ngIf",!i.isEditingSiteName),l(),m("ngIf",i.isEditingSiteName),l(),m("ngIf",!i.isLoadingInfo&&i.stringCellInfo.length>0),l(7),I("active",i.isCameraEnabled),m("matTooltip",i.isCameraEnabled?"Close Camera":"Open Camera"),l(2),v(i.isCameraEnabled?"videocam_off":"videocam"),l(),m("ngIf",i.isLoadingThermalCamera),l(),m("ngIf",!i.isLoadingThermalCamera&&i.thermalZones&&i.thermalZones.length>0),l(),m("ngIf",!i.isLoadingThermalCamera&&(!i.thermalZones||i.thermalZones.length===0)),l(),m("ngIf",i.isCameraEnabled),l(2),m("ngIf",i.isLoadingData),l(),m("dataSource",i.dataSource),l(25),m("matHeaderRowDef",i.displayedColumns),l(),m("matRowDefColumns",i.displayedColumns))},dependencies:[K,W,J,G,Y,ge,me,ce,pe,Ee,xe,ve,we,Se,be,Pe,Me,Oe,ye,Ie,De,ke,ie,ne,re,ae,Re,ze,ue,he,_e,Ce,fe,le,oe],styles:[".page-container[_ngcontent-%COMP%]{padding:16px}.site-header[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;gap:16px;padding:16px 20px;margin-bottom:16px;background:linear-gradient(135deg,#fff,#f8f9ff);border-radius:12px;box-shadow:0 2px 12px #0000000f}.site-name-section[_ngcontent-%COMP%]   .site-name-display[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.site-name-section[_ngcontent-%COMP%]   .site-name-display[_ngcontent-%COMP%]   .site-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px;color:var(--primary-color)}.site-name-section[_ngcontent-%COMP%]   .site-name-display[_ngcontent-%COMP%]   .site-name[_ngcontent-%COMP%]{margin:0;font-size:1.4rem;font-weight:600;color:#333}.site-name-section[_ngcontent-%COMP%]   .site-name-display[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#888;transform:scale(.9)}.site-name-section[_ngcontent-%COMP%]   .site-name-edit[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px}.site-name-section[_ngcontent-%COMP%]   .site-name-edit[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:220px}.site-name-section[_ngcontent-%COMP%]   .site-name-edit[_ngcontent-%COMP%]     .mat-mdc-form-field .mdc-text-field{height:40px!important}.string-stats[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:12px}.string-stat-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 14px;background:#fff;border-radius:20px;box-shadow:0 1px 4px #00000014;font-size:.85rem}.string-stat-item[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;color:var(--primary-color)}.string-stat-item[_ngcontent-%COMP%]   .stat-name[_ngcontent-%COMP%]{font-weight:600;color:#333}.string-stat-item[_ngcontent-%COMP%]   .stat-cells[_ngcontent-%COMP%]{color:#666;padding:2px 8px;background:#f0f0f0;border-radius:10px}.string-stat-item[_ngcontent-%COMP%]   .stat-warning[_ngcontent-%COMP%]{display:flex;align-items:center;gap:3px;color:#f44336;font-weight:600}.string-stat-item[_ngcontent-%COMP%]   .stat-warning[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.string-stat-item[_ngcontent-%COMP%]   .stat-ok[_ngcontent-%COMP%]{display:flex;align-items:center;gap:3px;color:#4caf50;font-weight:500}.string-stat-item[_ngcontent-%COMP%]   .stat-ok[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.thermal-section[_ngcontent-%COMP%]{margin-bottom:16px}.thermal-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:12px}.thermal-header[_ngcontent-%COMP%]   .thermal-icon[_ngcontent-%COMP%]{font-size:22px;width:22px;height:22px;color:#ff5722}.thermal-header[_ngcontent-%COMP%]   .thermal-title[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;font-weight:600;color:var(--primary-color)}.thermal-header[_ngcontent-%COMP%]   .camera-toggle[_ngcontent-%COMP%]{margin-left:auto;background:#f5f5f5;transition:all .3s ease}.thermal-header[_ngcontent-%COMP%]   .camera-toggle[_ngcontent-%COMP%]:hover{background:#e0e0e0}.thermal-header[_ngcontent-%COMP%]   .camera-toggle.active[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff}.loading-thermal[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:16px;color:#666;font-size:.9rem}.zones-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}@media (max-width: 500px){.zones-grid[_ngcontent-%COMP%]{gap:8px}}.zone-card[_ngcontent-%COMP%]{padding:14px;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000000f;transition:all .2s ease}.zone-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #0000001a}.zone-card.inactive[_ngcontent-%COMP%]{opacity:.5}.zone-name[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:#333;margin-bottom:10px;padding-bottom:8px;border-bottom:1px solid #f0f0f0}.zone-temps[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:8px}.temp-item[_ngcontent-%COMP%]{flex:1;text-align:center;padding:8px 4px;border-radius:8px}.temp-item[_ngcontent-%COMP%]   .temp-label[_ngcontent-%COMP%]{display:block;font-size:.65rem;font-weight:600;text-transform:uppercase;margin-bottom:2px}.temp-item[_ngcontent-%COMP%]   .temp-value[_ngcontent-%COMP%]{font-size:1rem;font-weight:700}.temp-item[_ngcontent-%COMP%]   .temp-value.warning[_ngcontent-%COMP%]{color:#f44336!important}.temp-item.avg[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff9800,#ff5722)}.temp-item.avg[_ngcontent-%COMP%]   .temp-label[_ngcontent-%COMP%]{color:#ffffffd9}.temp-item.avg[_ngcontent-%COMP%]   .temp-value[_ngcontent-%COMP%]{color:#fff}.temp-item.min[_ngcontent-%COMP%]{background:#e3f2fd}.temp-item.min[_ngcontent-%COMP%]   .temp-label[_ngcontent-%COMP%]{color:#1976d2}.temp-item.min[_ngcontent-%COMP%]   .temp-value[_ngcontent-%COMP%]{color:#1565c0}.temp-item.max[_ngcontent-%COMP%]{background:#ffebee}.temp-item.max[_ngcontent-%COMP%]   .temp-label[_ngcontent-%COMP%]{color:#c62828}.temp-item.max[_ngcontent-%COMP%]   .temp-value[_ngcontent-%COMP%]{color:#b71c1c}.no-data[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:16px;color:#888;font-size:.9rem;background:#f5f5f5;border-radius:8px}.no-data[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.camera-modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0009;display:flex;align-items:center;justify-content:center;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .2s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.camera-modal[_ngcontent-%COMP%]{width:90%;max-width:800px;max-height:90vh;background:#1a1a2e;border-radius:12px;overflow:hidden;box-shadow:0 20px 60px #0006;animation:_ngcontent-%COMP%_slideUp .3s ease}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}.camera-modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:12px 16px;background:linear-gradient(135deg,#1a237e,#283593);color:#fff;font-weight:600}.camera-modal-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:22px;width:22px;height:22px}.camera-modal-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:auto;color:#fff}.camera-modal-body[_ngcontent-%COMP%]{aspect-ratio:16/9;background:#000}.camera-iframe[_ngcontent-%COMP%]{width:100%;height:100%;border:none}.table-container[_ngcontent-%COMP%]{border-radius:12px;overflow:hidden;background:#fff}.table-loading[_ngcontent-%COMP%]{position:absolute;inset:0;background:#fffc;display:flex;align-items:center;justify-content:center;z-index:10}.dashboard-table[_ngcontent-%COMP%]{width:100%}.dashboard-row-clickable[_ngcontent-%COMP%]{cursor:pointer}.dashboard-row-clickable[_ngcontent-%COMP%]:hover{background-color:#f8f9ff}.table-link[_ngcontent-%COMP%]{color:var(--primary-color);font-weight:500}.status-dot[_ngcontent-%COMP%]{display:inline-block;width:8px;height:8px;border-radius:50%;margin-right:6px}.status-on[_ngcontent-%COMP%]{background-color:#4caf50;animation:_ngcontent-%COMP%_pulse 1.5s infinite}.status-off[_ngcontent-%COMP%]{background-color:#f44336}.status-unknown[_ngcontent-%COMP%]{background-color:#9e9e9e}@keyframes _ngcontent-%COMP%_pulse{0%{box-shadow:0 0 #4caf50b3}70%{box-shadow:0 0 0 6px #4caf5000}to{box-shadow:0 0 #4caf5000}}"]})};export{Fe as DashboardComponent};
