import{c as p1,d as g1,e as m1,f as b1,g as v1,h as x1,i as _1}from"./chunk-USAVY2U3.js";import{a as wg,b as y1,c as w1,d as S1,e as C1,f as A1}from"./chunk-JETOBTQ5.js";import"./chunk-RWFDCCSP.js";import{a as r1,b as o1}from"./chunk-JZCKNGD4.js";import"./chunk-F5X5MWHG.js";import{a as yf}from"./chunk-AEY5P3FD.js";import{a as l1,b as h1,c as c1,e as u1,f as f1,g as d1,h as rc}from"./chunk-4DAIBQ2O.js";import{a as s1}from"./chunk-CNETILLL.js";import{a as Wg,b as $g,c as Yg,d as Gg,e as Zg,f as Xg,g as Kg,h as Jg,i as Qg,j as t1,l as e1}from"./chunk-WTXCY3NJ.js";import{a as i1,b as n1}from"./chunk-B4LNXPXW.js";import{a as a1}from"./chunk-L26O6Y2M.js";import{a as vg,b as xg}from"./chunk-5WMX25QH.js";import{a as Ug,b as Hg,c as qg}from"./chunk-EYZQD4T5.js";import{a as Ig,b as Og,c as Eg,e as Fg,f as Rg}from"./chunk-KJHVRK6L.js";import{a as dg,c as pg}from"./chunk-KZ4JRIZK.js";import{a as _g,b as yg}from"./chunk-5DZ3LLXB.js";import{A as bl,C as Cg,D as Ag,G as kg,H as Dg,J as Lg,K as Tg,L as Pg,M as Ng,N as Mg,P as Bg,Q as jg,S as zg,V as Vg,y as Sg}from"./chunk-A7CVY6IQ.js";import{f as hg,i as cg,j as tc,m as ug,ma as gg,n as ec,na as mg,t as fg,ta as bg,va as ic,wa as nc}from"./chunk-4PO2YNOU.js";import{$b as ag,B as Xs,Ba as tg,Cb as ye,Db as ig,F as W0,Fb as ng,H as $0,I as Y0,J as G0,Lb as dt,Mb as ut,Nb as Dn,Ob as Ze,Pb as Xe,Rb as _a,T as ms,U as fr,Vb as Ln,W as Z0,Wb as Mi,Z as Jh,_b as rg,aa as X0,ac as sg,ca as K0,cb as Tt,dc as ml,ec as xt,f as q0,fc as Ii,g as Kh,gc as Fe,hb as vi,ic as og,k as xa,l as xf,la as J0,ma as An,na as kn,ob as Qh,p as gs,pc as li,qb as eg,qc as hi,rc as lg,ub as le,xa as _f,ya as Q0}from"./chunk-OB35JHSB.js";import{a as Re}from"./chunk-FK6H3RFT.js";import{a as Ee,b as Ge}from"./chunk-C6Q5SG76.js";function _l(t){return t+.5|0}var ya=(t,e,i)=>Math.max(Math.min(t,i),e);function vl(t){return ya(_l(t*2.55),0,255)}function wa(t){return ya(_l(t*255),0,255)}function Vr(t){return ya(_l(t/2.55)/100,0,1)}function k1(t){return ya(_l(t*100),0,100)}var Vn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Sf=[..."0123456789ABCDEF"],U_=t=>Sf[t&15],H_=t=>Sf[(t&240)>>4]+Sf[t&15],ac=t=>(t&240)>>4===(t&15),q_=t=>ac(t.r)&&ac(t.g)&&ac(t.b)&&ac(t.a);function W_(t){var e=t.length,i;return t[0]==="#"&&(e===4||e===5?i={r:255&Vn[t[1]]*17,g:255&Vn[t[2]]*17,b:255&Vn[t[3]]*17,a:e===5?Vn[t[4]]*17:255}:(e===7||e===9)&&(i={r:Vn[t[1]]<<4|Vn[t[2]],g:Vn[t[3]]<<4|Vn[t[4]],b:Vn[t[5]]<<4|Vn[t[6]],a:e===9?Vn[t[7]]<<4|Vn[t[8]]:255})),i}var $_=(t,e)=>t<255?e(t):"";function Y_(t){var e=q_(t)?U_:H_;return t?"#"+e(t.r)+e(t.g)+e(t.b)+$_(t.a,e):void 0}var G_=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function P1(t,e,i){let n=e*Math.min(i,1-i),r=(a,s=(a+t/30)%12)=>i-n*Math.max(Math.min(s-3,9-s,1),-1);return[r(0),r(8),r(4)]}function Z_(t,e,i){let n=(r,a=(r+t/60)%6)=>i-i*e*Math.max(Math.min(a,4-a,1),0);return[n(5),n(3),n(1)]}function X_(t,e,i){let n=P1(t,1,.5),r;for(e+i>1&&(r=1/(e+i),e*=r,i*=r),r=0;r<3;r++)n[r]*=1-e-i,n[r]+=e;return n}function K_(t,e,i,n,r){return t===r?(e-i)/n+(e<i?6:0):e===r?(i-t)/n+2:(t-e)/n+4}function Cf(t){let i=t.r/255,n=t.g/255,r=t.b/255,a=Math.max(i,n,r),s=Math.min(i,n,r),o=(a+s)/2,l,h,c;return a!==s&&(c=a-s,h=o>.5?c/(2-a-s):c/(a+s),l=K_(i,n,r,c,a),l=l*60+.5),[l|0,h||0,o]}function Af(t,e,i,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,i,n)).map(wa)}function kf(t,e,i){return Af(P1,t,e,i)}function J_(t,e,i){return Af(X_,t,e,i)}function Q_(t,e,i){return Af(Z_,t,e,i)}function N1(t){return(t%360+360)%360}function ty(t){let e=G_.exec(t),i=255,n;if(!e)return;e[5]!==n&&(i=e[6]?vl(+e[5]):wa(+e[5]));let r=N1(+e[2]),a=+e[3]/100,s=+e[4]/100;return e[1]==="hwb"?n=J_(r,a,s):e[1]==="hsv"?n=Q_(r,a,s):n=kf(r,a,s),{r:n[0],g:n[1],b:n[2],a:i}}function ey(t,e){var i=Cf(t);i[0]=N1(i[0]+e),i=kf(i),t.r=i[0],t.g=i[1],t.b=i[2]}function iy(t){if(!t)return;let e=Cf(t),i=e[0],n=k1(e[1]),r=k1(e[2]);return t.a<255?`hsla(${i}, ${n}%, ${r}%, ${Vr(t.a)})`:`hsl(${i}, ${n}%, ${r}%)`}var D1={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},L1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function ny(){let t={},e=Object.keys(L1),i=Object.keys(D1),n,r,a,s,o;for(n=0;n<e.length;n++){for(s=o=e[n],r=0;r<i.length;r++)a=i[r],o=o.replace(a,D1[a]);a=parseInt(L1[s],16),t[o]=[a>>16&255,a>>8&255,a&255]}return t}var sc;function ry(t){sc||(sc=ny(),sc.transparent=[0,0,0,0]);let e=sc[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}var ay=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function sy(t){let e=ay.exec(t),i=255,n,r,a;if(e){if(e[7]!==n){let s=+e[7];i=e[8]?vl(s):ya(s*255,0,255)}return n=+e[1],r=+e[3],a=+e[5],n=255&(e[2]?vl(n):ya(n,0,255)),r=255&(e[4]?vl(r):ya(r,0,255)),a=255&(e[6]?vl(a):ya(a,0,255)),{r:n,g:r,b:a,a:i}}}function oy(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Vr(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}var wf=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Ks=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function ly(t,e,i){let n=Ks(Vr(t.r)),r=Ks(Vr(t.g)),a=Ks(Vr(t.b));return{r:wa(wf(n+i*(Ks(Vr(e.r))-n))),g:wa(wf(r+i*(Ks(Vr(e.g))-r))),b:wa(wf(a+i*(Ks(Vr(e.b))-a))),a:t.a+i*(e.a-t.a)}}function oc(t,e,i){if(t){let n=Cf(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*i,e===0?360:1)),n=kf(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function M1(t,e){return t&&Object.assign(e||{},t)}function T1(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=wa(t[3]))):(e=M1(t,{r:0,g:0,b:0,a:1}),e.a=wa(e.a)),e}function hy(t){return t.charAt(0)==="r"?sy(t):ty(t)}var xl=class t{constructor(e){if(e instanceof t)return e;let i=typeof e,n;i==="object"?n=T1(e):i==="string"&&(n=W_(e)||ry(e)||hy(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=M1(this._rgb);return e&&(e.a=Vr(e.a)),e}set rgb(e){this._rgb=T1(e)}rgbString(){return this._valid?oy(this._rgb):void 0}hexString(){return this._valid?Y_(this._rgb):void 0}hslString(){return this._valid?iy(this._rgb):void 0}mix(e,i){if(e){let n=this.rgb,r=e.rgb,a,s=i===a?.5:i,o=2*s-1,l=n.a-r.a,h=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;a=1-h,n.r=255&h*n.r+a*r.r+.5,n.g=255&h*n.g+a*r.g+.5,n.b=255&h*n.b+a*r.b+.5,n.a=s*n.a+(1-s)*r.a,this.rgb=n}return this}interpolate(e,i){return e&&(this._rgb=ly(this._rgb,e._rgb,i)),this}clone(){return new t(this.rgb)}alpha(e){return this._rgb.a=wa(e),this}clearer(e){let i=this._rgb;return i.a*=1-e,this}greyscale(){let e=this._rgb,i=_l(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=i,this}opaquer(e){let i=this._rgb;return i.a*=1+e,this}negate(){let e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return oc(this._rgb,2,e),this}darken(e){return oc(this._rgb,2,-e),this}saturate(e){return oc(this._rgb,1,e),this}desaturate(e){return oc(this._rgb,1,-e),this}rotate(e){return ey(this._rgb,e),this}};function gr(){}var H1=(()=>{let t=0;return()=>t++})();function pe(t){return t==null}function Ke(t){if(Array.isArray&&Array.isArray(t))return!0;let e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ge(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function ni(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function un(t,e){return ni(t)?t:e}function te(t,e){return typeof t>"u"?e:t}var q1=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Pf=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Ue(t,e,i){if(t&&typeof t.call=="function")return t.apply(i,e)}function Ne(t,e,i,n){let r,a,s;if(Ke(t))if(a=t.length,n)for(r=a-1;r>=0;r--)e.call(i,t[r],r);else for(r=0;r<a;r++)e.call(i,t[r],r);else if(ge(t))for(s=Object.keys(t),a=s.length,r=0;r<a;r++)e.call(i,t[s[r]],s[r])}function Sl(t,e){let i,n,r,a;if(!t||!e||t.length!==e.length)return!1;for(i=0,n=t.length;i<n;++i)if(r=t[i],a=e[i],r.datasetIndex!==a.datasetIndex||r.index!==a.index)return!1;return!0}function uc(t){if(Ke(t))return t.map(uc);if(ge(t)){let e=Object.create(null),i=Object.keys(t),n=i.length,r=0;for(;r<n;++r)e[i[r]]=uc(t[i[r]]);return e}return t}function W1(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function cy(t,e,i,n){if(!W1(t))return;let r=e[t],a=i[t];ge(r)&&ge(a)?Qs(r,a,n):e[t]=uc(a)}function Qs(t,e,i){let n=Ke(e)?e:[e],r=n.length;if(!ge(t))return t;i=i||{};let a=i.merger||cy,s;for(let o=0;o<r;++o){if(s=n[o],!ge(s))continue;let l=Object.keys(s);for(let h=0,c=l.length;h<c;++h)a(l[h],t,s,i)}return t}function eo(t,e){return Qs(t,e,{merger:uy})}function uy(t,e,i){if(!W1(t))return;let n=e[t],r=i[t];ge(n)&&ge(r)?eo(n,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=uc(r))}var I1={"":t=>t,x:t=>t.x,y:t=>t.y};function fy(t){let e=t.split("."),i=[],n="";for(let r of e)n+=r,n.endsWith("\\")?n=n.slice(0,-1)+".":(i.push(n),n="");return i}function dy(t){let e=fy(t);return i=>{for(let n of e){if(n==="")break;i=i&&i[n]}return i}}function qr(t,e){return(I1[e]||(I1[e]=dy(e)))(t)}function gc(t){return t.charAt(0).toUpperCase()+t.slice(1)}var io=t=>typeof t<"u",Ur=t=>typeof t=="function",Nf=(t,e)=>{if(t.size!==e.size)return!1;for(let i of t)if(!e.has(i))return!1;return!0};function $1(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}var Se=Math.PI,Je=2*Se,py=Je+Se,fc=Number.POSITIVE_INFINITY,gy=Se/180,ci=Se/2,bs=Se/4,O1=Se*2/3,Hr=Math.log10,Qn=Math.sign;function no(t,e,i){return Math.abs(t-e)<i}function Mf(t){let e=Math.round(t);t=no(t,e,t/1e3)?e:t;let i=Math.pow(10,Math.floor(Hr(t))),n=t/i;return(n<=1?1:n<=2?2:n<=5?5:10)*i}function Y1(t){let e=[],i=Math.sqrt(t),n;for(n=1;n<i;n++)t%n===0&&(e.push(n),e.push(t/n));return i===(i|0)&&e.push(i),e.sort((r,a)=>r-a).pop(),e}function my(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function _s(t){return!my(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function G1(t,e){let i=Math.round(t);return i-e<=t&&i+e>=t}function If(t,e,i){let n,r,a;for(n=0,r=t.length;n<r;n++)a=t[n][i],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function Un(t){return t*(Se/180)}function mc(t){return t*(180/Se)}function Of(t){if(!ni(t))return;let e=1,i=0;for(;Math.round(t*e)/e!==t;)e*=10,i++;return i}function Ef(t,e){let i=e.x-t.x,n=e.y-t.y,r=Math.sqrt(i*i+n*n),a=Math.atan2(n,i);return a<-.5*Se&&(a+=Je),{angle:a,distance:r}}function dc(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function by(t,e){return(t-e+py)%Je-Se}function Hi(t){return(t%Je+Je)%Je}function ro(t,e,i,n){let r=Hi(t),a=Hi(e),s=Hi(i),o=Hi(a-r),l=Hi(s-r),h=Hi(r-a),c=Hi(r-s);return r===a||r===s||n&&a===s||o>l&&h<c}function Oi(t,e,i){return Math.max(e,Math.min(i,t))}function Z1(t){return Oi(t,-32768,32767)}function mr(t,e,i,n=1e-6){return t>=Math.min(e,i)-n&&t<=Math.max(e,i)+n}function bc(t,e,i){i=i||(s=>t[s]<e);let n=t.length-1,r=0,a;for(;n-r>1;)a=r+n>>1,i(a)?r=a:n=a;return{lo:r,hi:n}}var dr=(t,e,i,n)=>bc(t,i,n?r=>{let a=t[r][e];return a<i||a===i&&t[r+1][e]===i}:r=>t[r][e]<i),X1=(t,e,i)=>bc(t,i,n=>t[n][e]>=i);function K1(t,e,i){let n=0,r=t.length;for(;n<r&&t[n]<e;)n++;for(;r>n&&t[r-1]>i;)r--;return n>0||r<t.length?t.slice(n,r):t}var J1=["push","pop","shift","splice","unshift"];function Q1(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),J1.forEach(i=>{let n="_onData"+gc(i),r=t[i];Object.defineProperty(t,i,{configurable:!0,enumerable:!1,value(...a){let s=r.apply(this,a);return t._chartjs.listeners.forEach(o=>{typeof o[n]=="function"&&o[n](...a)}),s}})})}function Ff(t,e){let i=t._chartjs;if(!i)return;let n=i.listeners,r=n.indexOf(e);r!==-1&&n.splice(r,1),!(n.length>0)&&(J1.forEach(a=>{delete t[a]}),delete t._chartjs)}function Rf(t){let e=new Set(t);return e.size===t.length?t:Array.from(e)}var Bf=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function jf(t,e){let i=[],n=!1;return function(...r){i=r,n||(n=!0,Bf.call(window,()=>{n=!1,t.apply(e,i)}))}}function tm(t,e){let i;return function(...n){return e?(clearTimeout(i),i=setTimeout(t,e,n)):t.apply(this,n),e}}var vc=t=>t==="start"?"left":t==="end"?"right":"center",qi=(t,e,i)=>t==="start"?e:t==="end"?i:(e+i)/2,em=(t,e,i,n)=>t===(n?"left":"right")?i:t==="center"?(e+i)/2:e;function zf(t,e,i){let n=e.length,r=0,a=n;if(t._sorted){let{iScale:s,vScale:o,_parsed:l}=t,h=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,c=s.axis,{min:p,max:g,minDefined:f,maxDefined:v}=s.getUserBounds();if(f){if(r=Math.min(dr(l,c,p).lo,i?n:dr(e,c,s.getPixelForValue(p)).lo),h){let x=l.slice(0,r+1).reverse().findIndex(y=>!pe(y[o.axis]));r-=Math.max(0,x)}r=Oi(r,0,n-1)}if(v){let x=Math.max(dr(l,s.axis,g,!0).hi+1,i?0:dr(e,c,s.getPixelForValue(g),!0).hi+1);if(h){let y=l.slice(x-1).findIndex(w=>!pe(w[o.axis]));x+=Math.max(0,y)}a=Oi(x,r,n)-r}else a=n-r}return{start:r,count:a}}function Vf(t){let{xScale:e,yScale:i,_scaleRanges:n}=t,r={xmin:e.min,xmax:e.max,ymin:i.min,ymax:i.max};if(!n)return t._scaleRanges=r,!0;let a=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==i.min||n.ymax!==i.max;return Object.assign(n,r),a}var lc=t=>t===0||t===1,E1=(t,e,i)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Je/i)),F1=(t,e,i)=>Math.pow(2,-10*t)*Math.sin((t-e)*Je/i)+1,Js={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*ci)+1,easeOutSine:t=>Math.sin(t*ci),easeInOutSine:t=>-.5*(Math.cos(Se*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>lc(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>lc(t)?t:E1(t,.075,.3),easeOutElastic:t=>lc(t)?t:F1(t,.075,.3),easeInOutElastic(t){return lc(t)?t:t<.5?.5*E1(t*2,.1125,.45):.5+.5*F1(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Js.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Js.easeInBounce(t*2)*.5:Js.easeOutBounce(t*2-1)*.5+.5};function Uf(t){if(t&&typeof t=="object"){let e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Hf(t){return Uf(t)?t:new xl(t)}function Df(t){return Uf(t)?t:new xl(t).saturate(.5).darken(.1).hexString()}var vy=["x","y","borderWidth","radius","tension"],xy=["color","borderColor","backgroundColor"];function _y(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:xy},numbers:{type:"number",properties:vy}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function yy(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var R1=new Map;function wy(t,e){e=e||{};let i=t+JSON.stringify(e),n=R1.get(i);return n||(n=new Intl.NumberFormat(t,e),R1.set(i,n)),n}function ao(t,e,i){return wy(e,i).format(t)}var im={values(t){return Ke(t)?t:""+t},numeric(t,e,i){if(t===0)return"0";let n=this.chart.options.locale,r,a=t;if(i.length>1){let h=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(h<1e-4||h>1e15)&&(r="scientific"),a=Sy(t,i)}let s=Hr(Math.abs(a)),o=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:r,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),ao(t,n,l)},logarithmic(t,e,i){if(t===0)return"0";let n=i[e].significand||t/Math.pow(10,Math.floor(Hr(t)));return[1,2,3,5,10,15].includes(n)||e>.8*i.length?im.numeric.call(this,t,e,i):""}};function Sy(t,e){let i=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(i)>=1&&t!==Math.floor(t)&&(i=t-Math.floor(t)),i}var Cl={formatters:im};function Cy(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,i)=>i.lineWidth,tickColor:(e,i)=>i.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Cl.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}var Aa=Object.create(null),xc=Object.create(null);function yl(t,e){if(!e)return t;let i=e.split(".");for(let n=0,r=i.length;n<r;++n){let a=i[n];t=t[a]||(t[a]=Object.create(null))}return t}function Lf(t,e,i){return typeof e=="string"?Qs(yl(t,e),i):Qs(yl(t,""),e)}var Tf=class{constructor(e,i){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,r)=>Df(r.backgroundColor),this.hoverBorderColor=(n,r)=>Df(r.borderColor),this.hoverColor=(n,r)=>Df(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(i)}set(e,i){return Lf(this,e,i)}get(e){return yl(this,e)}describe(e,i){return Lf(xc,e,i)}override(e,i){return Lf(Aa,e,i)}route(e,i,n,r){let a=yl(this,e),s=yl(this,n),o="_"+i;Object.defineProperties(a,{[o]:{value:a[i],writable:!0},[i]:{enumerable:!0,get(){let l=this[o],h=s[r];return ge(l)?Object.assign({},h,l):te(l,h)},set(l){this[o]=l}}})}apply(e){e.forEach(i=>i(this))}},He=new Tf({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[_y,yy,Cy]);function Ay(t){return!t||pe(t.size)||pe(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function wl(t,e,i,n,r){let a=e[r];return a||(a=e[r]=t.measureText(r).width,i.push(r)),a>n&&(n=a),n}function nm(t,e,i,n){n=n||{};let r=n.data=n.data||{},a=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(r=n.data={},a=n.garbageCollect=[],n.font=e),t.save(),t.font=e;let s=0,o=i.length,l,h,c,p,g;for(l=0;l<o;l++)if(p=i[l],p!=null&&!Ke(p))s=wl(t,r,a,s,p);else if(Ke(p))for(h=0,c=p.length;h<c;h++)g=p[h],g!=null&&!Ke(g)&&(s=wl(t,r,a,s,g));t.restore();let f=a.length/2;if(f>i.length){for(l=0;l<f;l++)delete r[a[l]];a.splice(0,f)}return s}function ka(t,e,i){let n=t.currentDevicePixelRatio,r=i!==0?Math.max(i/2,.5):0;return Math.round((e-r)*n)/n+r}function qf(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function _c(t,e,i,n){Wf(t,e,i,n,null)}function Wf(t,e,i,n,r){let a,s,o,l,h,c,p,g,f=e.pointStyle,v=e.rotation,x=e.radius,y=(v||0)*gy;if(f&&typeof f=="object"&&(a=f.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){t.save(),t.translate(i,n),t.rotate(y),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(x)||x<=0)){switch(t.beginPath(),f){default:r?t.ellipse(i,n,r/2,x,0,0,Je):t.arc(i,n,x,0,Je),t.closePath();break;case"triangle":c=r?r/2:x,t.moveTo(i+Math.sin(y)*c,n-Math.cos(y)*x),y+=O1,t.lineTo(i+Math.sin(y)*c,n-Math.cos(y)*x),y+=O1,t.lineTo(i+Math.sin(y)*c,n-Math.cos(y)*x),t.closePath();break;case"rectRounded":h=x*.516,l=x-h,s=Math.cos(y+bs)*l,p=Math.cos(y+bs)*(r?r/2-h:l),o=Math.sin(y+bs)*l,g=Math.sin(y+bs)*(r?r/2-h:l),t.arc(i-p,n-o,h,y-Se,y-ci),t.arc(i+g,n-s,h,y-ci,y),t.arc(i+p,n+o,h,y,y+ci),t.arc(i-g,n+s,h,y+ci,y+Se),t.closePath();break;case"rect":if(!v){l=Math.SQRT1_2*x,c=r?r/2:l,t.rect(i-c,n-l,2*c,2*l);break}y+=bs;case"rectRot":p=Math.cos(y)*(r?r/2:x),s=Math.cos(y)*x,o=Math.sin(y)*x,g=Math.sin(y)*(r?r/2:x),t.moveTo(i-p,n-o),t.lineTo(i+g,n-s),t.lineTo(i+p,n+o),t.lineTo(i-g,n+s),t.closePath();break;case"crossRot":y+=bs;case"cross":p=Math.cos(y)*(r?r/2:x),s=Math.cos(y)*x,o=Math.sin(y)*x,g=Math.sin(y)*(r?r/2:x),t.moveTo(i-p,n-o),t.lineTo(i+p,n+o),t.moveTo(i+g,n-s),t.lineTo(i-g,n+s);break;case"star":p=Math.cos(y)*(r?r/2:x),s=Math.cos(y)*x,o=Math.sin(y)*x,g=Math.sin(y)*(r?r/2:x),t.moveTo(i-p,n-o),t.lineTo(i+p,n+o),t.moveTo(i+g,n-s),t.lineTo(i-g,n+s),y+=bs,p=Math.cos(y)*(r?r/2:x),s=Math.cos(y)*x,o=Math.sin(y)*x,g=Math.sin(y)*(r?r/2:x),t.moveTo(i-p,n-o),t.lineTo(i+p,n+o),t.moveTo(i+g,n-s),t.lineTo(i-g,n+s);break;case"line":s=r?r/2:Math.cos(y)*x,o=Math.sin(y)*x,t.moveTo(i-s,n-o),t.lineTo(i+s,n+o);break;case"dash":t.moveTo(i,n),t.lineTo(i+Math.cos(y)*(r?r/2:x),n+Math.sin(y)*x);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function pr(t,e,i){return i=i||.5,!e||t&&t.x>e.left-i&&t.x<e.right+i&&t.y>e.top-i&&t.y<e.bottom+i}function Al(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function kl(t){t.restore()}function rm(t,e,i,n,r){if(!e)return t.lineTo(i.x,i.y);if(r==="middle"){let a=(e.x+i.x)/2;t.lineTo(a,e.y),t.lineTo(a,i.y)}else r==="after"!=!!n?t.lineTo(e.x,i.y):t.lineTo(i.x,e.y);t.lineTo(i.x,i.y)}function am(t,e,i,n){if(!e)return t.lineTo(i.x,i.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?i.cp2x:i.cp1x,n?i.cp2y:i.cp1y,i.x,i.y)}function ky(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),pe(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Dy(t,e,i,n,r){if(r.strikethrough||r.underline){let a=t.measureText(n),s=e-a.actualBoundingBoxLeft,o=e+a.actualBoundingBoxRight,l=i-a.actualBoundingBoxAscent,h=i+a.actualBoundingBoxDescent,c=r.strikethrough?(l+h)/2:h;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(s,c),t.lineTo(o,c),t.stroke()}}function Ly(t,e){let i=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=i}function Da(t,e,i,n,r,a={}){let s=Ke(e)?e:[e],o=a.strokeWidth>0&&a.strokeColor!=="",l,h;for(t.save(),t.font=r.string,ky(t,a),l=0;l<s.length;++l)h=s[l],a.backdrop&&Ly(t,a.backdrop),o&&(a.strokeColor&&(t.strokeStyle=a.strokeColor),pe(a.strokeWidth)||(t.lineWidth=a.strokeWidth),t.strokeText(h,i,n,a.maxWidth)),t.fillText(h,i,n,a.maxWidth),Dy(t,i,n,h,a),n+=Number(r.lineHeight);t.restore()}function so(t,e){let{x:i,y:n,w:r,h:a,radius:s}=e;t.arc(i+s.topLeft,n+s.topLeft,s.topLeft,1.5*Se,Se,!0),t.lineTo(i,n+a-s.bottomLeft),t.arc(i+s.bottomLeft,n+a-s.bottomLeft,s.bottomLeft,Se,ci,!0),t.lineTo(i+r-s.bottomRight,n+a),t.arc(i+r-s.bottomRight,n+a-s.bottomRight,s.bottomRight,ci,0,!0),t.lineTo(i+r,n+s.topRight),t.arc(i+r-s.topRight,n+s.topRight,s.topRight,0,-ci,!0),t.lineTo(i+s.topLeft,n)}var Ty=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Py=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Ny(t,e){let i=(""+t).match(Ty);if(!i||i[1]==="normal")return e*1.2;switch(t=+i[2],i[3]){case"px":return t;case"%":t/=100;break}return e*t}var My=t=>+t||0;function yc(t,e){let i={},n=ge(e),r=n?Object.keys(e):e,a=ge(t)?n?s=>te(t[s],t[e[s]]):s=>t[s]:()=>t;for(let s of r)i[s]=My(a(s));return i}function $f(t){return yc(t,{top:"y",right:"x",bottom:"y",left:"x"})}function La(t){return yc(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Wi(t){let e=$f(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ai(t,e){t=t||{},e=e||He.font;let i=te(t.size,e.size);typeof i=="string"&&(i=parseInt(i,10));let n=te(t.style,e.style);n&&!(""+n).match(Py)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);let r={family:te(t.family,e.family),lineHeight:Ny(te(t.lineHeight,e.lineHeight),i),size:i,style:n,weight:te(t.weight,e.weight),string:""};return r.string=Ay(r),r}function oo(t,e,i,n){let r=!0,a,s,o;for(a=0,s=t.length;a<s;++a)if(o=t[a],o!==void 0&&(e!==void 0&&typeof o=="function"&&(o=o(e),r=!1),i!==void 0&&Ke(o)&&(o=o[i%o.length],r=!1),o!==void 0))return n&&!r&&(n.cacheable=!1),o}function sm(t,e,i){let{min:n,max:r}=t,a=Pf(e,(r-n)/2),s=(o,l)=>i&&o===0?0:o+l;return{min:s(n,-Math.abs(a)),max:s(r,a)}}function Wr(t,e){return Object.assign(Object.create(t),e)}function wc(t,e=[""],i,n,r=()=>t[0]){let a=i||t;typeof n>"u"&&(n=hm("_fallback",t));let s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:a,_fallback:n,_getTarget:r,override:o=>wc([o,...t],e,a,n)};return new Proxy(s,{deleteProperty(o,l){return delete o[l],delete o._keys,delete t[0][l],!0},get(o,l){return om(o,l,()=>zy(l,e,t,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,l){return j1(o).includes(l)},ownKeys(o){return j1(o)},set(o,l,h){let c=o._storage||(o._storage=r());return o[l]=c[l]=h,delete o._keys,!0}})}function xs(t,e,i,n){let r={_cacheable:!1,_proxy:t,_context:e,_subProxy:i,_stack:new Set,_descriptors:Yf(t,n),setContext:a=>xs(t,a,i,n),override:a=>xs(t.override(a),e,i,n)};return new Proxy(r,{deleteProperty(a,s){return delete a[s],delete t[s],!0},get(a,s,o){return om(a,s,()=>Oy(a,s,o))},getOwnPropertyDescriptor(a,s){return a._descriptors.allKeys?Reflect.has(t,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,s)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(a,s){return Reflect.has(t,s)},ownKeys(){return Reflect.ownKeys(t)},set(a,s,o){return t[s]=o,delete a[s],!0}})}function Yf(t,e={scriptable:!0,indexable:!0}){let{_scriptable:i=e.scriptable,_indexable:n=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:i,indexable:n,isScriptable:Ur(i)?i:()=>i,isIndexable:Ur(n)?n:()=>n}}var Iy=(t,e)=>t?t+gc(e):e,Gf=(t,e)=>ge(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function om(t,e,i){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];let n=i();return t[e]=n,n}function Oy(t,e,i){let{_proxy:n,_context:r,_subProxy:a,_descriptors:s}=t,o=n[e];return Ur(o)&&s.isScriptable(e)&&(o=Ey(e,o,t,i)),Ke(o)&&o.length&&(o=Fy(e,o,t,s.isIndexable)),Gf(e,o)&&(o=xs(o,r,a&&a[e],s)),o}function Ey(t,e,i,n){let{_proxy:r,_context:a,_subProxy:s,_stack:o}=i;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let l=e(a,s||n);return o.delete(t),Gf(t,l)&&(l=Zf(r._scopes,r,t,l)),l}function Fy(t,e,i,n){let{_proxy:r,_context:a,_subProxy:s,_descriptors:o}=i;if(typeof a.index<"u"&&n(t))return e[a.index%e.length];if(ge(e[0])){let l=e,h=r._scopes.filter(c=>c!==l);e=[];for(let c of l){let p=Zf(h,r,t,c);e.push(xs(p,a,s&&s[t],o))}}return e}function lm(t,e,i){return Ur(t)?t(e,i):t}var Ry=(t,e)=>t===!0?e:typeof t=="string"?qr(e,t):void 0;function By(t,e,i,n,r){for(let a of e){let s=Ry(i,a);if(s){t.add(s);let o=lm(s._fallback,i,r);if(typeof o<"u"&&o!==i&&o!==n)return o}else if(s===!1&&typeof n<"u"&&i!==n)return null}return!1}function Zf(t,e,i,n){let r=e._rootScopes,a=lm(e._fallback,i,n),s=[...t,...r],o=new Set;o.add(n);let l=B1(o,s,i,a||i,n);return l===null||typeof a<"u"&&a!==i&&(l=B1(o,s,a,l,n),l===null)?!1:wc(Array.from(o),[""],r,a,()=>jy(e,i,n))}function B1(t,e,i,n,r){for(;i;)i=By(t,e,i,n,r);return i}function jy(t,e,i){let n=t._getTarget();e in n||(n[e]={});let r=n[e];return Ke(r)&&ge(i)?i:r||{}}function zy(t,e,i,n){let r;for(let a of e)if(r=hm(Iy(a,t),i),typeof r<"u")return Gf(t,r)?Zf(i,n,t,r):r}function hm(t,e){for(let i of e){if(!i)continue;let n=i[t];if(typeof n<"u")return n}}function j1(t){let e=t._keys;return e||(e=t._keys=Vy(t._scopes)),e}function Vy(t){let e=new Set;for(let i of t)for(let n of Object.keys(i).filter(r=>!r.startsWith("_")))e.add(n);return Array.from(e)}function Xf(t,e,i,n){let{iScale:r}=t,{key:a="r"}=this._parsing,s=new Array(n),o,l,h,c;for(o=0,l=n;o<l;++o)h=o+i,c=e[h],s[o]={r:r.parse(qr(c,a),h)};return s}var Uy=Number.EPSILON||1e-14,to=(t,e)=>e<t.length&&!t[e].skip&&t[e],cm=t=>t==="x"?"y":"x";function Hy(t,e,i,n){let r=t.skip?e:t,a=e,s=i.skip?e:i,o=dc(a,r),l=dc(s,a),h=o/(o+l),c=l/(o+l);h=isNaN(h)?0:h,c=isNaN(c)?0:c;let p=n*h,g=n*c;return{previous:{x:a.x-p*(s.x-r.x),y:a.y-p*(s.y-r.y)},next:{x:a.x+g*(s.x-r.x),y:a.y+g*(s.y-r.y)}}}function qy(t,e,i){let n=t.length,r,a,s,o,l,h=to(t,0);for(let c=0;c<n-1;++c)if(l=h,h=to(t,c+1),!(!l||!h)){if(no(e[c],0,Uy)){i[c]=i[c+1]=0;continue}r=i[c]/e[c],a=i[c+1]/e[c],o=Math.pow(r,2)+Math.pow(a,2),!(o<=9)&&(s=3/Math.sqrt(o),i[c]=r*s*e[c],i[c+1]=a*s*e[c])}}function Wy(t,e,i="x"){let n=cm(i),r=t.length,a,s,o,l=to(t,0);for(let h=0;h<r;++h){if(s=o,o=l,l=to(t,h+1),!o)continue;let c=o[i],p=o[n];s&&(a=(c-s[i])/3,o[`cp1${i}`]=c-a,o[`cp1${n}`]=p-a*e[h]),l&&(a=(l[i]-c)/3,o[`cp2${i}`]=c+a,o[`cp2${n}`]=p+a*e[h])}}function $y(t,e="x"){let i=cm(e),n=t.length,r=Array(n).fill(0),a=Array(n),s,o,l,h=to(t,0);for(s=0;s<n;++s)if(o=l,l=h,h=to(t,s+1),!!l){if(h){let c=h[e]-l[e];r[s]=c!==0?(h[i]-l[i])/c:0}a[s]=o?h?Qn(r[s-1])!==Qn(r[s])?0:(r[s-1]+r[s])/2:r[s-1]:r[s]}qy(t,r,a),Wy(t,a,e)}function hc(t,e,i){return Math.max(Math.min(t,i),e)}function Yy(t,e){let i,n,r,a,s,o=pr(t[0],e);for(i=0,n=t.length;i<n;++i)s=a,a=o,o=i<n-1&&pr(t[i+1],e),a&&(r=t[i],s&&(r.cp1x=hc(r.cp1x,e.left,e.right),r.cp1y=hc(r.cp1y,e.top,e.bottom)),o&&(r.cp2x=hc(r.cp2x,e.left,e.right),r.cp2y=hc(r.cp2y,e.top,e.bottom)))}function um(t,e,i,n,r){let a,s,o,l;if(e.spanGaps&&(t=t.filter(h=>!h.skip)),e.cubicInterpolationMode==="monotone")$y(t,r);else{let h=n?t[t.length-1]:t[0];for(a=0,s=t.length;a<s;++a)o=t[a],l=Hy(h,o,t[Math.min(a+1,s-(n?0:1))%s],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,h=o}e.capBezierPoints&&Yy(t,i)}function Sc(){return typeof window<"u"&&typeof document<"u"}function Cc(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function pc(t,e,i){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[i])):n=t,n}var Ac=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Gy(t,e){return Ac(t).getPropertyValue(e)}var Zy=["top","right","bottom","left"];function vs(t,e,i){let n={};i=i?"-"+i:"";for(let r=0;r<4;r++){let a=Zy[r];n[a]=parseFloat(t[e+"-"+a+i])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}var Xy=(t,e,i)=>(t>0||e>0)&&(!i||!i.shadowRoot);function Ky(t,e){let i=t.touches,n=i&&i.length?i[0]:t,{offsetX:r,offsetY:a}=n,s=!1,o,l;if(Xy(r,a,t.target))o=r,l=a;else{let h=e.getBoundingClientRect();o=n.clientX-h.left,l=n.clientY-h.top,s=!0}return{x:o,y:l,box:s}}function Ta(t,e){if("native"in t)return t;let{canvas:i,currentDevicePixelRatio:n}=e,r=Ac(i),a=r.boxSizing==="border-box",s=vs(r,"padding"),o=vs(r,"border","width"),{x:l,y:h,box:c}=Ky(t,i),p=s.left+(c&&o.left),g=s.top+(c&&o.top),{width:f,height:v}=e;return a&&(f-=s.width+o.width,v-=s.height+o.height),{x:Math.round((l-p)/f*i.width/n),y:Math.round((h-g)/v*i.height/n)}}function Jy(t,e,i){let n,r;if(e===void 0||i===void 0){let a=t&&Cc(t);if(!a)e=t.clientWidth,i=t.clientHeight;else{let s=a.getBoundingClientRect(),o=Ac(a),l=vs(o,"border","width"),h=vs(o,"padding");e=s.width-h.width-l.width,i=s.height-h.height-l.height,n=pc(o.maxWidth,a,"clientWidth"),r=pc(o.maxHeight,a,"clientHeight")}}return{width:e,height:i,maxWidth:n||fc,maxHeight:r||fc}}var Ca=t=>Math.round(t*10)/10;function fm(t,e,i,n){let r=Ac(t),a=vs(r,"margin"),s=pc(r.maxWidth,t,"clientWidth")||fc,o=pc(r.maxHeight,t,"clientHeight")||fc,l=Jy(t,e,i),{width:h,height:c}=l;if(r.boxSizing==="content-box"){let g=vs(r,"border","width"),f=vs(r,"padding");h-=f.width+g.width,c-=f.height+g.height}return h=Math.max(0,h-a.width),c=Math.max(0,n?h/n:c-a.height),h=Ca(Math.min(h,s,l.maxWidth)),c=Ca(Math.min(c,o,l.maxHeight)),h&&!c&&(c=Ca(h/2)),(e!==void 0||i!==void 0)&&n&&l.height&&c>l.height&&(c=l.height,h=Ca(Math.floor(c*n))),{width:h,height:c}}function Kf(t,e,i){let n=e||1,r=Ca(t.height*n),a=Ca(t.width*n);t.height=Ca(t.height),t.width=Ca(t.width);let s=t.canvas;return s.style&&(i||!s.style.height&&!s.style.width)&&(s.style.height=`${t.height}px`,s.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||s.height!==r||s.width!==a?(t.currentDevicePixelRatio=n,s.height=r,s.width=a,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}var dm=function(){let t=!1;try{let e={get passive(){return t=!0,!1}};Sc()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Jf(t,e){let i=Gy(t,e),n=i&&i.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Sa(t,e,i,n){return{x:t.x+i*(e.x-t.x),y:t.y+i*(e.y-t.y)}}function pm(t,e,i,n){return{x:t.x+i*(e.x-t.x),y:n==="middle"?i<.5?t.y:e.y:n==="after"?i<1?t.y:e.y:i>0?e.y:t.y}}function gm(t,e,i,n){let r={x:t.cp2x,y:t.cp2y},a={x:e.cp1x,y:e.cp1y},s=Sa(t,r,i),o=Sa(r,a,i),l=Sa(a,e,i),h=Sa(s,o,i),c=Sa(o,l,i);return Sa(h,c,i)}var Qy=function(t,e){return{x(i){return t+t+e-i},setWidth(i){e=i},textAlign(i){return i==="center"?i:i==="right"?"left":"right"},xPlus(i,n){return i-n},leftForLtr(i,n){return i-n}}},tw=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function ys(t,e,i){return t?Qy(e,i):tw()}function Qf(t,e){let i,n;(e==="ltr"||e==="rtl")&&(i=t.canvas.style,n=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",e,"important"),t.prevTextDirection=n)}function td(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function mm(t){return t==="angle"?{between:ro,compare:by,normalize:Hi}:{between:mr,compare:(e,i)=>e-i,normalize:e=>e}}function z1({start:t,end:e,count:i,loop:n,style:r}){return{start:t%i,end:e%i,loop:n&&(e-t+1)%i===0,style:r}}function ew(t,e,i){let{property:n,start:r,end:a}=i,{between:s,normalize:o}=mm(n),l=e.length,{start:h,end:c,loop:p}=t,g,f;if(p){for(h+=l,c+=l,g=0,f=l;g<f&&s(o(e[h%l][n]),r,a);++g)h--,c--;h%=l,c%=l}return c<h&&(c+=l),{start:h,end:c,loop:p,style:t.style}}function ed(t,e,i){if(!i)return[t];let{property:n,start:r,end:a}=i,s=e.length,{compare:o,between:l,normalize:h}=mm(n),{start:c,end:p,loop:g,style:f}=ew(t,e,i),v=[],x=!1,y=null,w,A,N,T=()=>l(r,N,w)&&o(r,N)!==0,F=()=>o(a,w)===0||l(a,N,w),$=()=>x||T(),K=()=>!x||F();for(let z=c,E=c;z<=p;++z)A=e[z%s],!A.skip&&(w=h(A[n]),w!==N&&(x=l(w,r,a),y===null&&$()&&(y=o(w,r)===0?z:E),y!==null&&K()&&(v.push(z1({start:y,end:z,loop:g,count:s,style:f})),y=null),E=z,N=w));return y!==null&&v.push(z1({start:y,end:p,loop:g,count:s,style:f})),v}function id(t,e){let i=[],n=t.segments;for(let r=0;r<n.length;r++){let a=ed(n[r],t.points,e);a.length&&i.push(...a)}return i}function iw(t,e,i,n){let r=0,a=e-1;if(i&&!n)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,i&&(a+=r);a>r&&t[a%e].skip;)a--;return a%=e,{start:r,end:a}}function nw(t,e,i,n){let r=t.length,a=[],s=e,o=t[e],l;for(l=e+1;l<=i;++l){let h=t[l%r];h.skip||h.stop?o.skip||(n=!1,a.push({start:e%r,end:(l-1)%r,loop:n}),e=s=h.stop?l:null):(s=l,o.skip&&(e=l)),o=h}return s!==null&&a.push({start:e%r,end:s%r,loop:n}),a}function bm(t,e){let i=t.points,n=t.options.spanGaps,r=i.length;if(!r)return[];let a=!!t._loop,{start:s,end:o}=iw(i,r,a,n);if(n===!0)return V1(t,[{start:s,end:o,loop:a}],i,e);let l=o<s?o+r:o,h=!!t._fullLoop&&s===0&&o===r-1;return V1(t,nw(i,s,l,h),i,e)}function V1(t,e,i,n){return!n||!n.setContext||!i?e:rw(t,e,i,n)}function rw(t,e,i,n){let r=t._chart.getContext(),a=U1(t.options),{_datasetIndex:s,options:{spanGaps:o}}=t,l=i.length,h=[],c=a,p=e[0].start,g=p;function f(v,x,y,w){let A=o?-1:1;if(v!==x){for(v+=l;i[v%l].skip;)v-=A;for(;i[x%l].skip;)x+=A;v%l!==x%l&&(h.push({start:v%l,end:x%l,loop:y,style:w}),c=w,p=x%l)}}for(let v of e){p=o?p:v.start;let x=i[p%l],y;for(g=p+1;g<=v.end;g++){let w=i[g%l];y=U1(n.setContext(Wr(r,{type:"segment",p0:x,p1:w,p0DataIndex:(g-1)%l,p1DataIndex:g%l,datasetIndex:s}))),aw(y,c)&&f(p,g-1,v.loop,c),x=w,c=y}p<g-1&&f(p,g-1,v.loop,c)}return h}function U1(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function aw(t,e){if(!e)return!1;let i=[],n=function(r,a){return Uf(a)?(i.includes(a)||i.push(a),i.indexOf(a)):a};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function cc(t,e,i){return t.options.clip?t[i]:e[i]}function sw(t,e){let{xScale:i,yScale:n}=t;return i&&n?{left:cc(i,e,"left"),right:cc(i,e,"right"),top:cc(n,e,"top"),bottom:cc(n,e,"bottom")}:e}function nd(t,e){let i=e._clip;if(i.disabled)return!1;let n=sw(e,t.chartArea);return{left:i.left===!1?0:n.left-(i.left===!0?0:i.left),right:i.right===!1?t.width:n.right+(i.right===!0?0:i.right),top:i.top===!1?0:n.top-(i.top===!0?0:i.top),bottom:i.bottom===!1?t.height:n.bottom+(i.bottom===!0?0:i.bottom)}}var gd=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,i,n,r){let a=i.listeners[r],s=i.duration;a.forEach(o=>o({chart:e,initial:i.initial,numSteps:s,currentStep:Math.min(n-i.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=Bf.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let i=0;this._charts.forEach((n,r)=>{if(!n.running||!n.items.length)return;let a=n.items,s=a.length-1,o=!1,l;for(;s>=0;--s)l=a[s],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(e),o=!0):(a[s]=a[a.length-1],a.pop());o&&(r.draw(),this._notify(r,n,e,"progress")),a.length||(n.running=!1,this._notify(r,n,e,"complete"),n.initial=!1),i+=a.length}),this._lastDate=e,i===0&&(this._running=!1)}_getAnims(e){let i=this._charts,n=i.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},i.set(e,n)),n}listen(e,i,n){this._getAnims(e).listeners[i].push(n)}add(e,i){!i||!i.length||this._getAnims(e).items.push(...i)}has(e){return this._getAnims(e).items.length>0}start(e){let i=this._charts.get(e);i&&(i.running=!0,i.start=Date.now(),i.duration=i.items.reduce((n,r)=>Math.max(n,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;let i=this._charts.get(e);return!(!i||!i.running||!i.items.length)}stop(e){let i=this._charts.get(e);if(!i||!i.items.length)return;let n=i.items,r=n.length-1;for(;r>=0;--r)n[r].cancel();i.items=[],this._notify(e,i,Date.now(),"complete")}remove(e){return this._charts.delete(e)}},$r=new gd,vm="transparent",ow={boolean(t,e,i){return i>.5?e:t},color(t,e,i){let n=Hf(t||vm),r=n.valid&&Hf(e||vm);return r&&r.valid?r.mix(n,i).hexString():e},number(t,e,i){return t+(e-t)*i}},md=class{constructor(e,i,n,r){let a=i[n];r=oo([e.to,r,a,e.from]);let s=oo([e.from,a,r]);this._active=!0,this._fn=e.fn||ow[e.type||typeof s],this._easing=Js[e.easing]||Js.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=i,this._prop=n,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(e,i,n){if(this._active){this._notify(!1);let r=this._target[this._prop],a=n-this._start,s=this._duration-a;this._start=n,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=oo([e.to,i,r,e.from]),this._from=oo([e.from,r,i])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){let i=e-this._start,n=this._duration,r=this._prop,a=this._from,s=this._loop,o=this._to,l;if(this._active=a!==o&&(s||i<n),!this._active){this._target[r]=o,this._notify(!0);return}if(i<0){this._target[r]=a;return}l=i/n%2,l=s&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(a,o,l)}wait(){let e=this._promises||(this._promises=[]);return new Promise((i,n)=>{e.push({res:i,rej:n})})}_notify(e){let i=e?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][i]()}},Oc=class{constructor(e,i){this._chart=e,this._properties=new Map,this.configure(i)}configure(e){if(!ge(e))return;let i=Object.keys(He.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{let a=e[r];if(!ge(a))return;let s={};for(let o of i)s[o]=a[o];(Ke(a.properties)&&a.properties||[r]).forEach(o=>{(o===r||!n.has(o))&&n.set(o,s)})})}_animateOptions(e,i){let n=i.options,r=hw(e,n);if(!r)return[];let a=this._createAnimations(r,n);return n.$shared&&lw(e.options.$animations,n).then(()=>{e.options=n},()=>{}),a}_createAnimations(e,i){let n=this._properties,r=[],a=e.$animations||(e.$animations={}),s=Object.keys(i),o=Date.now(),l;for(l=s.length-1;l>=0;--l){let h=s[l];if(h.charAt(0)==="$")continue;if(h==="options"){r.push(...this._animateOptions(e,i));continue}let c=i[h],p=a[h],g=n.get(h);if(p)if(g&&p.active()){p.update(g,c,o);continue}else p.cancel();if(!g||!g.duration){e[h]=c;continue}a[h]=p=new md(g,e,h,c),r.push(p)}return r}update(e,i){if(this._properties.size===0){Object.assign(e,i);return}let n=this._createAnimations(e,i);if(n.length)return $r.add(this._chart,n),!0}};function lw(t,e){let i=[],n=Object.keys(e);for(let r=0;r<n.length;r++){let a=t[n[r]];a&&a.active()&&i.push(a.wait())}return Promise.all(i)}function hw(t,e){if(!e)return;let i=t.options;if(!i){t.options=e;return}return i.$shared&&(t.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i}function xm(t,e){let i=t&&t.options||{},n=i.reverse,r=i.min===void 0?e:0,a=i.max===void 0?e:0;return{start:n?a:r,end:n?r:a}}function cw(t,e,i){if(i===!1)return!1;let n=xm(t,i),r=xm(e,i);return{top:r.end,right:n.end,bottom:r.start,left:n.start}}function uw(t){let e,i,n,r;return ge(t)?(e=t.top,i=t.right,n=t.bottom,r=t.left):e=i=n=r=t,{top:e,right:i,bottom:n,left:r,disabled:t===!1}}function v2(t,e){let i=[],n=t._getSortedDatasetMetas(e),r,a;for(r=0,a=n.length;r<a;++r)i.push(n[r].index);return i}function _m(t,e,i,n={}){let r=t.keys,a=n.mode==="single",s,o,l,h;if(e===null)return;let c=!1;for(s=0,o=r.length;s<o;++s){if(l=+r[s],l===i){if(c=!0,n.all)continue;break}h=t.values[l],ni(h)&&(a||e===0||Qn(e)===Qn(h))&&(e+=h)}return!c&&!n.all?0:e}function fw(t,e){let{iScale:i,vScale:n}=e,r=i.axis==="x"?"x":"y",a=n.axis==="x"?"x":"y",s=Object.keys(t),o=new Array(s.length),l,h,c;for(l=0,h=s.length;l<h;++l)c=s[l],o[l]={[r]:c,[a]:t[c]};return o}function rd(t,e){let i=t&&t.options.stacked;return i||i===void 0&&e.stack!==void 0}function dw(t,e,i){return`${t.id}.${e.id}.${i.stack||i.type}`}function pw(t){let{min:e,max:i,minDefined:n,maxDefined:r}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:r?i:Number.POSITIVE_INFINITY}}function gw(t,e,i){let n=t[e]||(t[e]={});return n[i]||(n[i]={})}function ym(t,e,i,n){for(let r of e.getMatchingVisibleMetas(n).reverse()){let a=t[r.index];if(i&&a>0||!i&&a<0)return r.index}return null}function wm(t,e){let{chart:i,_cachedMeta:n}=t,r=i._stacks||(i._stacks={}),{iScale:a,vScale:s,index:o}=n,l=a.axis,h=s.axis,c=dw(a,s,n),p=e.length,g;for(let f=0;f<p;++f){let v=e[f],{[l]:x,[h]:y}=v,w=v._stacks||(v._stacks={});g=w[h]=gw(r,c,x),g[o]=y,g._top=ym(g,s,!0,n.type),g._bottom=ym(g,s,!1,n.type);let A=g._visualValues||(g._visualValues={});A[o]=y}}function ad(t,e){let i=t.scales;return Object.keys(i).filter(n=>i[n].axis===e).shift()}function mw(t,e){return Wr(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function bw(t,e,i){return Wr(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:i,index:e,mode:"default",type:"data"})}function Dl(t,e){let i=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(let r of e){let a=r._stacks;if(!a||a[n]===void 0||a[n][i]===void 0)return;delete a[n][i],a[n]._visualValues!==void 0&&a[n]._visualValues[i]!==void 0&&delete a[n]._visualValues[i]}}}var sd=t=>t==="reset"||t==="none",Sm=(t,e)=>e?t:Object.assign({},t),vw=(t,e,i)=>t&&!e.hidden&&e._stacked&&{keys:v2(i,!0),values:null},Na=(()=>{class t{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(i,n){this.chart=i,this._ctx=i.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let i=this._cachedMeta;this.configure(),this.linkScales(),i._stacked=rd(i.vScale,i),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(i){this.index!==i&&Dl(this._cachedMeta),this.index=i}linkScales(){let i=this.chart,n=this._cachedMeta,r=this.getDataset(),a=(g,f,v,x)=>g==="x"?f:g==="r"?x:v,s=n.xAxisID=te(r.xAxisID,ad(i,"x")),o=n.yAxisID=te(r.yAxisID,ad(i,"y")),l=n.rAxisID=te(r.rAxisID,ad(i,"r")),h=n.indexAxis,c=n.iAxisID=a(h,s,o,l),p=n.vAxisID=a(h,o,s,l);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(i){return this.chart.scales[i]}_getOtherScale(i){let n=this._cachedMeta;return i===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){let i=this._cachedMeta;this._data&&Ff(this._data,this),i._stacked&&Dl(i)}_dataCheck(){let i=this.getDataset(),n=i.data||(i.data=[]),r=this._data;if(ge(n)){let a=this._cachedMeta;this._data=fw(n,a)}else if(r!==n){if(r){Ff(r,this);let a=this._cachedMeta;Dl(a),a._parsed=[]}n&&Object.isExtensible(n)&&Q1(n,this),this._syncList=[],this._data=n}}addElements(){let i=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(i.dataset=new this.datasetElementType)}buildOrUpdateElements(i){let n=this._cachedMeta,r=this.getDataset(),a=!1;this._dataCheck();let s=n._stacked;n._stacked=rd(n.vScale,n),n.stack!==r.stack&&(a=!0,Dl(n),n.stack=r.stack),this._resyncElements(i),(a||s!==n._stacked)&&(wm(this,n._parsed),n._stacked=rd(n.vScale,n))}configure(){let i=this.chart.config,n=i.datasetScopeKeys(this._type),r=i.getOptionScopes(this.getDataset(),n,!0);this.options=i.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(i,n){let{_cachedMeta:r,_data:a}=this,{iScale:s,_stacked:o}=r,l=s.axis,h=i===0&&n===a.length?!0:r._sorted,c=i>0&&r._parsed[i-1],p,g,f;if(this._parsing===!1)r._parsed=a,r._sorted=!0,f=a;else{Ke(a[i])?f=this.parseArrayData(r,a,i,n):ge(a[i])?f=this.parseObjectData(r,a,i,n):f=this.parsePrimitiveData(r,a,i,n);let v=()=>g[l]===null||c&&g[l]<c[l];for(p=0;p<n;++p)r._parsed[p+i]=g=f[p],h&&(v()&&(h=!1),c=g);r._sorted=h}o&&wm(this,f)}parsePrimitiveData(i,n,r,a){let{iScale:s,vScale:o}=i,l=s.axis,h=o.axis,c=s.getLabels(),p=s===o,g=new Array(a),f,v,x;for(f=0,v=a;f<v;++f)x=f+r,g[f]={[l]:p||s.parse(c[x],x),[h]:o.parse(n[x],x)};return g}parseArrayData(i,n,r,a){let{xScale:s,yScale:o}=i,l=new Array(a),h,c,p,g;for(h=0,c=a;h<c;++h)p=h+r,g=n[p],l[h]={x:s.parse(g[0],p),y:o.parse(g[1],p)};return l}parseObjectData(i,n,r,a){let{xScale:s,yScale:o}=i,{xAxisKey:l="x",yAxisKey:h="y"}=this._parsing,c=new Array(a),p,g,f,v;for(p=0,g=a;p<g;++p)f=p+r,v=n[f],c[p]={x:s.parse(qr(v,l),f),y:o.parse(qr(v,h),f)};return c}getParsed(i){return this._cachedMeta._parsed[i]}getDataElement(i){return this._cachedMeta.data[i]}applyStack(i,n,r){let a=this.chart,s=this._cachedMeta,o=n[i.axis],l={keys:v2(a,!0),values:n._stacks[i.axis]._visualValues};return _m(l,o,s.index,{mode:r})}updateRangeFromParsed(i,n,r,a){let s=r[n.axis],o=s===null?NaN:s,l=a&&r._stacks[n.axis];a&&l&&(a.values=l,o=_m(a,s,this._cachedMeta.index)),i.min=Math.min(i.min,o),i.max=Math.max(i.max,o)}getMinMax(i,n){let r=this._cachedMeta,a=r._parsed,s=r._sorted&&i===r.iScale,o=a.length,l=this._getOtherScale(i),h=vw(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:g}=pw(l),f,v;function x(){v=a[f];let y=v[l.axis];return!ni(v[i.axis])||p>y||g<y}for(f=0;f<o&&!(!x()&&(this.updateRangeFromParsed(c,i,v,h),s));++f);if(s){for(f=o-1;f>=0;--f)if(!x()){this.updateRangeFromParsed(c,i,v,h);break}}return c}getAllParsedValues(i){let n=this._cachedMeta._parsed,r=[],a,s,o;for(a=0,s=n.length;a<s;++a)o=n[a][i.axis],ni(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(i){let n=this._cachedMeta,r=n.iScale,a=n.vScale,s=this.getParsed(i);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:a?""+a.getLabelForValue(s[a.axis]):""}}_update(i){let n=this._cachedMeta;this.update(i||"default"),n._clip=uw(te(this.options.clip,cw(n.xScale,n.yScale,this.getMaxOverflow())))}update(i){}draw(){let i=this._ctx,n=this.chart,r=this._cachedMeta,a=r.data||[],s=n.chartArea,o=[],l=this._drawStart||0,h=this._drawCount||a.length-l,c=this.options.drawActiveElementsOnTop,p;for(r.dataset&&r.dataset.draw(i,s,l,h),p=l;p<l+h;++p){let g=a[p];g.hidden||(g.active&&c?o.push(g):g.draw(i,s))}for(p=0;p<o.length;++p)o[p].draw(i,s)}getStyle(i,n){let r=n?"active":"default";return i===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(i||0,r)}getContext(i,n,r){let a=this.getDataset(),s;if(i>=0&&i<this._cachedMeta.data.length){let o=this._cachedMeta.data[i];s=o.$context||(o.$context=bw(this.getContext(),i,o)),s.parsed=this.getParsed(i),s.raw=a.data[i],s.index=s.dataIndex=i}else s=this.$context||(this.$context=mw(this.chart.getContext(),this.index)),s.dataset=a,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(i){return this._resolveElementOptions(this.datasetElementType.id,i)}resolveDataElementOptions(i,n){return this._resolveElementOptions(this.dataElementType.id,n,i)}_resolveElementOptions(i,n="default",r){let a=n==="active",s=this._cachedDataOpts,o=i+"-"+n,l=s[o],h=this.enableOptionSharing&&io(r);if(l)return Sm(l,h);let c=this.chart.config,p=c.datasetElementScopeKeys(this._type,i),g=a?[`${i}Hover`,"hover",i,""]:[i,""],f=c.getOptionScopes(this.getDataset(),p),v=Object.keys(He.elements[i]),x=()=>this.getContext(r,a,n),y=c.resolveNamedOptions(f,v,x,g);return y.$shared&&(y.$shared=h,s[o]=Object.freeze(Sm(y,h))),y}_resolveAnimations(i,n,r){let a=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,l=s[o];if(l)return l;let h;if(a.options.animation!==!1){let p=this.chart.config,g=p.datasetAnimationScopeKeys(this._type,n),f=p.getOptionScopes(this.getDataset(),g);h=p.createResolver(f,this.getContext(i,r,n))}let c=new Oc(a,h&&h.animations);return h&&h._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(i){if(i.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},i))}includeOptions(i,n){return!n||sd(i)||this.chart._animationsDisabled}_getSharedOptions(i,n){let r=this.resolveDataElementOptions(i,n),a=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==a;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(i,n,r,a){sd(a)?Object.assign(i,r):this._resolveAnimations(n,a).update(i,r)}updateSharedOptions(i,n,r){i&&!sd(n)&&this._resolveAnimations(void 0,n).update(i,r)}_setStyle(i,n,r,a){i.active=a;let s=this.getStyle(n,a);this._resolveAnimations(n,r,a).update(i,{options:!a&&this.getSharedOptions(s)||s})}removeHoverStyle(i,n,r){this._setStyle(i,r,"active",!1)}setHoverStyle(i,n,r){this._setStyle(i,r,"active",!0)}_removeDatasetHoverStyle(){let i=this._cachedMeta.dataset;i&&this._setStyle(i,void 0,"active",!1)}_setDatasetHoverStyle(){let i=this._cachedMeta.dataset;i&&this._setStyle(i,void 0,"active",!0)}_resyncElements(i){let n=this._data,r=this._cachedMeta.data;for(let[l,h,c]of this._syncList)this[l](h,c);this._syncList=[];let a=r.length,s=n.length,o=Math.min(s,a);o&&this.parse(0,o),s>a?this._insertElements(a,s-a,i):s<a&&this._removeElements(s,a-s)}_insertElements(i,n,r=!0){let a=this._cachedMeta,s=a.data,o=i+n,l,h=c=>{for(c.length+=n,l=c.length-1;l>=o;l--)c[l]=c[l-n]};for(h(s),l=i;l<o;++l)s[l]=new this.dataElementType;this._parsing&&h(a._parsed),this.parse(i,n),r&&this.updateElements(s,i,n,"reset")}updateElements(i,n,r,a){}_removeElements(i,n){let r=this._cachedMeta;if(this._parsing){let a=r._parsed.splice(i,n);r._stacked&&Dl(r,a)}r.data.splice(i,n)}_sync(i){if(this._parsing)this._syncList.push(i);else{let[n,r,a]=i;this[n](r,a)}this.chart._dataChanges.push([this.index,...i])}_onDataPush(){let i=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-i,i])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(i,n){n&&this._sync(["_removeElements",i,n]);let r=arguments.length-2;r&&this._sync(["_insertElements",i,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return t})();function xw(t,e){if(!t._cache.$bar){let i=t.getMatchingVisibleMetas(e),n=[];for(let r=0,a=i.length;r<a;r++)n=n.concat(i[r].controller.getAllParsedValues(t));t._cache.$bar=Rf(n.sort((r,a)=>r-a))}return t._cache.$bar}function _w(t){let e=t.iScale,i=xw(e,t.type),n=e._length,r,a,s,o,l=()=>{s===32767||s===-32768||(io(o)&&(n=Math.min(n,Math.abs(s-o)||n)),o=s)};for(r=0,a=i.length;r<a;++r)s=e.getPixelForValue(i[r]),l();for(o=void 0,r=0,a=e.ticks.length;r<a;++r)s=e.getPixelForTick(r),l();return n}function yw(t,e,i,n){let r=i.barThickness,a,s;return pe(r)?(a=e.min*i.categoryPercentage,s=i.barPercentage):(a=r*n,s=1),{chunk:a/n,ratio:s,start:e.pixels[t]-a/2}}function ww(t,e,i,n){let r=e.pixels,a=r[t],s=t>0?r[t-1]:null,o=t<r.length-1?r[t+1]:null,l=i.categoryPercentage;s===null&&(s=a-(o===null?e.end-e.start:o-a)),o===null&&(o=a+a-s);let h=a-(a-Math.min(s,o))/2*l;return{chunk:Math.abs(o-s)/2*l/n,ratio:i.barPercentage,start:h}}function Sw(t,e,i,n){let r=i.parse(t[0],n),a=i.parse(t[1],n),s=Math.min(r,a),o=Math.max(r,a),l=s,h=o;Math.abs(s)>Math.abs(o)&&(l=o,h=s),e[i.axis]=h,e._custom={barStart:l,barEnd:h,start:r,end:a,min:s,max:o}}function x2(t,e,i,n){return Ke(t)?Sw(t,e,i,n):e[i.axis]=i.parse(t,n),e}function Cm(t,e,i,n){let r=t.iScale,a=t.vScale,s=r.getLabels(),o=r===a,l=[],h,c,p,g;for(h=i,c=i+n;h<c;++h)g=e[h],p={},p[r.axis]=o||r.parse(s[h],h),l.push(x2(g,p,a,h));return l}function od(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function Cw(t,e,i){return t!==0?Qn(t):(e.isHorizontal()?1:-1)*(e.min>=i?1:-1)}function Aw(t){let e,i,n,r,a;return t.horizontal?(e=t.base>t.x,i="left",n="right"):(e=t.base<t.y,i="bottom",n="top"),e?(r="end",a="start"):(r="start",a="end"),{start:i,end:n,reverse:e,top:r,bottom:a}}function kw(t,e,i,n){let r=e.borderSkipped,a={};if(!r){t.borderSkipped=a;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:s,end:o,reverse:l,top:h,bottom:c}=Aw(t);r==="middle"&&i&&(t.enableBorderRadius=!0,(i._top||0)===n?r=h:(i._bottom||0)===n?r=c:(a[Am(c,s,o,l)]=!0,r=h)),a[Am(r,s,o,l)]=!0,t.borderSkipped=a}function Am(t,e,i,n){return n?(t=Dw(t,e,i),t=km(t,i,e)):t=km(t,e,i),t}function Dw(t,e,i){return t===e?i:t===i?e:t}function km(t,e,i){return t==="start"?e:t==="end"?i:t}function Lw(t,{inflateAmount:e},i){t.inflateAmount=e==="auto"?i===1?.33:0:e}var Tw=(()=>{class t extends Na{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(i,n,r,a){return Cm(i,n,r,a)}parseArrayData(i,n,r,a){return Cm(i,n,r,a)}parseObjectData(i,n,r,a){let{iScale:s,vScale:o}=i,{xAxisKey:l="x",yAxisKey:h="y"}=this._parsing,c=s.axis==="x"?l:h,p=o.axis==="x"?l:h,g=[],f,v,x,y;for(f=r,v=r+a;f<v;++f)y=n[f],x={},x[s.axis]=s.parse(qr(y,c),f),g.push(x2(qr(y,p),x,o,f));return g}updateRangeFromParsed(i,n,r,a){super.updateRangeFromParsed(i,n,r,a);let s=r._custom;s&&n===this._cachedMeta.vScale&&(i.min=Math.min(i.min,s.min),i.max=Math.max(i.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(i){let n=this._cachedMeta,{iScale:r,vScale:a}=n,s=this.getParsed(i),o=s._custom,l=od(o)?"["+o.start+", "+o.end+"]":""+a.getLabelForValue(s[a.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();let i=this._cachedMeta;i.stack=this.getDataset().stack}update(i){let n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,i)}updateElements(i,n,r,a){let s=a==="reset",{index:o,_cachedMeta:{vScale:l}}=this,h=l.getBasePixel(),c=l.isHorizontal(),p=this._getRuler(),{sharedOptions:g,includeOptions:f}=this._getSharedOptions(n,a);for(let v=n;v<n+r;v++){let x=this.getParsed(v),y=s||pe(x[l.axis])?{base:h,head:h}:this._calculateBarValuePixels(v),w=this._calculateBarIndexPixels(v,p),A=(x._stacks||{})[l.axis],N={horizontal:c,base:y.base,enableBorderRadius:!A||od(x._custom)||o===A._top||o===A._bottom,x:c?y.head:w.center,y:c?w.center:y.head,height:c?w.size:Math.abs(y.size),width:c?Math.abs(y.size):w.size};f&&(N.options=g||this.resolveDataElementOptions(v,i[v].active?"active":a));let T=N.options||i[v].options;kw(N,T,A,o),Lw(N,T,p.ratio),this.updateElement(i[v],v,N,a)}}_getStacks(i,n){let{iScale:r}=this._cachedMeta,a=r.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),s=r.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(n),h=l&&l[r.axis],c=p=>{let g=p._parsed.find(v=>v[r.axis]===h),f=g&&g[p.vScale.axis];if(pe(f)||isNaN(f))return!0};for(let p of a)if(!(n!==void 0&&c(p))&&((s===!1||o.indexOf(p.stack)===-1||s===void 0&&p.stack===void 0)&&o.push(p.stack),p.index===i))break;return o.length||o.push(void 0),o}_getStackCount(i){return this._getStacks(void 0,i).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){let i=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(i).filter(r=>i[r].axis===n).shift()}_getAxis(){let i={},n=this.getFirstScaleIdForIndexAxis();for(let r of this.chart.data.datasets)i[te(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(i)}_getStackIndex(i,n,r){let a=this._getStacks(i,r),s=n!==void 0?a.indexOf(n):-1;return s===-1?a.length-1:s}_getRuler(){let i=this.options,n=this._cachedMeta,r=n.iScale,a=[],s,o;for(s=0,o=n.data.length;s<o;++s)a.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));let l=i.barThickness;return{min:l||_w(n),pixels:a,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:i.grouped,ratio:l?1:i.categoryPercentage*i.barPercentage}}_calculateBarValuePixels(i){let{_cachedMeta:{vScale:n,_stacked:r,index:a},options:{base:s,minBarLength:o}}=this,l=s||0,h=this.getParsed(i),c=h._custom,p=od(c),g=h[n.axis],f=0,v=r?this.applyStack(n,h,r):g,x,y;v!==g&&(f=v-g,v=g),p&&(g=c.barStart,v=c.barEnd-c.barStart,g!==0&&Qn(g)!==Qn(c.barEnd)&&(f=0),f+=g);let w=!pe(s)&&!p?s:f,A=n.getPixelForValue(w);if(this.chart.getDataVisibility(i)?x=n.getPixelForValue(f+v):x=A,y=x-A,Math.abs(y)<o){y=Cw(y,n,l)*o,g===l&&(A-=y/2);let N=n.getPixelForDecimal(0),T=n.getPixelForDecimal(1),F=Math.min(N,T),$=Math.max(N,T);A=Math.max(Math.min(A,$),F),x=A+y,r&&!p&&(h._stacks[n.axis]._visualValues[a]=n.getValueForPixel(x)-n.getValueForPixel(A))}if(A===n.getPixelForValue(l)){let N=Qn(y)*n.getLineWidthForValue(l)/2;A+=N,y-=N}return{size:y,base:A,head:x,center:x+y/2}}_calculateBarIndexPixels(i,n){let r=n.scale,a=this.options,s=a.skipNull,o=te(a.maxBarThickness,1/0),l,h,c=this._getAxisCount();if(n.grouped){let p=s?this._getStackCount(i):n.stackCount,g=a.barThickness==="flex"?ww(i,n,a,p*c):yw(i,n,a,p*c),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,v=this._getAxis().indexOf(te(f,this.getFirstScaleIdForIndexAxis())),x=this._getStackIndex(this.index,this._cachedMeta.stack,s?i:void 0)+v;l=g.start+g.chunk*x+g.chunk/2,h=Math.min(o,g.chunk*g.ratio)}else l=r.getPixelForValue(this.getParsed(i)[r.axis],i),h=Math.min(o,n.min*n.ratio);return{base:l-h/2,head:l+h/2,center:l,size:h}}draw(){let i=this._cachedMeta,n=i.vScale,r=i.data,a=r.length,s=0;for(;s<a;++s)this.getParsed(s)[n.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}return t})(),Pw=(()=>{class t extends Na{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(i,n,r,a){let s=super.parsePrimitiveData(i,n,r,a);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+r).radius;return s}parseArrayData(i,n,r,a){let s=super.parseArrayData(i,n,r,a);for(let o=0;o<s.length;o++){let l=n[r+o];s[o]._custom=te(l[2],this.resolveDataElementOptions(o+r).radius)}return s}parseObjectData(i,n,r,a){let s=super.parseObjectData(i,n,r,a);for(let o=0;o<s.length;o++){let l=n[r+o];s[o]._custom=te(l&&l.r&&+l.r,this.resolveDataElementOptions(o+r).radius)}return s}getMaxOverflow(){let i=this._cachedMeta.data,n=0;for(let r=i.length-1;r>=0;--r)n=Math.max(n,i[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(i){let n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:a,yScale:s}=n,o=this.getParsed(i),l=a.getLabelForValue(o.x),h=s.getLabelForValue(o.y),c=o._custom;return{label:r[i]||"",value:"("+l+", "+h+(c?", "+c:"")+")"}}update(i){let n=this._cachedMeta.data;this.updateElements(n,0,n.length,i)}updateElements(i,n,r,a){let s=a==="reset",{iScale:o,vScale:l}=this._cachedMeta,{sharedOptions:h,includeOptions:c}=this._getSharedOptions(n,a),p=o.axis,g=l.axis;for(let f=n;f<n+r;f++){let v=i[f],x=!s&&this.getParsed(f),y={},w=y[p]=s?o.getPixelForDecimal(.5):o.getPixelForValue(x[p]),A=y[g]=s?l.getBasePixel():l.getPixelForValue(x[g]);y.skip=isNaN(w)||isNaN(A),c&&(y.options=h||this.resolveDataElementOptions(f,v.active?"active":a),s&&(y.options.radius=0)),this.updateElement(v,f,y,a)}}resolveDataElementOptions(i,n){let r=this.getParsed(i),a=super.resolveDataElementOptions(i,n);a.$shared&&(a=Object.assign({},a,{$shared:!1}));let s=a.radius;return n!=="active"&&(a.radius=0),a.radius+=te(r&&r._custom,s),a}}return t})();function Nw(t,e,i){let n=1,r=1,a=0,s=0;if(e<Je){let o=t,l=o+e,h=Math.cos(o),c=Math.sin(o),p=Math.cos(l),g=Math.sin(l),f=(N,T,F)=>ro(N,o,l,!0)?1:Math.max(T,T*i,F,F*i),v=(N,T,F)=>ro(N,o,l,!0)?-1:Math.min(T,T*i,F,F*i),x=f(0,h,p),y=f(ci,c,g),w=v(Se,h,p),A=v(Se+ci,c,g);n=(x-w)/2,r=(y-A)/2,a=-(x+w)/2,s=-(y+A)/2}return{ratioX:n,ratioY:r,offsetX:a,offsetY:s}}var Fd=(()=>{class t extends Na{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:i=>i!=="spacing",_indexable:i=>i!=="spacing"&&!i.startsWith("borderDash")&&!i.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){let n=i.data,{labels:{pointStyle:r,textAlign:a,color:s,useBorderRadius:o,borderRadius:l}}=i.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((h,c)=>{let g=i.getDatasetMeta(0).controller.getStyle(c);return{text:h,fillStyle:g.backgroundColor,fontColor:s,hidden:!i.getDataVisibility(c),lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:g.borderWidth,strokeStyle:g.borderColor,textAlign:a,pointStyle:r,borderRadius:o&&(l||g.borderRadius),index:c}}):[]}},onClick(i,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(i,n){super(i,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(i,n){let r=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=r;else{let s=h=>+r[h];if(ge(r[i])){let{key:h="value"}=this._parsing;s=c=>+qr(r[c],h)}let o,l;for(o=i,l=i+n;o<l;++o)a._parsed[o]=s(o)}}_getRotation(){return Un(this.options.rotation-90)}_getCircumference(){return Un(this.options.circumference)}_getRotationExtents(){let i=Je,n=-Je;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){let a=this.chart.getDatasetMeta(r).controller,s=a._getRotation(),o=a._getCircumference();i=Math.min(i,s),n=Math.max(n,s+o)}return{rotation:i,circumference:n-i}}update(i){let n=this.chart,{chartArea:r}=n,a=this._cachedMeta,s=a.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(r.width,r.height)-o)/2,0),h=Math.min(q1(this.options.cutout,l),1),c=this._getRingWeight(this.index),{circumference:p,rotation:g}=this._getRotationExtents(),{ratioX:f,ratioY:v,offsetX:x,offsetY:y}=Nw(g,p,h),w=(r.width-o)/f,A=(r.height-o)/v,N=Math.max(Math.min(w,A)/2,0),T=Pf(this.options.radius,N),F=Math.max(T*h,0),$=(T-F)/this._getVisibleDatasetWeightTotal();this.offsetX=x*T,this.offsetY=y*T,a.total=this.calculateTotal(),this.outerRadius=T-$*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-$*c,0),this.updateElements(s,0,s.length,i)}_circumference(i,n){let r=this.options,a=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(i)||a._parsed[i]===null||a.data[i].hidden?0:this.calculateCircumference(a._parsed[i]*s/Je)}updateElements(i,n,r,a){let s=a==="reset",o=this.chart,l=o.chartArea,c=o.options.animation,p=(l.left+l.right)/2,g=(l.top+l.bottom)/2,f=s&&c.animateScale,v=f?0:this.innerRadius,x=f?0:this.outerRadius,{sharedOptions:y,includeOptions:w}=this._getSharedOptions(n,a),A=this._getRotation(),N;for(N=0;N<n;++N)A+=this._circumference(N,s);for(N=n;N<n+r;++N){let T=this._circumference(N,s),F=i[N],$={x:p+this.offsetX,y:g+this.offsetY,startAngle:A,endAngle:A+T,circumference:T,outerRadius:x,innerRadius:v};w&&($.options=y||this.resolveDataElementOptions(N,F.active?"active":a)),A+=T,this.updateElement(F,N,$,a)}}calculateTotal(){let i=this._cachedMeta,n=i.data,r=0,a;for(a=0;a<n.length;a++){let s=i._parsed[a];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(a)&&!n[a].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(i){let n=this._cachedMeta.total;return n>0&&!isNaN(i)?Je*(Math.abs(i)/n):0}getLabelAndValue(i){let n=this._cachedMeta,r=this.chart,a=r.data.labels||[],s=ao(n._parsed[i],r.options.locale);return{label:a[i]||"",value:s}}getMaxBorderWidth(i){let n=0,r=this.chart,a,s,o,l,h;if(!i){for(a=0,s=r.data.datasets.length;a<s;++a)if(r.isDatasetVisible(a)){o=r.getDatasetMeta(a),i=o.data,l=o.controller;break}}if(!i)return 0;for(a=0,s=i.length;a<s;++a)h=l.resolveDataElementOptions(a),h.borderAlign!=="inner"&&(n=Math.max(n,h.borderWidth||0,h.hoverBorderWidth||0));return n}getMaxOffset(i){let n=0;for(let r=0,a=i.length;r<a;++r){let s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(i){let n=0;for(let r=0;r<i;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(i){return Math.max(te(this.chart.data.datasets[i].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return t})(),Mw=(()=>{class t extends Na{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(i){let n=this._cachedMeta,{dataset:r,data:a=[],_dataset:s}=n,o=this.chart._animationsDisabled,{start:l,count:h}=zf(n,a,o);this._drawStart=l,this._drawCount=h,Vf(n)&&(l=0,h=a.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=a;let c=this.resolveDatasetElementOptions(i);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},i),this.updateElements(a,l,h,i)}updateElements(i,n,r,a){let s=a==="reset",{iScale:o,vScale:l,_stacked:h,_dataset:c}=this._cachedMeta,{sharedOptions:p,includeOptions:g}=this._getSharedOptions(n,a),f=o.axis,v=l.axis,{spanGaps:x,segment:y}=this.options,w=_s(x)?x:Number.POSITIVE_INFINITY,A=this.chart._animationsDisabled||s||a==="none",N=n+r,T=i.length,F=n>0&&this.getParsed(n-1);for(let $=0;$<T;++$){let K=i[$],z=A?K:{};if($<n||$>=N){z.skip=!0;continue}let E=this.getParsed($),X=pe(E[v]),D=z[f]=o.getPixelForValue(E[f],$),I=z[v]=s||X?l.getBasePixel():l.getPixelForValue(h?this.applyStack(l,E,h):E[v],$);z.skip=isNaN(D)||isNaN(I)||X,z.stop=$>0&&Math.abs(E[f]-F[f])>w,y&&(z.parsed=E,z.raw=c.data[$]),g&&(z.options=p||this.resolveDataElementOptions($,K.active?"active":a)),A||this.updateElement(K,$,z,a),F=E}}getMaxOverflow(){let i=this._cachedMeta,n=i.dataset,r=n.options&&n.options.borderWidth||0,a=i.data||[];if(!a.length)return r;let s=a[0].size(this.resolveDataElementOptions(0)),o=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(r,s,o)/2}draw(){let i=this._cachedMeta;i.dataset.updateControlPoints(this.chart.chartArea,i.iScale.axis),super.draw()}}return t})(),_2=(()=>{class t extends Na{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){let n=i.data;if(n.labels.length&&n.datasets.length){let{labels:{pointStyle:r,color:a}}=i.legend.options;return n.labels.map((s,o)=>{let h=i.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:a,lineWidth:h.borderWidth,pointStyle:r,hidden:!i.getDataVisibility(o),index:o}})}return[]}},onClick(i,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(i,n){super(i,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(i){let n=this._cachedMeta,r=this.chart,a=r.data.labels||[],s=ao(n._parsed[i].r,r.options.locale);return{label:a[i]||"",value:s}}parseObjectData(i,n,r,a){return Xf.bind(this)(i,n,r,a)}update(i){let n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,i)}getMinMax(){let i=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return i.data.forEach((r,a)=>{let s=this.getParsed(a).r;!isNaN(s)&&this.chart.getDataVisibility(a)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){let i=this.chart,n=i.chartArea,r=i.options,a=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(a/2,0),o=Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0),l=(s-o)/i.getVisibleDatasetCount();this.outerRadius=s-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(i,n,r,a){let s=a==="reset",o=this.chart,h=o.options.animation,c=this._cachedMeta.rScale,p=c.xCenter,g=c.yCenter,f=c.getIndexAngle(0)-.5*Se,v=f,x,y=360/this.countVisibleElements();for(x=0;x<n;++x)v+=this._computeAngle(x,a,y);for(x=n;x<n+r;x++){let w=i[x],A=v,N=v+this._computeAngle(x,a,y),T=o.getDataVisibility(x)?c.getDistanceFromCenterForValue(this.getParsed(x).r):0;v=N,s&&(h.animateScale&&(T=0),h.animateRotate&&(A=N=f));let F={x:p,y:g,innerRadius:0,outerRadius:T,startAngle:A,endAngle:N,options:this.resolveDataElementOptions(x,w.active?"active":a)};this.updateElement(w,x,F,a)}}countVisibleElements(){let i=this._cachedMeta,n=0;return i.data.forEach((r,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&n++}),n}_computeAngle(i,n,r){return this.chart.getDataVisibility(i)?Un(this.resolveDataElementOptions(i,n).angle||r):0}}return t})(),Iw=(()=>{class t extends Fd{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return t})(),Ow=(()=>{class t extends Na{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(i){let n=this._cachedMeta.vScale,r=this.getParsed(i);return{label:n.getLabels()[i],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(i,n,r,a){return Xf.bind(this)(i,n,r,a)}update(i){let n=this._cachedMeta,r=n.dataset,a=n.data||[],s=n.iScale.getLabels();if(r.points=a,i!=="resize"){let o=this.resolveDatasetElementOptions(i);this.options.showLine||(o.borderWidth=0);let l={_loop:!0,_fullLoop:s.length===a.length,options:o};this.updateElement(r,void 0,l,i)}this.updateElements(a,0,a.length,i)}updateElements(i,n,r,a){let s=this._cachedMeta.rScale,o=a==="reset";for(let l=n;l<n+r;l++){let h=i[l],c=this.resolveDataElementOptions(l,h.active?"active":a),p=s.getPointPositionForValue(l,this.getParsed(l).r),g=o?s.xCenter:p.x,f=o?s.yCenter:p.y,v={x:g,y:f,angle:p.angle,skip:isNaN(g)||isNaN(f),options:c};this.updateElement(h,l,v,a)}}}return t})(),Ew=(()=>{class t extends Na{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(i){let n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:a,yScale:s}=n,o=this.getParsed(i),l=a.getLabelForValue(o.x),h=s.getLabelForValue(o.y);return{label:r[i]||"",value:"("+l+", "+h+")"}}update(i){let n=this._cachedMeta,{data:r=[]}=n,a=this.chart._animationsDisabled,{start:s,count:o}=zf(n,r,a);if(this._drawStart=s,this._drawCount=o,Vf(n)&&(s=0,o=r.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:l,_dataset:h}=n;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!h._decimated,l.points=r;let c=this.resolveDatasetElementOptions(i);c.segment=this.options.segment,this.updateElement(l,void 0,{animated:!a,options:c},i)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,s,o,i)}addElements(){let{showLine:i}=this.options;!this.datasetElementType&&i&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(i,n,r,a){let s=a==="reset",{iScale:o,vScale:l,_stacked:h,_dataset:c}=this._cachedMeta,p=this.resolveDataElementOptions(n,a),g=this.getSharedOptions(p),f=this.includeOptions(a,g),v=o.axis,x=l.axis,{spanGaps:y,segment:w}=this.options,A=_s(y)?y:Number.POSITIVE_INFINITY,N=this.chart._animationsDisabled||s||a==="none",T=n>0&&this.getParsed(n-1);for(let F=n;F<n+r;++F){let $=i[F],K=this.getParsed(F),z=N?$:{},E=pe(K[x]),X=z[v]=o.getPixelForValue(K[v],F),D=z[x]=s||E?l.getBasePixel():l.getPixelForValue(h?this.applyStack(l,K,h):K[x],F);z.skip=isNaN(X)||isNaN(D)||E,z.stop=F>0&&Math.abs(K[v]-T[v])>A,w&&(z.parsed=K,z.raw=c.data[F]),f&&(z.options=g||this.resolveDataElementOptions(F,$.active?"active":a)),N||this.updateElement($,F,z,a),T=K}this.updateSharedOptions(g,a,p)}getMaxOverflow(){let i=this._cachedMeta,n=i.data||[];if(!this.options.showLine){let l=0;for(let h=n.length-1;h>=0;--h)l=Math.max(l,n[h].size(this.resolveDataElementOptions(h))/2);return l>0&&l}let r=i.dataset,a=r.options&&r.options.borderWidth||0;if(!n.length)return a;let s=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(a,s,o)/2}}return t})(),Fw=Object.freeze({__proto__:null,BarController:Tw,BubbleController:Pw,DoughnutController:Fd,LineController:Mw,PieController:Iw,PolarAreaController:_2,RadarController:Ow,ScatterController:Ew});function ws(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var bd=class t{static override(e){Object.assign(t.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return ws()}parse(){return ws()}format(){return ws()}add(){return ws()}diff(){return ws()}startOf(){return ws()}endOf(){return ws()}},Rw={_date:bd};function Bw(t,e,i,n){let{controller:r,data:a,_sorted:s}=t,o=r._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&s&&a.length){let h=o._reversePixels?X1:dr;if(n){if(r._sharedOptions){let c=a[0],p=typeof c.getRange=="function"&&c.getRange(e);if(p){let g=h(a,e,i-p),f=h(a,e,i+p);return{lo:g.lo,hi:f.hi}}}}else{let c=h(a,e,i);if(l){let{vScale:p}=r._cachedMeta,{_parsed:g}=t,f=g.slice(0,c.lo+1).reverse().findIndex(x=>!pe(x[p.axis]));c.lo-=Math.max(0,f);let v=g.slice(c.hi).findIndex(x=>!pe(x[p.axis]));c.hi+=Math.max(0,v)}return c}}return{lo:0,hi:a.length-1}}function Rl(t,e,i,n,r){let a=t.getSortedVisibleDatasetMetas(),s=i[e];for(let o=0,l=a.length;o<l;++o){let{index:h,data:c}=a[o],{lo:p,hi:g}=Bw(a[o],e,s,r);for(let f=p;f<=g;++f){let v=c[f];v.skip||n(v,h,f)}}}function jw(t){let e=t.indexOf("x")!==-1,i=t.indexOf("y")!==-1;return function(n,r){let a=e?Math.abs(n.x-r.x):0,s=i?Math.abs(n.y-r.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(s,2))}}function ld(t,e,i,n,r){let a=[];return!r&&!t.isPointInArea(e)||Rl(t,i,e,function(o,l,h){!r&&!pr(o,t.chartArea,0)||o.inRange(e.x,e.y,n)&&a.push({element:o,datasetIndex:l,index:h})},!0),a}function zw(t,e,i,n){let r=[];function a(s,o,l){let{startAngle:h,endAngle:c}=s.getProps(["startAngle","endAngle"],n),{angle:p}=Ef(s,{x:e.x,y:e.y});ro(p,h,c)&&r.push({element:s,datasetIndex:o,index:l})}return Rl(t,i,e,a),r}function Vw(t,e,i,n,r,a){let s=[],o=jw(i),l=Number.POSITIVE_INFINITY;function h(c,p,g){let f=c.inRange(e.x,e.y,r);if(n&&!f)return;let v=c.getCenterPoint(r);if(!(!!a||t.isPointInArea(v))&&!f)return;let y=o(e,v);y<l?(s=[{element:c,datasetIndex:p,index:g}],l=y):y===l&&s.push({element:c,datasetIndex:p,index:g})}return Rl(t,i,e,h),s}function hd(t,e,i,n,r,a){return!a&&!t.isPointInArea(e)?[]:i==="r"&&!n?zw(t,e,i,r):Vw(t,e,i,n,r,a)}function Dm(t,e,i,n,r){let a=[],s=i==="x"?"inXRange":"inYRange",o=!1;return Rl(t,i,e,(l,h,c)=>{l[s]&&l[s](e[i],r)&&(a.push({element:l,datasetIndex:h,index:c}),o=o||l.inRange(e.x,e.y,r))}),n&&!o?[]:a}var Uw={evaluateInteractionItems:Rl,modes:{index(t,e,i,n){let r=Ta(e,t),a=i.axis||"x",s=i.includeInvisible||!1,o=i.intersect?ld(t,r,a,n,s):hd(t,r,a,!1,n,s),l=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(h=>{let c=o[0].index,p=h.data[c];p&&!p.skip&&l.push({element:p,datasetIndex:h.index,index:c})}),l):[]},dataset(t,e,i,n){let r=Ta(e,t),a=i.axis||"xy",s=i.includeInvisible||!1,o=i.intersect?ld(t,r,a,n,s):hd(t,r,a,!1,n,s);if(o.length>0){let l=o[0].datasetIndex,h=t.getDatasetMeta(l).data;o=[];for(let c=0;c<h.length;++c)o.push({element:h[c],datasetIndex:l,index:c})}return o},point(t,e,i,n){let r=Ta(e,t),a=i.axis||"xy",s=i.includeInvisible||!1;return ld(t,r,a,n,s)},nearest(t,e,i,n){let r=Ta(e,t),a=i.axis||"xy",s=i.includeInvisible||!1;return hd(t,r,a,i.intersect,n,s)},x(t,e,i,n){let r=Ta(e,t);return Dm(t,r,"x",i.intersect,n)},y(t,e,i,n){let r=Ta(e,t);return Dm(t,r,"y",i.intersect,n)}}},y2=["left","top","right","bottom"];function Ll(t,e){return t.filter(i=>i.pos===e)}function Lm(t,e){return t.filter(i=>y2.indexOf(i.pos)===-1&&i.box.axis===e)}function Tl(t,e){return t.sort((i,n)=>{let r=e?n:i,a=e?i:n;return r.weight===a.weight?r.index-a.index:r.weight-a.weight})}function Hw(t){let e=[],i,n,r,a,s,o;for(i=0,n=(t||[]).length;i<n;++i)r=t[i],{position:a,options:{stack:s,stackWeight:o=1}}=r,e.push({index:i,box:r,pos:a,horizontal:r.isHorizontal(),weight:r.weight,stack:s&&a+s,stackWeight:o});return e}function qw(t){let e={};for(let i of t){let{stack:n,pos:r,stackWeight:a}=i;if(!n||!y2.includes(r))continue;let s=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=a}return e}function Ww(t,e){let i=qw(t),{vBoxMaxWidth:n,hBoxMaxHeight:r}=e,a,s,o;for(a=0,s=t.length;a<s;++a){o=t[a];let{fullSize:l}=o.box,h=i[o.stack],c=h&&o.stackWeight/h.weight;o.horizontal?(o.width=c?c*n:l&&e.availableWidth,o.height=r):(o.width=n,o.height=c?c*r:l&&e.availableHeight)}return i}function $w(t){let e=Hw(t),i=Tl(e.filter(h=>h.box.fullSize),!0),n=Tl(Ll(e,"left"),!0),r=Tl(Ll(e,"right")),a=Tl(Ll(e,"top"),!0),s=Tl(Ll(e,"bottom")),o=Lm(e,"x"),l=Lm(e,"y");return{fullSize:i,leftAndTop:n.concat(a),rightAndBottom:r.concat(l).concat(s).concat(o),chartArea:Ll(e,"chartArea"),vertical:n.concat(r).concat(l),horizontal:a.concat(s).concat(o)}}function Tm(t,e,i,n){return Math.max(t[i],e[i])+Math.max(t[n],e[n])}function w2(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Yw(t,e,i,n){let{pos:r,box:a}=i,s=t.maxPadding;if(!ge(r)){i.size&&(t[r]-=i.size);let p=n[i.stack]||{size:0,count:1};p.size=Math.max(p.size,i.horizontal?a.height:a.width),i.size=p.size/p.count,t[r]+=i.size}a.getPadding&&w2(s,a.getPadding());let o=Math.max(0,e.outerWidth-Tm(s,t,"left","right")),l=Math.max(0,e.outerHeight-Tm(s,t,"top","bottom")),h=o!==t.w,c=l!==t.h;return t.w=o,t.h=l,i.horizontal?{same:h,other:c}:{same:c,other:h}}function Gw(t){let e=t.maxPadding;function i(n){let r=Math.max(e[n]-t[n],0);return t[n]+=r,r}t.y+=i("top"),t.x+=i("left"),i("right"),i("bottom")}function Zw(t,e){let i=e.maxPadding;function n(r){let a={left:0,top:0,right:0,bottom:0};return r.forEach(s=>{a[s]=Math.max(e[s],i[s])}),a}return n(t?["left","right"]:["top","bottom"])}function Ml(t,e,i,n){let r=[],a,s,o,l,h,c;for(a=0,s=t.length,h=0;a<s;++a){o=t[a],l=o.box,l.update(o.width||e.w,o.height||e.h,Zw(o.horizontal,e));let{same:p,other:g}=Yw(e,i,o,n);h|=p&&r.length,c=c||g,l.fullSize||r.push(o)}return h&&Ml(r,e,i,n)||c}function kc(t,e,i,n,r){t.top=i,t.left=e,t.right=e+n,t.bottom=i+r,t.width=n,t.height=r}function Pm(t,e,i,n){let r=i.padding,{x:a,y:s}=e;for(let o of t){let l=o.box,h=n[o.stack]||{count:1,placed:0,weight:1},c=o.stackWeight/h.weight||1;if(o.horizontal){let p=e.w*c,g=h.size||l.height;io(h.start)&&(s=h.start),l.fullSize?kc(l,r.left,s,i.outerWidth-r.right-r.left,g):kc(l,e.left+h.placed,s,p,g),h.start=s,h.placed+=p,s=l.bottom}else{let p=e.h*c,g=h.size||l.width;io(h.start)&&(a=h.start),l.fullSize?kc(l,a,r.top,g,i.outerHeight-r.bottom-r.top):kc(l,a,e.top+h.placed,g,p),h.start=a,h.placed+=p,a=l.right}}e.x=a,e.y=s}var Ki={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(i){e.draw(i)}}]},t.boxes.push(e)},removeBox(t,e){let i=t.boxes?t.boxes.indexOf(e):-1;i!==-1&&t.boxes.splice(i,1)},configure(t,e,i){e.fullSize=i.fullSize,e.position=i.position,e.weight=i.weight},update(t,e,i,n){if(!t)return;let r=Wi(t.options.layout.padding),a=Math.max(e-r.width,0),s=Math.max(i-r.height,0),o=$w(t.boxes),l=o.vertical,h=o.horizontal;Ne(t.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});let c=l.reduce((x,y)=>y.box.options&&y.box.options.display===!1?x:x+1,0)||1,p=Object.freeze({outerWidth:e,outerHeight:i,padding:r,availableWidth:a,availableHeight:s,vBoxMaxWidth:a/2/c,hBoxMaxHeight:s/2}),g=Object.assign({},r);w2(g,Wi(n));let f=Object.assign({maxPadding:g,w:a,h:s,x:r.left,y:r.top},r),v=Ww(l.concat(h),p);Ml(o.fullSize,f,p,v),Ml(l,f,p,v),Ml(h,f,p,v)&&Ml(l,f,p,v),Gw(f),Pm(o.leftAndTop,f,p,v),f.x+=f.w,f.y+=f.h,Pm(o.rightAndBottom,f,p,v),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Ne(o.chartArea,x=>{let y=x.box;Object.assign(y,t.chartArea),y.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}},Ec=class{acquireContext(e,i){}releaseContext(e){return!1}addEventListener(e,i,n){}removeEventListener(e,i,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,i,n,r){return i=Math.max(0,i||e.width),n=n||e.height,{width:i,height:Math.max(0,r?Math.floor(i/r):n)}}isAttached(e){return!0}updateConfig(e){}},vd=class extends Ec{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}},Mc="$chartjs",Xw={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Nm=t=>t===null||t==="";function Kw(t,e){let i=t.style,n=t.getAttribute("height"),r=t.getAttribute("width");if(t[Mc]={initial:{height:n,width:r,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",Nm(r)){let a=Jf(t,"width");a!==void 0&&(t.width=a)}if(Nm(n))if(t.style.height==="")t.height=t.width/(e||2);else{let a=Jf(t,"height");a!==void 0&&(t.height=a)}return t}var S2=dm?{passive:!0}:!1;function Jw(t,e,i){t&&t.addEventListener(e,i,S2)}function Qw(t,e,i){t&&t.canvas&&t.canvas.removeEventListener(e,i,S2)}function t3(t,e){let i=Xw[t.type]||t.type,{x:n,y:r}=Ta(t,e);return{type:i,chart:e,native:t,x:n!==void 0?n:null,y:r!==void 0?r:null}}function Fc(t,e){for(let i of t)if(i===e||i.contains(e))return!0}function e3(t,e,i){let n=t.canvas,r=new MutationObserver(a=>{let s=!1;for(let o of a)s=s||Fc(o.addedNodes,n),s=s&&!Fc(o.removedNodes,n);s&&i()});return r.observe(document,{childList:!0,subtree:!0}),r}function i3(t,e,i){let n=t.canvas,r=new MutationObserver(a=>{let s=!1;for(let o of a)s=s||Fc(o.removedNodes,n),s=s&&!Fc(o.addedNodes,n);s&&i()});return r.observe(document,{childList:!0,subtree:!0}),r}var Ol=new Map,Mm=0;function C2(){let t=window.devicePixelRatio;t!==Mm&&(Mm=t,Ol.forEach((e,i)=>{i.currentDevicePixelRatio!==t&&e()}))}function n3(t,e){Ol.size||window.addEventListener("resize",C2),Ol.set(t,e)}function r3(t){Ol.delete(t),Ol.size||window.removeEventListener("resize",C2)}function a3(t,e,i){let n=t.canvas,r=n&&Cc(n);if(!r)return;let a=jf((o,l)=>{let h=r.clientWidth;i(o,l),h<r.clientWidth&&i()},window),s=new ResizeObserver(o=>{let l=o[0],h=l.contentRect.width,c=l.contentRect.height;h===0&&c===0||a(h,c)});return s.observe(r),n3(t,a),s}function cd(t,e,i){i&&i.disconnect(),e==="resize"&&r3(t)}function s3(t,e,i){let n=t.canvas,r=jf(a=>{t.ctx!==null&&i(t3(a,t))},t);return Jw(n,e,r),r}var xd=class extends Ec{acquireContext(e,i){let n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(Kw(e,i),n):null}releaseContext(e){let i=e.canvas;if(!i[Mc])return!1;let n=i[Mc].initial;["height","width"].forEach(a=>{let s=n[a];pe(s)?i.removeAttribute(a):i.setAttribute(a,s)});let r=n.style||{};return Object.keys(r).forEach(a=>{i.style[a]=r[a]}),i.width=i.width,delete i[Mc],!0}addEventListener(e,i,n){this.removeEventListener(e,i);let r=e.$proxies||(e.$proxies={}),s={attach:e3,detach:i3,resize:a3}[i]||s3;r[i]=s(e,i,n)}removeEventListener(e,i){let n=e.$proxies||(e.$proxies={}),r=n[i];if(!r)return;({attach:cd,detach:cd,resize:cd}[i]||Qw)(e,i,r),n[i]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,i,n,r){return fm(e,i,n,r)}isAttached(e){let i=e&&Cc(e);return!!(i&&i.isConnected)}};function o3(t){return!Sc()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?vd:xd}var tr=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){let{x:i,y:n}=this.getProps(["x","y"],e);return{x:i,y:n}}hasValue(){return _s(this.x)&&_s(this.y)}getProps(e,i){let n=this.$animations;if(!i||!n)return this;let r={};return e.forEach(a=>{r[a]=n[a]&&n[a].active()?n[a]._to:this[a]}),r}};function l3(t,e){let i=t.options.ticks,n=h3(t),r=Math.min(i.maxTicksLimit||n,n),a=i.major.enabled?u3(e):[],s=a.length,o=a[0],l=a[s-1],h=[];if(s>r)return f3(e,h,a,s/r),h;let c=c3(a,e,r);if(s>0){let p,g,f=s>1?Math.round((l-o)/(s-1)):null;for(Dc(e,h,c,pe(f)?0:o-f,o),p=0,g=s-1;p<g;p++)Dc(e,h,c,a[p],a[p+1]);return Dc(e,h,c,l,pe(f)?e.length:l+f),h}return Dc(e,h,c),h}function h3(t){let e=t.options.offset,i=t._tickSize(),n=t._length/i+(e?0:1),r=t._maxLength/i;return Math.floor(Math.min(n,r))}function c3(t,e,i){let n=d3(t),r=e.length/i;if(!n)return Math.max(r,1);let a=Y1(n);for(let s=0,o=a.length-1;s<o;s++){let l=a[s];if(l>r)return l}return Math.max(r,1)}function u3(t){let e=[],i,n;for(i=0,n=t.length;i<n;i++)t[i].major&&e.push(i);return e}function f3(t,e,i,n){let r=0,a=i[0],s;for(n=Math.ceil(n),s=0;s<t.length;s++)s===a&&(e.push(t[s]),r++,a=i[r*n])}function Dc(t,e,i,n,r){let a=te(n,0),s=Math.min(te(r,t.length),t.length),o=0,l,h,c;for(i=Math.ceil(i),r&&(l=r-n,i=l/Math.floor(l/i)),c=a;c<0;)o++,c=Math.round(a+o*i);for(h=Math.max(a,0);h<s;h++)h===c&&(e.push(t[h]),o++,c=Math.round(a+o*i))}function d3(t){let e=t.length,i,n;if(e<2)return!1;for(n=t[0],i=1;i<e;++i)if(t[i]-t[i-1]!==n)return!1;return n}var p3=t=>t==="left"?"right":t==="right"?"left":t,Im=(t,e,i)=>e==="top"||e==="left"?t[e]+i:t[e]-i,Om=(t,e)=>Math.min(e||t,t);function Em(t,e){let i=[],n=t.length/e,r=t.length,a=0;for(;a<r;a+=n)i.push(t[Math.floor(a)]);return i}function g3(t,e,i){let n=t.ticks.length,r=Math.min(e,n-1),a=t._startPixel,s=t._endPixel,o=1e-6,l=t.getPixelForTick(r),h;if(!(i&&(n===1?h=Math.max(l-a,s-l):e===0?h=(t.getPixelForTick(1)-l)/2:h=(l-t.getPixelForTick(r-1))/2,l+=r<e?h:-h,l<a-o||l>s+o)))return l}function m3(t,e){Ne(t,i=>{let n=i.gc,r=n.length/2,a;if(r>e){for(a=0;a<r;++a)delete i.data[n[a]];n.splice(0,r)}})}function Pl(t){return t.drawTicks?t.tickLength:0}function Fm(t,e){if(!t.display)return 0;let i=Ai(t.font,e),n=Wi(t.padding);return(Ke(t.text)?t.text.length:1)*i.lineHeight+n.height}function b3(t,e){return Wr(t,{scale:e,type:"scale"})}function v3(t,e,i){return Wr(t,{tick:i,index:e,type:"tick"})}function x3(t,e,i){let n=vc(t);return(i&&e!=="right"||!i&&e==="right")&&(n=p3(n)),n}function _3(t,e,i,n){let{top:r,left:a,bottom:s,right:o,chart:l}=t,{chartArea:h,scales:c}=l,p=0,g,f,v,x=s-r,y=o-a;if(t.isHorizontal()){if(f=qi(n,a,o),ge(i)){let w=Object.keys(i)[0],A=i[w];v=c[w].getPixelForValue(A)+x-e}else i==="center"?v=(h.bottom+h.top)/2+x-e:v=Im(t,i,e);g=o-a}else{if(ge(i)){let w=Object.keys(i)[0],A=i[w];f=c[w].getPixelForValue(A)-y+e}else i==="center"?f=(h.left+h.right)/2-y+e:f=Im(t,i,e);v=qi(n,s,r),p=i==="left"?-ci:ci}return{titleX:f,titleY:v,maxWidth:g,rotation:p}}var Cs=class t extends tr{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,i){return e}getUserBounds(){let{_userMin:e,_userMax:i,_suggestedMin:n,_suggestedMax:r}=this;return e=un(e,Number.POSITIVE_INFINITY),i=un(i,Number.NEGATIVE_INFINITY),n=un(n,Number.POSITIVE_INFINITY),r=un(r,Number.NEGATIVE_INFINITY),{min:un(e,n),max:un(i,r),minDefined:ni(e),maxDefined:ni(i)}}getMinMax(e){let{min:i,max:n,minDefined:r,maxDefined:a}=this.getUserBounds(),s;if(r&&a)return{min:i,max:n};let o=this.getMatchingVisibleMetas();for(let l=0,h=o.length;l<h;++l)s=o[l].controller.getMinMax(this,e),r||(i=Math.min(i,s.min)),a||(n=Math.max(n,s.max));return i=a&&i>n?n:i,n=r&&i>n?i:n,{min:un(i,un(n,i)),max:un(n,un(i,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ue(this.options.beforeUpdate,[this])}update(e,i,n){let{beginAtZero:r,grace:a,ticks:s}=this.options,o=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=i,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=sm(this,a,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=o<this.ticks.length;this._convertTicksToLabels(l?Em(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=l3(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,i,n;this.isHorizontal()?(i=this.left,n=this.right):(i=this.top,n=this.bottom,e=!e),this._startPixel=i,this._endPixel=n,this._reversePixels=e,this._length=n-i,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ue(this.options.afterUpdate,[this])}beforeSetDimensions(){Ue(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ue(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ue(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ue(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){let i=this.options.ticks,n,r,a;for(n=0,r=e.length;n<r;n++)a=e[n],a.label=Ue(i.callback,[a.value,n,e],this)}afterTickToLabelConversion(){Ue(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ue(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let e=this.options,i=e.ticks,n=Om(this.ticks.length,e.ticks.maxTicksLimit),r=i.minRotation||0,a=i.maxRotation,s=r,o,l,h;if(!this._isVisible()||!i.display||r>=a||n<=1||!this.isHorizontal()){this.labelRotation=r;return}let c=this._getLabelSizes(),p=c.widest.width,g=c.highest.height,f=Oi(this.chart.width-p,0,this.maxWidth);o=e.offset?this.maxWidth/n:f/(n-1),p+6>o&&(o=f/(n-(e.offset?.5:1)),l=this.maxHeight-Pl(e.grid)-i.padding-Fm(e.title,this.chart.options.font),h=Math.sqrt(p*p+g*g),s=mc(Math.min(Math.asin(Oi((c.highest.height+6)/o,-1,1)),Math.asin(Oi(l/h,-1,1))-Math.asin(Oi(g/h,-1,1)))),s=Math.max(r,Math.min(a,s))),this.labelRotation=s}afterCalculateLabelRotation(){Ue(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ue(this.options.beforeFit,[this])}fit(){let e={width:0,height:0},{chart:i,options:{ticks:n,title:r,grid:a}}=this,s=this._isVisible(),o=this.isHorizontal();if(s){let l=Fm(r,i.options.font);if(o?(e.width=this.maxWidth,e.height=Pl(a)+l):(e.height=this.maxHeight,e.width=Pl(a)+l),n.display&&this.ticks.length){let{first:h,last:c,widest:p,highest:g}=this._getLabelSizes(),f=n.padding*2,v=Un(this.labelRotation),x=Math.cos(v),y=Math.sin(v);if(o){let w=n.mirror?0:y*p.width+x*g.height;e.height=Math.min(this.maxHeight,e.height+w+f)}else{let w=n.mirror?0:x*p.width+y*g.height;e.width=Math.min(this.maxWidth,e.width+w+f)}this._calculatePadding(h,c,y,x)}}this._handleMargins(),o?(this.width=this._length=i.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=i.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,i,n,r){let{ticks:{align:a,padding:s},position:o}=this.options,l=this.labelRotation!==0,h=o!=="top"&&this.axis==="x";if(this.isHorizontal()){let c=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1),g=0,f=0;l?h?(g=r*e.width,f=n*i.height):(g=n*e.height,f=r*i.width):a==="start"?f=i.width:a==="end"?g=e.width:a!=="inner"&&(g=e.width/2,f=i.width/2),this.paddingLeft=Math.max((g-c+s)*this.width/(this.width-c),0),this.paddingRight=Math.max((f-p+s)*this.width/(this.width-p),0)}else{let c=i.height/2,p=e.height/2;a==="start"?(c=0,p=e.height):a==="end"&&(c=i.height,p=0),this.paddingTop=c+s,this.paddingBottom=p+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ue(this.options.afterFit,[this])}isHorizontal(){let{axis:e,position:i}=this.options;return i==="top"||i==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let i,n;for(i=0,n=e.length;i<n;i++)pe(e[i].label)&&(e.splice(i,1),n--,i--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){let i=this.options.ticks.sampleSize,n=this.ticks;i<n.length&&(n=Em(n,i)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,i,n){let{ctx:r,_longestTextCache:a}=this,s=[],o=[],l=Math.floor(i/Om(i,n)),h=0,c=0,p,g,f,v,x,y,w,A,N,T,F;for(p=0;p<i;p+=l){if(v=e[p].label,x=this._resolveTickFontOptions(p),r.font=y=x.string,w=a[y]=a[y]||{data:{},gc:[]},A=x.lineHeight,N=T=0,!pe(v)&&!Ke(v))N=wl(r,w.data,w.gc,N,v),T=A;else if(Ke(v))for(g=0,f=v.length;g<f;++g)F=v[g],!pe(F)&&!Ke(F)&&(N=wl(r,w.data,w.gc,N,F),T+=A);s.push(N),o.push(T),h=Math.max(N,h),c=Math.max(T,c)}m3(a,i);let $=s.indexOf(h),K=o.indexOf(c),z=E=>({width:s[E]||0,height:o[E]||0});return{first:z(0),last:z(i-1),widest:z($),highest:z(K),widths:s,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,i){return NaN}getValueForPixel(e){}getPixelForTick(e){let i=this.ticks;return e<0||e>i.length-1?null:this.getPixelForValue(i[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);let i=this._startPixel+e*this._length;return Z1(this._alignToPixels?ka(this.chart,i,0):i)}getDecimalForPixel(e){let i=(e-this._startPixel)/this._length;return this._reversePixels?1-i:i}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:e,max:i}=this;return e<0&&i<0?i:e>0&&i>0?e:0}getContext(e){let i=this.ticks||[];if(e>=0&&e<i.length){let n=i[e];return n.$context||(n.$context=v3(this.getContext(),e,n))}return this.$context||(this.$context=b3(this.chart.getContext(),this))}_tickSize(){let e=this.options.ticks,i=Un(this.labelRotation),n=Math.abs(Math.cos(i)),r=Math.abs(Math.sin(i)),a=this._getLabelSizes(),s=e.autoSkipPadding||0,o=a?a.widest.width+s:0,l=a?a.highest.height+s:0;return this.isHorizontal()?l*n>o*r?o/n:l/r:l*r<o*n?l/n:o/r}_isVisible(){let e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){let i=this.axis,n=this.chart,r=this.options,{grid:a,position:s,border:o}=r,l=a.offset,h=this.isHorizontal(),p=this.ticks.length+(l?1:0),g=Pl(a),f=[],v=o.setContext(this.getContext()),x=v.display?v.width:0,y=x/2,w=function(ot){return ka(n,ot,x)},A,N,T,F,$,K,z,E,X,D,I,W;if(s==="top")A=w(this.bottom),K=this.bottom-g,E=A-y,D=w(e.top)+y,W=e.bottom;else if(s==="bottom")A=w(this.top),D=e.top,W=w(e.bottom)-y,K=A+y,E=this.top+g;else if(s==="left")A=w(this.right),$=this.right-g,z=A-y,X=w(e.left)+y,I=e.right;else if(s==="right")A=w(this.left),X=e.left,I=w(e.right)-y,$=A+y,z=this.left+g;else if(i==="x"){if(s==="center")A=w((e.top+e.bottom)/2+.5);else if(ge(s)){let ot=Object.keys(s)[0],lt=s[ot];A=w(this.chart.scales[ot].getPixelForValue(lt))}D=e.top,W=e.bottom,K=A+y,E=K+g}else if(i==="y"){if(s==="center")A=w((e.left+e.right)/2);else if(ge(s)){let ot=Object.keys(s)[0],lt=s[ot];A=w(this.chart.scales[ot].getPixelForValue(lt))}$=A-y,z=$-g,X=e.left,I=e.right}let q=te(r.ticks.maxTicksLimit,p),et=Math.max(1,Math.ceil(p/q));for(N=0;N<p;N+=et){let ot=this.getContext(N),lt=a.setContext(ot),nt=o.setContext(ot),ht=lt.lineWidth,kt=lt.color,yt=nt.dash||[],P=nt.dashOffset,V=lt.tickWidth,H=lt.tickColor,G=lt.tickBorderDash||[],Q=lt.tickBorderDashOffset;T=g3(this,N,l),T!==void 0&&(F=ka(n,T,ht),h?$=z=X=I=F:K=E=D=W=F,f.push({tx1:$,ty1:K,tx2:z,ty2:E,x1:X,y1:D,x2:I,y2:W,width:ht,color:kt,borderDash:yt,borderDashOffset:P,tickWidth:V,tickColor:H,tickBorderDash:G,tickBorderDashOffset:Q}))}return this._ticksLength=p,this._borderValue=A,f}_computeLabelItems(e){let i=this.axis,n=this.options,{position:r,ticks:a}=n,s=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:h,padding:c,mirror:p}=a,g=Pl(n.grid),f=g+c,v=p?-c:f,x=-Un(this.labelRotation),y=[],w,A,N,T,F,$,K,z,E,X,D,I,W="middle";if(r==="top")$=this.bottom-v,K=this._getXAxisLabelAlignment();else if(r==="bottom")$=this.top+v,K=this._getXAxisLabelAlignment();else if(r==="left"){let et=this._getYAxisLabelAlignment(g);K=et.textAlign,F=et.x}else if(r==="right"){let et=this._getYAxisLabelAlignment(g);K=et.textAlign,F=et.x}else if(i==="x"){if(r==="center")$=(e.top+e.bottom)/2+f;else if(ge(r)){let et=Object.keys(r)[0],ot=r[et];$=this.chart.scales[et].getPixelForValue(ot)+f}K=this._getXAxisLabelAlignment()}else if(i==="y"){if(r==="center")F=(e.left+e.right)/2-f;else if(ge(r)){let et=Object.keys(r)[0],ot=r[et];F=this.chart.scales[et].getPixelForValue(ot)}K=this._getYAxisLabelAlignment(g).textAlign}i==="y"&&(l==="start"?W="top":l==="end"&&(W="bottom"));let q=this._getLabelSizes();for(w=0,A=o.length;w<A;++w){N=o[w],T=N.label;let et=a.setContext(this.getContext(w));z=this.getPixelForTick(w)+a.labelOffset,E=this._resolveTickFontOptions(w),X=E.lineHeight,D=Ke(T)?T.length:1;let ot=D/2,lt=et.color,nt=et.textStrokeColor,ht=et.textStrokeWidth,kt=K;s?(F=z,K==="inner"&&(w===A-1?kt=this.options.reverse?"left":"right":w===0?kt=this.options.reverse?"right":"left":kt="center"),r==="top"?h==="near"||x!==0?I=-D*X+X/2:h==="center"?I=-q.highest.height/2-ot*X+X:I=-q.highest.height+X/2:h==="near"||x!==0?I=X/2:h==="center"?I=q.highest.height/2-ot*X:I=q.highest.height-D*X,p&&(I*=-1),x!==0&&!et.showLabelBackdrop&&(F+=X/2*Math.sin(x))):($=z,I=(1-D)*X/2);let yt;if(et.showLabelBackdrop){let P=Wi(et.backdropPadding),V=q.heights[w],H=q.widths[w],G=I-P.top,Q=0-P.left;switch(W){case"middle":G-=V/2;break;case"bottom":G-=V;break}switch(K){case"center":Q-=H/2;break;case"right":Q-=H;break;case"inner":w===A-1?Q-=H:w>0&&(Q-=H/2);break}yt={left:Q,top:G,width:H+P.width,height:V+P.height,color:et.backdropColor}}y.push({label:T,font:E,textOffset:I,options:{rotation:x,color:lt,strokeColor:nt,strokeWidth:ht,textAlign:kt,textBaseline:W,translation:[F,$],backdrop:yt}})}return y}_getXAxisLabelAlignment(){let{position:e,ticks:i}=this.options;if(-Un(this.labelRotation))return e==="top"?"left":"right";let r="center";return i.align==="start"?r="left":i.align==="end"?r="right":i.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){let{position:i,ticks:{crossAlign:n,mirror:r,padding:a}}=this.options,s=this._getLabelSizes(),o=e+a,l=s.widest.width,h,c;return i==="left"?r?(c=this.right+a,n==="near"?h="left":n==="center"?(h="center",c+=l/2):(h="right",c+=l)):(c=this.right-o,n==="near"?h="right":n==="center"?(h="center",c-=l/2):(h="left",c=this.left)):i==="right"?r?(c=this.left+a,n==="near"?h="right":n==="center"?(h="center",c-=l/2):(h="left",c-=l)):(c=this.left+o,n==="near"?h="left":n==="center"?(h="center",c+=l/2):(h="right",c=this.right)):h="right",{textAlign:h,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;let e=this.chart,i=this.options.position;if(i==="left"||i==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(i==="top"||i==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){let{ctx:e,options:{backgroundColor:i},left:n,top:r,width:a,height:s}=this;i&&(e.save(),e.fillStyle=i,e.fillRect(n,r,a,s),e.restore())}getLineWidthForValue(e){let i=this.options.grid;if(!this._isVisible()||!i.display)return 0;let r=this.ticks.findIndex(a=>a.value===e);return r>=0?i.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){let i=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),a,s,o=(l,h,c)=>{!c.width||!c.color||(n.save(),n.lineWidth=c.width,n.strokeStyle=c.color,n.setLineDash(c.borderDash||[]),n.lineDashOffset=c.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(h.x,h.y),n.stroke(),n.restore())};if(i.display)for(a=0,s=r.length;a<s;++a){let l=r[a];i.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),i.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:e,ctx:i,options:{border:n,grid:r}}=this,a=n.setContext(this.getContext()),s=n.display?a.width:0;if(!s)return;let o=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue,h,c,p,g;this.isHorizontal()?(h=ka(e,this.left,s)-s/2,c=ka(e,this.right,o)+o/2,p=g=l):(p=ka(e,this.top,s)-s/2,g=ka(e,this.bottom,o)+o/2,h=c=l),i.save(),i.lineWidth=a.width,i.strokeStyle=a.color,i.beginPath(),i.moveTo(h,p),i.lineTo(c,g),i.stroke(),i.restore()}drawLabels(e){if(!this.options.ticks.display)return;let n=this.ctx,r=this._computeLabelArea();r&&Al(n,r);let a=this.getLabelItems(e);for(let s of a){let o=s.options,l=s.font,h=s.label,c=s.textOffset;Da(n,h,0,c,l,o)}r&&kl(n)}drawTitle(){let{ctx:e,options:{position:i,title:n,reverse:r}}=this;if(!n.display)return;let a=Ai(n.font),s=Wi(n.padding),o=n.align,l=a.lineHeight/2;i==="bottom"||i==="center"||ge(i)?(l+=s.bottom,Ke(n.text)&&(l+=a.lineHeight*(n.text.length-1))):l+=s.top;let{titleX:h,titleY:c,maxWidth:p,rotation:g}=_3(this,l,i,o);Da(e,n.text,0,0,a,{color:n.color,maxWidth:p,rotation:g,textAlign:x3(o,i,r),textBaseline:"middle",translation:[h,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){let e=this.options,i=e.ticks&&e.ticks.z||0,n=te(e.grid&&e.grid.z,-1),r=te(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==t.prototype.draw?[{z:i,draw:a=>{this.draw(a)}}]:[{z:n,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:i,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){let i=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[],a,s;for(a=0,s=i.length;a<s;++a){let o=i[a];o[n]===this.id&&(!e||o.type===e)&&r.push(o)}return r}_resolveTickFontOptions(e){let i=this.options.ticks.setContext(this.getContext(e));return Ai(i.font)}_maxDigits(){let e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}},ho=class{constructor(e,i,n){this.type=e,this.scope=i,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){let i=Object.getPrototypeOf(e),n;S3(i)&&(n=this.register(i));let r=this.items,a=e.id,s=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in r||(r[a]=e,y3(e,s,n),this.override&&He.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){let i=this.items,n=e.id,r=this.scope;n in i&&delete i[n],r&&n in He[r]&&(delete He[r][n],this.override&&delete Aa[n])}};function y3(t,e,i){let n=Qs(Object.create(null),[i?He.get(i):{},He.get(e),t.defaults]);He.set(e,n),t.defaultRoutes&&w3(e,t.defaultRoutes),t.descriptors&&He.describe(e,t.descriptors)}function w3(t,e){Object.keys(e).forEach(i=>{let n=i.split("."),r=n.pop(),a=[t].concat(n).join("."),s=e[i].split("."),o=s.pop(),l=s.join(".");He.route(a,r,l,o)})}function S3(t){return"id"in t&&"defaults"in t}var _d=class{constructor(){this.controllers=new ho(Na,"datasets",!0),this.elements=new ho(tr,"elements"),this.plugins=new ho(Object,"plugins"),this.scales=new ho(Cs,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,i,n){[...i].forEach(r=>{let a=n||this._getRegistryForType(r);n||a.isForType(r)||a===this.plugins&&r.id?this._exec(e,a,r):Ne(r,s=>{let o=n||this._getRegistryForType(s);this._exec(e,o,s)})})}_exec(e,i,n){let r=gc(e);Ue(n["before"+r],[],n),i[e](n),Ue(n["after"+r],[],n)}_getRegistryForType(e){for(let i=0;i<this._typedRegistries.length;i++){let n=this._typedRegistries[i];if(n.isForType(e))return n}return this.plugins}_get(e,i,n){let r=i.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return r}},vr=new _d,yd=class{constructor(){this._init=void 0}notify(e,i,n,r){if(i==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;let a=r?this._descriptors(e).filter(r):this._descriptors(e),s=this._notify(a,e,i,n);return i==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),s}_notify(e,i,n,r){r=r||{};for(let a of e){let s=a.plugin,o=s[n],l=[i,r,a.options];if(Ue(o,l,s)===!1&&r.cancelable)return!1}return!0}invalidate(){pe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;let i=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),i}_createDescriptors(e,i){let n=e&&e.config,r=te(n.options&&n.options.plugins,{}),a=C3(n);return r===!1&&!i?[]:k3(e,a,r,i)}_notifyStateChanges(e){let i=this._oldCache||[],n=this._cache,r=(a,s)=>a.filter(o=>!s.some(l=>o.plugin.id===l.plugin.id));this._notify(r(i,n),e,"stop"),this._notify(r(n,i),e,"start")}};function C3(t){let e={},i=[],n=Object.keys(vr.plugins.items);for(let a=0;a<n.length;a++)i.push(vr.getPlugin(n[a]));let r=t.plugins||[];for(let a=0;a<r.length;a++){let s=r[a];i.indexOf(s)===-1&&(i.push(s),e[s.id]=!0)}return{plugins:i,localIds:e}}function A3(t,e){return!e&&t===!1?null:t===!0?{}:t}function k3(t,{plugins:e,localIds:i},n,r){let a=[],s=t.getContext();for(let o of e){let l=o.id,h=A3(n[l],r);h!==null&&a.push({plugin:o,options:D3(t.config,{plugin:o,local:i[l]},h,s)})}return a}function D3(t,{plugin:e,local:i},n,r){let a=t.pluginScopeKeys(e),s=t.getOptionScopes(n,a);return i&&e.defaults&&s.push(e.defaults),t.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function wd(t,e){let i=He.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||i.indexAxis||"x"}function L3(t,e){let i=t;return t==="_index_"?i=e:t==="_value_"&&(i=e==="x"?"y":"x"),i}function T3(t,e){return t===e?"_index_":"_value_"}function Rm(t){if(t==="x"||t==="y"||t==="r")return t}function P3(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Sd(t,...e){if(Rm(t))return t;for(let i of e){let n=i.axis||P3(i.position)||t.length>1&&Rm(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Bm(t,e,i){if(i[e+"AxisID"]===t)return{axis:e}}function N3(t,e){if(e.data&&e.data.datasets){let i=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(i.length)return Bm(t,"x",i[0])||Bm(t,"y",i[0])}return{}}function M3(t,e){let i=Aa[t.type]||{scales:{}},n=e.scales||{},r=wd(t.type,e),a=Object.create(null);return Object.keys(n).forEach(s=>{let o=n[s];if(!ge(o))return console.error(`Invalid scale configuration for scale: ${s}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);let l=Sd(s,o,N3(s,t),He.scales[o.type]),h=T3(l,r),c=i.scales||{};a[s]=eo(Object.create(null),[{axis:l},o,c[l],c[h]])}),t.data.datasets.forEach(s=>{let o=s.type||t.type,l=s.indexAxis||wd(o,e),c=(Aa[o]||{}).scales||{};Object.keys(c).forEach(p=>{let g=L3(p,l),f=s[g+"AxisID"]||g;a[f]=a[f]||Object.create(null),eo(a[f],[{axis:g},n[f],c[p]])})}),Object.keys(a).forEach(s=>{let o=a[s];eo(o,[He.scales[o.type],He.scale])}),a}function A2(t){let e=t.options||(t.options={});e.plugins=te(e.plugins,{}),e.scales=M3(t,e)}function k2(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function I3(t){return t=t||{},t.data=k2(t.data),A2(t),t}var jm=new Map,D2=new Set;function Lc(t,e){let i=jm.get(t);return i||(i=e(),jm.set(t,i),D2.add(i)),i}var Nl=(t,e,i)=>{let n=qr(e,i);n!==void 0&&t.add(n)},Cd=class{constructor(e){this._config=I3(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=k2(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){let e=this._config;this.clearCache(),A2(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Lc(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,i){return Lc(`${e}.transition.${i}`,()=>[[`datasets.${e}.transitions.${i}`,`transitions.${i}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,i){return Lc(`${e}-${i}`,()=>[[`datasets.${e}.elements.${i}`,`datasets.${e}`,`elements.${i}`,""]])}pluginScopeKeys(e){let i=e.id,n=this.type;return Lc(`${n}-plugin-${i}`,()=>[[`plugins.${i}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,i){let n=this._scopeCache,r=n.get(e);return(!r||i)&&(r=new Map,n.set(e,r)),r}getOptionScopes(e,i,n){let{options:r,type:a}=this,s=this._cachedScopes(e,n),o=s.get(i);if(o)return o;let l=new Set;i.forEach(c=>{e&&(l.add(e),c.forEach(p=>Nl(l,e,p))),c.forEach(p=>Nl(l,r,p)),c.forEach(p=>Nl(l,Aa[a]||{},p)),c.forEach(p=>Nl(l,He,p)),c.forEach(p=>Nl(l,xc,p))});let h=Array.from(l);return h.length===0&&h.push(Object.create(null)),D2.has(i)&&s.set(i,h),h}chartOptionScopes(){let{options:e,type:i}=this;return[e,Aa[i]||{},He.datasets[i]||{},{type:i},He,xc]}resolveNamedOptions(e,i,n,r=[""]){let a={$shared:!0},{resolver:s,subPrefixes:o}=zm(this._resolverCache,e,r),l=s;if(E3(s,i)){a.$shared=!1,n=Ur(n)?n():n;let h=this.createResolver(e,n,o);l=xs(s,n,h)}for(let h of i)a[h]=l[h];return a}createResolver(e,i,n=[""],r){let{resolver:a}=zm(this._resolverCache,e,n);return ge(i)?xs(a,i,void 0,r):a}};function zm(t,e,i){let n=t.get(e);n||(n=new Map,t.set(e,n));let r=i.join(),a=n.get(r);return a||(a={resolver:wc(e,i),subPrefixes:i.filter(o=>!o.toLowerCase().includes("hover"))},n.set(r,a)),a}var O3=t=>ge(t)&&Object.getOwnPropertyNames(t).some(e=>Ur(t[e]));function E3(t,e){let{isScriptable:i,isIndexable:n}=Yf(t);for(let r of e){let a=i(r),s=n(r),o=(s||a)&&t[r];if(a&&(Ur(o)||O3(o))||s&&Ke(o))return!0}return!1}var F3="4.5.1",R3=["top","bottom","left","right","chartArea"];function Vm(t,e){return t==="top"||t==="bottom"||R3.indexOf(t)===-1&&e==="x"}function Um(t,e){return function(i,n){return i[t]===n[t]?i[e]-n[e]:i[t]-n[t]}}function Hm(t){let e=t.chart,i=e.options.animation;e.notifyPlugins("afterRender"),Ue(i&&i.onComplete,[t],e)}function B3(t){let e=t.chart,i=e.options.animation;Ue(i&&i.onProgress,[t],e)}function L2(t){return Sc()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}var Ic={},qm=t=>{let e=L2(t);return Object.values(Ic).filter(i=>i.canvas===e).pop()};function j3(t,e,i){let n=Object.keys(t);for(let r of n){let a=+r;if(a>=e){let s=t[r];delete t[r],(i>0||a>e)&&(t[a+i]=s)}}}function z3(t,e,i,n){return!i||t.type==="mouseout"?null:n?e:t}var uo=(()=>{class t{static defaults=He;static instances=Ic;static overrides=Aa;static registry=vr;static version=F3;static getChart=qm;static register(...i){vr.add(...i),Wm()}static unregister(...i){vr.remove(...i),Wm()}constructor(i,n){let r=this.config=new Cd(n),a=L2(i),s=qm(a);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");let o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||o3(a)),this.platform.updateConfig(r);let l=this.platform.acquireContext(a,o.aspectRatio),h=l&&l.canvas,c=h&&h.height,p=h&&h.width;if(this.id=H1(),this.ctx=l,this.canvas=h,this.width=p,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new yd,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=tm(g=>this.update(g),o.resizeDelay||0),this._dataChanges=[],Ic[this.id]=this,!l||!h){console.error("Failed to create chart: can't acquire context from the given item");return}$r.listen(this,"complete",Hm),$r.listen(this,"progress",B3),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:i,maintainAspectRatio:n},width:r,height:a,_aspectRatio:s}=this;return pe(i)?n&&s?s:a?r/a:null:i}get data(){return this.config.data}set data(i){this.config.data=i}get options(){return this._options}set options(i){this.config.options=i}get registry(){return vr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Kf(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return qf(this.canvas,this.ctx),this}stop(){return $r.stop(this),this}resize(i,n){$r.running(this)?this._resizeBeforeDraw={width:i,height:n}:this._resize(i,n)}_resize(i,n){let r=this.options,a=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(a,i,n,s),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Kf(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),Ue(r.onResize,[this,o],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){let n=this.options.scales||{};Ne(n,(r,a)=>{r.id=a})}buildOrUpdateScales(){let i=this.options,n=i.scales,r=this.scales,a=Object.keys(r).reduce((o,l)=>(o[l]=!1,o),{}),s=[];n&&(s=s.concat(Object.keys(n).map(o=>{let l=n[o],h=Sd(o,l),c=h==="r",p=h==="x";return{options:l,dposition:c?"chartArea":p?"bottom":"left",dtype:c?"radialLinear":p?"category":"linear"}}))),Ne(s,o=>{let l=o.options,h=l.id,c=Sd(h,l),p=te(l.type,o.dtype);(l.position===void 0||Vm(l.position,c)!==Vm(o.dposition))&&(l.position=o.dposition),a[h]=!0;let g=null;if(h in r&&r[h].type===p)g=r[h];else{let f=vr.getScale(p);g=new f({id:h,type:p,ctx:this.ctx,chart:this}),r[g.id]=g}g.init(l,i)}),Ne(a,(o,l)=>{o||delete r[l]}),Ne(r,o=>{Ki.configure(this,o,o.options),Ki.addBox(this,o)})}_updateMetasets(){let i=this._metasets,n=this.data.datasets.length,r=i.length;if(i.sort((a,s)=>a.index-s.index),r>n){for(let a=n;a<r;++a)this._destroyDatasetMeta(a);i.splice(n,r-n)}this._sortedMetasets=i.slice(0).sort(Um("order","index"))}_removeUnreferencedMetasets(){let{_metasets:i,data:{datasets:n}}=this;i.length>n.length&&delete this._stacks,i.forEach((r,a)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){let i=[],n=this.data.datasets,r,a;for(this._removeUnreferencedMetasets(),r=0,a=n.length;r<a;r++){let s=n[r],o=this.getDatasetMeta(r),l=s.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=l,o.indexAxis=s.indexAxis||wd(l,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{let h=vr.getController(l),{datasetElementType:c,dataElementType:p}=He.datasets[l];Object.assign(h,{dataElementType:vr.getElement(p),datasetElementType:c&&vr.getElement(c)}),o.controller=new h(this,r),i.push(o.controller)}}return this._updateMetasets(),i}_resetElements(){Ne(this.data.datasets,(i,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(i){let n=this.config;n.update();let r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:i,cancelable:!0})===!1)return;let s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,p=this.data.datasets.length;c<p;c++){let{controller:g}=this.getDatasetMeta(c),f=!a&&s.indexOf(g)===-1;g.buildOrUpdateElements(f),o=Math.max(+g.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),a||Ne(s,c=>{c.reset()}),this._updateDatasets(i),this.notifyPlugins("afterUpdate",{mode:i}),this._layers.sort(Um("z","_idx"));let{_active:l,_lastEvent:h}=this;h?this._eventHandler(h,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Ne(this.scales,i=>{Ki.removeBox(this,i)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let i=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(i.events);(!Nf(n,r)||!!this._responsiveListeners!==i.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:i}=this,n=this._getUniformDataChanges()||[];for(let{method:r,start:a,count:s}of n){let o=r==="_removeElements"?-s:s;j3(i,a,o)}}_getUniformDataChanges(){let i=this._dataChanges;if(!i||!i.length)return;this._dataChanges=[];let n=this.data.datasets.length,r=s=>new Set(i.filter(o=>o[0]===s).map((o,l)=>l+","+o.splice(1).join(","))),a=r(0);for(let s=1;s<n;s++)if(!Nf(a,r(s)))return;return Array.from(a).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(i){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ki.update(this,this.width,this.height,i);let n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Ne(this.boxes,a=>{r&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,s)=>{a._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(i){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:i,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Ur(i)?i({datasetIndex:n}):i);this.notifyPlugins("afterDatasetsUpdate",{mode:i})}}_updateDataset(i,n){let r=this.getDatasetMeta(i),a={meta:r,index:i,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(r.controller._update(n),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&($r.has(this)?this.attached&&!$r.running(this)&&$r.start(this):(this.draw(),Hm({chart:this})))}draw(){let i;if(this._resizeBeforeDraw){let{width:r,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let n=this._layers;for(i=0;i<n.length&&n[i].z<=0;++i)n[i].draw(this.chartArea);for(this._drawDatasets();i<n.length;++i)n[i].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(i){let n=this._sortedMetasets,r=[],a,s;for(a=0,s=n.length;a<s;++a){let o=n[a];(!i||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let i=this.getSortedVisibleDatasetMetas();for(let n=i.length-1;n>=0;--n)this._drawDataset(i[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(i){let n=this.ctx,r={meta:i,index:i.index,cancelable:!0},a=nd(this,i);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(a&&Al(n,a),i.controller.draw(),a&&kl(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(i){return pr(i,this.chartArea,this._minPadding)}getElementsAtEventForMode(i,n,r,a){let s=Uw.modes[n];return typeof s=="function"?s(this,i,r,a):[]}getDatasetMeta(i){let n=this.data.datasets[i],r=this._metasets,a=r.filter(s=>s&&s._dataset===n).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:i,_dataset:n,_parsed:[],_sorted:!1},r.push(a)),a}getContext(){return this.$context||(this.$context=Wr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(i){let n=this.data.datasets[i];if(!n)return!1;let r=this.getDatasetMeta(i);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(i,n){let r=this.getDatasetMeta(i);r.hidden=!n}toggleDataVisibility(i){this._hiddenIndices[i]=!this._hiddenIndices[i]}getDataVisibility(i){return!this._hiddenIndices[i]}_updateVisibility(i,n,r){let a=r?"show":"hide",s=this.getDatasetMeta(i),o=s.controller._resolveAnimations(void 0,a);io(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(i,r),o.update(s,{visible:r}),this.update(l=>l.datasetIndex===i?a:void 0))}hide(i,n){this._updateVisibility(i,n,!1)}show(i,n){this._updateVisibility(i,n,!0)}_destroyDatasetMeta(i){let n=this._metasets[i];n&&n.controller&&n.controller._destroy(),delete this._metasets[i]}_stop(){let i,n;for(this.stop(),$r.remove(this),i=0,n=this.data.datasets.length;i<n;++i)this._destroyDatasetMeta(i)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:i,ctx:n}=this;this._stop(),this.config.clearCache(),i&&(this.unbindEvents(),qf(i,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Ic[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...i){return this.canvas.toDataURL(...i)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let i=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),i[s]=o},a=(s,o,l)=>{s.offsetX=o,s.offsetY=l,this._eventHandler(s)};Ne(this.options.events,s=>r(s,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let i=this._responsiveListeners,n=this.platform,r=(h,c)=>{n.addEventListener(this,h,c),i[h]=c},a=(h,c)=>{i[h]&&(n.removeEventListener(this,h,c),delete i[h])},s=(h,c)=>{this.canvas&&this.resize(h,c)},o,l=()=>{a("attach",l),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,a("resize",s),this._stop(),this._resize(0,0),r("attach",l)},n.isAttached(this.canvas)?l():o()}unbindEvents(){Ne(this._listeners,(i,n)=>{this.platform.removeEventListener(this,n,i)}),this._listeners={},Ne(this._responsiveListeners,(i,n)=>{this.platform.removeEventListener(this,n,i)}),this._responsiveListeners=void 0}updateHoverStyle(i,n,r){let a=r?"set":"remove",s,o,l,h;for(n==="dataset"&&(s=this.getDatasetMeta(i[0].datasetIndex),s.controller["_"+a+"DatasetHoverStyle"]()),l=0,h=i.length;l<h;++l){o=i[l];let c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[a+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(i){let n=this._active||[],r=i.map(({datasetIndex:s,index:o})=>{let l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[o],index:o}});!Sl(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(i,n,r){return this._plugins.notify(this,i,n,r)}isPluginEnabled(i){return this._plugins._cache.filter(n=>n.plugin.id===i).length===1}_updateHoverStyles(i,n,r){let a=this.options.hover,s=(h,c)=>h.filter(p=>!c.some(g=>p.datasetIndex===g.datasetIndex&&p.index===g.index)),o=s(n,i),l=r?i:s(i,n);o.length&&this.updateHoverStyle(o,a.mode,!1),l.length&&a.mode&&this.updateHoverStyle(l,a.mode,!0)}_eventHandler(i,n){let r={event:i,replay:n,cancelable:!0,inChartArea:this.isPointInArea(i)},a=o=>(o.options.events||this.options.events).includes(i.native.type);if(this.notifyPlugins("beforeEvent",r,a)===!1)return;let s=this._handleEvent(i,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,a),(s||r.changed)&&this.render(),this}_handleEvent(i,n,r){let{_active:a=[],options:s}=this,o=n,l=this._getActiveElements(i,a,r,o),h=$1(i),c=z3(i,this._lastEvent,r,h);r&&(this._lastEvent=null,Ue(s.onHover,[i,l,this],this),h&&Ue(s.onClick,[i,l,this],this));let p=!Sl(l,a);return(p||n)&&(this._active=l,this._updateHoverStyles(l,a,n)),this._lastEvent=c,p}_getActiveElements(i,n,r,a){if(i.type==="mouseout")return[];if(!r)return n;let s=this.options.hover;return this.getElementsAtEventForMode(i,s.mode,s,a)}}return t})();function Wm(){return Ne(uo.instances,t=>t._plugins.invalidate())}function V3(t,e,i){let{startAngle:n,x:r,y:a,outerRadius:s,innerRadius:o,options:l}=e,{borderWidth:h,borderJoinStyle:c}=l,p=Math.min(h/s,Hi(n-i));if(t.beginPath(),t.arc(r,a,s-h/2,n+p/2,i-p/2),o>0){let g=Math.min(h/o,Hi(n-i));t.arc(r,a,o+h/2,i-g/2,n+g/2,!0)}else{let g=Math.min(h/2,s*Hi(n-i));if(c==="round")t.arc(r,a,g,i-Se/2,n+Se/2,!0);else if(c==="bevel"){let f=2*g*g,v=-f*Math.cos(i+Se/2)+r,x=-f*Math.sin(i+Se/2)+a,y=f*Math.cos(n+Se/2)+r,w=f*Math.sin(n+Se/2)+a;t.lineTo(v,x),t.lineTo(y,w)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function U3(t,e,i){let{startAngle:n,pixelMargin:r,x:a,y:s,outerRadius:o,innerRadius:l}=e,h=r/o;t.beginPath(),t.arc(a,s,o,n-h,i+h),l>r?(h=r/l,t.arc(a,s,l,i+h,n-h,!0)):t.arc(a,s,r,i+ci,n-ci),t.closePath(),t.clip()}function H3(t){return yc(t,["outerStart","outerEnd","innerStart","innerEnd"])}function q3(t,e,i,n){let r=H3(t.options.borderRadius),a=(i-e)/2,s=Math.min(a,n*e/2),o=l=>{let h=(i-Math.min(a,l))*n/2;return Oi(l,0,Math.min(a,h))};return{outerStart:o(r.outerStart),outerEnd:o(r.outerEnd),innerStart:Oi(r.innerStart,0,s),innerEnd:Oi(r.innerEnd,0,s)}}function lo(t,e,i,n){return{x:i+t*Math.cos(e),y:n+t*Math.sin(e)}}function Rc(t,e,i,n,r,a){let{x:s,y:o,startAngle:l,pixelMargin:h,innerRadius:c}=e,p=Math.max(e.outerRadius+n+i-h,0),g=c>0?c+n+i+h:0,f=0,v=r-l;if(n){let et=c>0?c-n:0,ot=p>0?p-n:0,lt=(et+ot)/2,nt=lt!==0?v*lt/(lt+n):v;f=(v-nt)/2}let x=Math.max(.001,v*p-i/Se)/p,y=(v-x)/2,w=l+y+f,A=r-y-f,{outerStart:N,outerEnd:T,innerStart:F,innerEnd:$}=q3(e,g,p,A-w),K=p-N,z=p-T,E=w+N/K,X=A-T/z,D=g+F,I=g+$,W=w+F/D,q=A-$/I;if(t.beginPath(),a){let et=(E+X)/2;if(t.arc(s,o,p,E,et),t.arc(s,o,p,et,X),T>0){let ht=lo(z,X,s,o);t.arc(ht.x,ht.y,T,X,A+ci)}let ot=lo(I,A,s,o);if(t.lineTo(ot.x,ot.y),$>0){let ht=lo(I,q,s,o);t.arc(ht.x,ht.y,$,A+ci,q+Math.PI)}let lt=(A-$/g+(w+F/g))/2;if(t.arc(s,o,g,A-$/g,lt,!0),t.arc(s,o,g,lt,w+F/g,!0),F>0){let ht=lo(D,W,s,o);t.arc(ht.x,ht.y,F,W+Math.PI,w-ci)}let nt=lo(K,w,s,o);if(t.lineTo(nt.x,nt.y),N>0){let ht=lo(K,E,s,o);t.arc(ht.x,ht.y,N,w-ci,E)}}else{t.moveTo(s,o);let et=Math.cos(E)*p+s,ot=Math.sin(E)*p+o;t.lineTo(et,ot);let lt=Math.cos(X)*p+s,nt=Math.sin(X)*p+o;t.lineTo(lt,nt)}t.closePath()}function W3(t,e,i,n,r){let{fullCircles:a,startAngle:s,circumference:o}=e,l=e.endAngle;if(a){Rc(t,e,i,n,l,r);for(let h=0;h<a;++h)t.fill();isNaN(o)||(l=s+(o%Je||Je))}return Rc(t,e,i,n,l,r),t.fill(),l}function $3(t,e,i,n,r){let{fullCircles:a,startAngle:s,circumference:o,options:l}=e,{borderWidth:h,borderJoinStyle:c,borderDash:p,borderDashOffset:g,borderRadius:f}=l,v=l.borderAlign==="inner";if(!h)return;t.setLineDash(p||[]),t.lineDashOffset=g,v?(t.lineWidth=h*2,t.lineJoin=c||"round"):(t.lineWidth=h,t.lineJoin=c||"bevel");let x=e.endAngle;if(a){Rc(t,e,i,n,x,r);for(let y=0;y<a;++y)t.stroke();isNaN(o)||(x=s+(o%Je||Je))}v&&U3(t,e,x),l.selfJoin&&x-s>=Se&&f===0&&c!=="miter"&&V3(t,e,x),a||(Rc(t,e,i,n,x,r),t.stroke())}var Ad=class extends tr{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,i,n){let r=this.getProps(["x","y"],n),{angle:a,distance:s}=Ef(r,{x:e,y:i}),{startAngle:o,endAngle:l,innerRadius:h,outerRadius:c,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),g=(this.options.spacing+this.options.borderWidth)/2,f=te(p,l-o),v=ro(a,o,l)&&o!==l,x=f>=Je||v,y=mr(s,h+g,c+g);return x&&y}getCenterPoint(e){let{x:i,y:n,startAngle:r,endAngle:a,innerRadius:s,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:l,spacing:h}=this.options,c=(r+a)/2,p=(s+o+h+l)/2;return{x:i+Math.cos(c)*p,y:n+Math.sin(c)*p}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){let{options:i,circumference:n}=this,r=(i.offset||0)/4,a=(i.spacing||0)/2,s=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=n>Je?Math.floor(n/Je):0,n===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let o=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(o)*r,Math.sin(o)*r);let l=1-Math.sin(Math.min(Se,n||0)),h=r*l;e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,W3(e,this,h,a,s),$3(e,this,h,a,s),e.restore()}};function T2(t,e,i=e){t.lineCap=te(i.borderCapStyle,e.borderCapStyle),t.setLineDash(te(i.borderDash,e.borderDash)),t.lineDashOffset=te(i.borderDashOffset,e.borderDashOffset),t.lineJoin=te(i.borderJoinStyle,e.borderJoinStyle),t.lineWidth=te(i.borderWidth,e.borderWidth),t.strokeStyle=te(i.borderColor,e.borderColor)}function Y3(t,e,i){t.lineTo(i.x,i.y)}function G3(t){return t.stepped?rm:t.tension||t.cubicInterpolationMode==="monotone"?am:Y3}function P2(t,e,i={}){let n=t.length,{start:r=0,end:a=n-1}=i,{start:s,end:o}=e,l=Math.max(r,s),h=Math.min(a,o),c=r<s&&a<s||r>o&&a>o;return{count:n,start:l,loop:e.loop,ilen:h<l&&!c?n+h-l:h-l}}function Z3(t,e,i,n){let{points:r,options:a}=e,{count:s,start:o,loop:l,ilen:h}=P2(r,i,n),c=G3(a),{move:p=!0,reverse:g}=n||{},f,v,x;for(f=0;f<=h;++f)v=r[(o+(g?h-f:f))%s],!v.skip&&(p?(t.moveTo(v.x,v.y),p=!1):c(t,x,v,g,a.stepped),x=v);return l&&(v=r[(o+(g?h:0))%s],c(t,x,v,g,a.stepped)),!!l}function X3(t,e,i,n){let r=e.points,{count:a,start:s,ilen:o}=P2(r,i,n),{move:l=!0,reverse:h}=n||{},c=0,p=0,g,f,v,x,y,w,A=T=>(s+(h?o-T:T))%a,N=()=>{x!==y&&(t.lineTo(c,y),t.lineTo(c,x),t.lineTo(c,w))};for(l&&(f=r[A(0)],t.moveTo(f.x,f.y)),g=0;g<=o;++g){if(f=r[A(g)],f.skip)continue;let T=f.x,F=f.y,$=T|0;$===v?(F<x?x=F:F>y&&(y=F),c=(p*c+T)/++p):(N(),t.lineTo(T,F),v=$,p=0,x=y=F),w=F}N()}function kd(t){let e=t.options,i=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!i?X3:Z3}function K3(t){return t.stepped?pm:t.tension||t.cubicInterpolationMode==="monotone"?gm:Sa}function J3(t,e,i,n){let r=e._path;r||(r=e._path=new Path2D,e.path(r,i,n)&&r.closePath()),T2(t,e.options),t.stroke(r)}function Q3(t,e,i,n){let{segments:r,options:a}=e,s=kd(e);for(let o of r)T2(t,a,o.style),t.beginPath(),s(t,e,o,{start:i,end:i+n-1})&&t.closePath(),t.stroke()}var t4=typeof Path2D=="function";function e4(t,e,i,n){t4&&!e.options.segment?J3(t,e,i,n):Q3(t,e,i,n)}var zc=(()=>{class t extends tr{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:i=>i!=="borderDash"&&i!=="fill"};constructor(i){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,i&&Object.assign(this,i)}updateControlPoints(i,n){let r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){let a=r.spanGaps?this._loop:this._fullLoop;um(this._points,r,i,a,n),this._pointsUpdated=!0}}set points(i){this._points=i,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=bm(this,this.options.segment))}first(){let i=this.segments,n=this.points;return i.length&&n[i[0].start]}last(){let i=this.segments,n=this.points,r=i.length;return r&&n[i[r-1].end]}interpolate(i,n){let r=this.options,a=i[n],s=this.points,o=id(this,{property:n,start:a,end:a});if(!o.length)return;let l=[],h=K3(r),c,p;for(c=0,p=o.length;c<p;++c){let{start:g,end:f}=o[c],v=s[g],x=s[f];if(v===x){l.push(v);continue}let y=Math.abs((a-v[n])/(x[n]-v[n])),w=h(v,x,y,r.stepped);w[n]=i[n],l.push(w)}return l.length===1?l[0]:l}pathSegment(i,n,r){return kd(this)(i,this,n,r)}path(i,n,r){let a=this.segments,s=kd(this),o=this._loop;n=n||0,r=r||this.points.length-n;for(let l of a)o&=s(i,this,l,{start:n,end:n+r-1});return!!o}draw(i,n,r,a){let s=this.options||{};(this.points||[]).length&&s.borderWidth&&(i.save(),e4(i,this,r,a),i.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return t})();function $m(t,e,i,n){let r=t.options,{[i]:a}=t.getProps([i],n);return Math.abs(e-a)<r.radius+r.hitRadius}var i4=(()=>{class t extends tr{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(i){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,i&&Object.assign(this,i)}inRange(i,n,r){let a=this.options,{x:s,y:o}=this.getProps(["x","y"],r);return Math.pow(i-s,2)+Math.pow(n-o,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(i,n){return $m(this,i,"x",n)}inYRange(i,n){return $m(this,i,"y",n)}getCenterPoint(i){let{x:n,y:r}=this.getProps(["x","y"],i);return{x:n,y:r}}size(i){i=i||this.options||{};let n=i.radius||0;n=Math.max(n,n&&i.hoverRadius||0);let r=n&&i.borderWidth||0;return(n+r)*2}draw(i,n){let r=this.options;this.skip||r.radius<.1||!pr(this,n,this.size(r)/2)||(i.strokeStyle=r.borderColor,i.lineWidth=r.borderWidth,i.fillStyle=r.backgroundColor,_c(i,r,this.x,this.y))}getRange(){let i=this.options||{};return i.radius+i.hitRadius}}return t})();function N2(t,e){let{x:i,y:n,base:r,width:a,height:s}=t.getProps(["x","y","base","width","height"],e),o,l,h,c,p;return t.horizontal?(p=s/2,o=Math.min(i,r),l=Math.max(i,r),h=n-p,c=n+p):(p=a/2,o=i-p,l=i+p,h=Math.min(n,r),c=Math.max(n,r)),{left:o,top:h,right:l,bottom:c}}function Pa(t,e,i,n){return t?0:Oi(e,i,n)}function n4(t,e,i){let n=t.options.borderWidth,r=t.borderSkipped,a=$f(n);return{t:Pa(r.top,a.top,0,i),r:Pa(r.right,a.right,0,e),b:Pa(r.bottom,a.bottom,0,i),l:Pa(r.left,a.left,0,e)}}function r4(t,e,i){let{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,a=La(r),s=Math.min(e,i),o=t.borderSkipped,l=n||ge(r);return{topLeft:Pa(!l||o.top||o.left,a.topLeft,0,s),topRight:Pa(!l||o.top||o.right,a.topRight,0,s),bottomLeft:Pa(!l||o.bottom||o.left,a.bottomLeft,0,s),bottomRight:Pa(!l||o.bottom||o.right,a.bottomRight,0,s)}}function a4(t){let e=N2(t),i=e.right-e.left,n=e.bottom-e.top,r=n4(t,i/2,n/2),a=r4(t,i/2,n/2);return{outer:{x:e.left,y:e.top,w:i,h:n,radius:a},inner:{x:e.left+r.l,y:e.top+r.t,w:i-r.l-r.r,h:n-r.t-r.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,a.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(r.b,r.r))}}}}function ud(t,e,i,n){let r=e===null,a=i===null,o=t&&!(r&&a)&&N2(t,n);return o&&(r||mr(e,o.left,o.right))&&(a||mr(i,o.top,o.bottom))}function s4(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function o4(t,e){t.rect(e.x,e.y,e.w,e.h)}function fd(t,e,i={}){let n=t.x!==i.x?-e:0,r=t.y!==i.y?-e:0,a=(t.x+t.w!==i.x+i.w?e:0)-n,s=(t.y+t.h!==i.y+i.h?e:0)-r;return{x:t.x+n,y:t.y+r,w:t.w+a,h:t.h+s,radius:t.radius}}var Dd=class extends tr{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){let{inflateAmount:i,options:{borderColor:n,backgroundColor:r}}=this,{inner:a,outer:s}=a4(this),o=s4(s.radius)?so:o4;e.save(),(s.w!==a.w||s.h!==a.h)&&(e.beginPath(),o(e,fd(s,i,a)),e.clip(),o(e,fd(a,-i,s)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),o(e,fd(a,i)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,i,n){return ud(this,e,i,n)}inXRange(e,i){return ud(this,e,null,i)}inYRange(e,i){return ud(this,null,e,i)}getCenterPoint(e){let{x:i,y:n,base:r,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(i+r)/2:i,y:a?n:(n+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}},l4=Object.freeze({__proto__:null,ArcElement:Ad,BarElement:Dd,LineElement:zc,PointElement:i4}),Ld=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Ym=Ld.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function M2(t){return Ld[t%Ld.length]}function I2(t){return Ym[t%Ym.length]}function h4(t,e){return t.borderColor=M2(e),t.backgroundColor=I2(e),++e}function c4(t,e){return t.backgroundColor=t.data.map(()=>M2(e++)),e}function u4(t,e){return t.backgroundColor=t.data.map(()=>I2(e++)),e}function f4(t){let e=0;return(i,n)=>{let r=t.getDatasetMeta(n).controller;r instanceof Fd?e=c4(i,e):r instanceof _2?e=u4(i,e):r&&(e=h4(i,e))}}function Gm(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function d4(t){return t&&(t.borderColor||t.backgroundColor)}function p4(){return He.borderColor!=="rgba(0,0,0,0.1)"||He.backgroundColor!=="rgba(0,0,0,0.1)"}var g4={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,i){if(!i.enabled)return;let{data:{datasets:n},options:r}=t.config,{elements:a}=r,s=Gm(n)||d4(r)||a&&Gm(a)||p4();if(!i.forceOverride&&s)return;let o=f4(t);n.forEach(o)}};function m4(t,e,i,n,r){let a=r.samples||n;if(a>=i)return t.slice(e,e+i);let s=[],o=(i-2)/(a-2),l=0,h=e+i-1,c=e,p,g,f,v,x;for(s[l++]=t[c],p=0;p<a-2;p++){let y=0,w=0,A,N=Math.floor((p+1)*o)+1+e,T=Math.min(Math.floor((p+2)*o)+1,i)+e,F=T-N;for(A=N;A<T;A++)y+=t[A].x,w+=t[A].y;y/=F,w/=F;let $=Math.floor(p*o)+1+e,K=Math.min(Math.floor((p+1)*o)+1,i)+e,{x:z,y:E}=t[c];for(f=v=-1,A=$;A<K;A++)v=.5*Math.abs((z-y)*(t[A].y-E)-(z-t[A].x)*(w-E)),v>f&&(f=v,g=t[A],x=A);s[l++]=g,c=x}return s[l++]=t[h],s}function b4(t,e,i,n){let r=0,a=0,s,o,l,h,c,p,g,f,v,x,y=[],w=e+i-1,A=t[e].x,T=t[w].x-A;for(s=e;s<e+i;++s){o=t[s],l=(o.x-A)/T*n,h=o.y;let F=l|0;if(F===c)h<v?(v=h,p=s):h>x&&(x=h,g=s),r=(a*r+o.x)/++a;else{let $=s-1;if(!pe(p)&&!pe(g)){let K=Math.min(p,g),z=Math.max(p,g);K!==f&&K!==$&&y.push(Ge(Ee({},t[K]),{x:r})),z!==f&&z!==$&&y.push(Ge(Ee({},t[z]),{x:r}))}s>0&&$!==f&&y.push(t[$]),y.push(o),c=F,a=0,v=x=h,p=g=f=s}}return y}function O2(t){if(t._decimated){let e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function Zm(t){t.data.datasets.forEach(e=>{O2(e)})}function v4(t,e){let i=e.length,n=0,r,{iScale:a}=t,{min:s,max:o,minDefined:l,maxDefined:h}=a.getUserBounds();return l&&(n=Oi(dr(e,a.axis,s).lo,0,i-1)),h?r=Oi(dr(e,a.axis,o).hi+1,n,i)-n:r=i-n,{start:n,count:r}}var x4={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,i)=>{if(!i.enabled){Zm(t);return}let n=t.width;t.data.datasets.forEach((r,a)=>{let{_data:s,indexAxis:o}=r,l=t.getDatasetMeta(a),h=s||r.data;if(oo([o,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;let c=t.scales[l.xAxisID];if(c.type!=="linear"&&c.type!=="time"||t.options.parsing)return;let{start:p,count:g}=v4(l,h),f=i.threshold||4*n;if(g<=f){O2(r);return}pe(s)&&(r._data=h,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(x){this._data=x}}));let v;switch(i.algorithm){case"lttb":v=m4(h,p,g,n,i);break;case"min-max":v=b4(h,p,g,n);break;default:throw new Error(`Unsupported decimation algorithm '${i.algorithm}'`)}r._decimated=v})},destroy(t){Zm(t)}};function _4(t,e,i){let n=t.segments,r=t.points,a=e.points,s=[];for(let o of n){let{start:l,end:h}=o;h=Vc(l,h,r);let c=Td(i,r[l],r[h],o.loop);if(!e.segments){s.push({source:o,target:c,start:r[l],end:r[h]});continue}let p=id(e,c);for(let g of p){let f=Td(i,a[g.start],a[g.end],g.loop),v=ed(o,r,f);for(let x of v)s.push({source:x,target:g,start:{[i]:Xm(c,f,"start",Math.max)},end:{[i]:Xm(c,f,"end",Math.min)}})}}return s}function Td(t,e,i,n){if(n)return;let r=e[t],a=i[t];return t==="angle"&&(r=Hi(r),a=Hi(a)),{property:t,start:r,end:a}}function y4(t,e){let{x:i=null,y:n=null}=t||{},r=e.points,a=[];return e.segments.forEach(({start:s,end:o})=>{o=Vc(s,o,r);let l=r[s],h=r[o];n!==null?(a.push({x:l.x,y:n}),a.push({x:h.x,y:n})):i!==null&&(a.push({x:i,y:l.y}),a.push({x:i,y:h.y}))}),a}function Vc(t,e,i){for(;e>t;e--){let n=i[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function Xm(t,e,i,n){return t&&e?n(t[i],e[i]):t?t[i]:e?e[i]:0}function E2(t,e){let i=[],n=!1;return Ke(t)?(n=!0,i=t):i=y4(t,e),i.length?new zc({points:i,options:{tension:0},_loop:n,_fullLoop:n}):null}function Km(t){return t&&t.fill!==!1}function w4(t,e,i){let r=t[e].fill,a=[e],s;if(!i)return r;for(;r!==!1&&a.indexOf(r)===-1;){if(!ni(r))return r;if(s=t[r],!s)return!1;if(s.visible)return r;a.push(r),r=s.fill}return!1}function S4(t,e,i){let n=D4(t);if(ge(n))return isNaN(n.value)?!1:n;let r=parseFloat(n);return ni(r)&&Math.floor(r)===r?C4(n[0],e,r,i):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function C4(t,e,i,n){return(t==="-"||t==="+")&&(i=e+i),i===e||i<0||i>=n?!1:i}function A4(t,e){let i=null;return t==="start"?i=e.bottom:t==="end"?i=e.top:ge(t)?i=e.getPixelForValue(t.value):e.getBasePixel&&(i=e.getBasePixel()),i}function k4(t,e,i){let n;return t==="start"?n=i:t==="end"?n=e.options.reverse?e.min:e.max:ge(t)?n=t.value:n=e.getBaseValue(),n}function D4(t){let e=t.options,i=e.fill,n=te(i&&i.target,i);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function L4(t){let{scale:e,index:i,line:n}=t,r=[],a=n.segments,s=n.points,o=T4(e,i);o.push(E2({x:null,y:e.bottom},n));for(let l=0;l<a.length;l++){let h=a[l];for(let c=h.start;c<=h.end;c++)P4(r,s[c],o)}return new zc({points:r,options:{}})}function T4(t,e){let i=[],n=t.getMatchingVisibleMetas("line");for(let r=0;r<n.length;r++){let a=n[r];if(a.index===e)break;a.hidden||i.unshift(a.dataset)}return i}function P4(t,e,i){let n=[];for(let r=0;r<i.length;r++){let a=i[r],{first:s,last:o,point:l}=N4(a,e,"x");if(!(!l||s&&o)){if(s)n.unshift(l);else if(t.push(l),!o)break}}t.push(...n)}function N4(t,e,i){let n=t.interpolate(e,i);if(!n)return{};let r=n[i],a=t.segments,s=t.points,o=!1,l=!1;for(let h=0;h<a.length;h++){let c=a[h],p=s[c.start][i],g=s[c.end][i];if(mr(r,p,g)){o=r===p,l=r===g;break}}return{first:o,last:l,point:n}}var Bc=class{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,i,n){let{x:r,y:a,radius:s}=this;return i=i||{start:0,end:Je},e.arc(r,a,s,i.end,i.start,!0),!n.bounds}interpolate(e){let{x:i,y:n,radius:r}=this,a=e.angle;return{x:i+Math.cos(a)*r,y:n+Math.sin(a)*r,angle:a}}};function M4(t){let{chart:e,fill:i,line:n}=t;if(ni(i))return I4(e,i);if(i==="stack")return L4(t);if(i==="shape")return!0;let r=O4(t);return r instanceof Bc?r:E2(r,n)}function I4(t,e){let i=t.getDatasetMeta(e);return i&&t.isDatasetVisible(e)?i.dataset:null}function O4(t){return(t.scale||{}).getPointPositionForValue?F4(t):E4(t)}function E4(t){let{scale:e={},fill:i}=t,n=A4(i,e);if(ni(n)){let r=e.isHorizontal();return{x:r?n:null,y:r?null:n}}return null}function F4(t){let{scale:e,fill:i}=t,n=e.options,r=e.getLabels().length,a=n.reverse?e.max:e.min,s=k4(i,e,a),o=[];if(n.grid.circular){let l=e.getPointPositionForValue(0,a);return new Bc({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(s)})}for(let l=0;l<r;++l)o.push(e.getPointPositionForValue(l,s));return o}function dd(t,e,i){let n=M4(e),{chart:r,index:a,line:s,scale:o,axis:l}=e,h=s.options,c=h.fill,p=h.backgroundColor,{above:g=p,below:f=p}=c||{},v=r.getDatasetMeta(a),x=nd(r,v);n&&s.points.length&&(Al(t,i),R4(t,{line:s,target:n,above:g,below:f,area:i,scale:o,axis:l,clip:x}),kl(t))}function R4(t,e){let{line:i,target:n,above:r,below:a,area:s,scale:o,clip:l}=e,h=i._loop?"angle":e.axis;t.save();let c=a;a!==r&&(h==="x"?(Jm(t,n,s.top),pd(t,{line:i,target:n,color:r,scale:o,property:h,clip:l}),t.restore(),t.save(),Jm(t,n,s.bottom)):h==="y"&&(Qm(t,n,s.left),pd(t,{line:i,target:n,color:a,scale:o,property:h,clip:l}),t.restore(),t.save(),Qm(t,n,s.right),c=r)),pd(t,{line:i,target:n,color:c,scale:o,property:h,clip:l}),t.restore()}function Jm(t,e,i){let{segments:n,points:r}=e,a=!0,s=!1;t.beginPath();for(let o of n){let{start:l,end:h}=o,c=r[l],p=r[Vc(l,h,r)];a?(t.moveTo(c.x,c.y),a=!1):(t.lineTo(c.x,i),t.lineTo(c.x,c.y)),s=!!e.pathSegment(t,o,{move:s}),s?t.closePath():t.lineTo(p.x,i)}t.lineTo(e.first().x,i),t.closePath(),t.clip()}function Qm(t,e,i){let{segments:n,points:r}=e,a=!0,s=!1;t.beginPath();for(let o of n){let{start:l,end:h}=o,c=r[l],p=r[Vc(l,h,r)];a?(t.moveTo(c.x,c.y),a=!1):(t.lineTo(i,c.y),t.lineTo(c.x,c.y)),s=!!e.pathSegment(t,o,{move:s}),s?t.closePath():t.lineTo(i,p.y)}t.lineTo(i,e.first().y),t.closePath(),t.clip()}function pd(t,e){let{line:i,target:n,property:r,color:a,scale:s,clip:o}=e,l=_4(i,n,r);for(let{source:h,target:c,start:p,end:g}of l){let{style:{backgroundColor:f=a}={}}=h,v=n!==!0;t.save(),t.fillStyle=f,B4(t,s,o,v&&Td(r,p,g)),t.beginPath();let x=!!i.pathSegment(t,h),y;if(v){x?t.closePath():t2(t,n,g,r);let w=!!n.pathSegment(t,c,{move:x,reverse:!0});y=x&&w,y||t2(t,n,p,r)}t.closePath(),t.fill(y?"evenodd":"nonzero"),t.restore()}}function B4(t,e,i,n){let r=e.chart.chartArea,{property:a,start:s,end:o}=n||{};if(a==="x"||a==="y"){let l,h,c,p;a==="x"?(l=s,h=r.top,c=o,p=r.bottom):(l=r.left,h=s,c=r.right,p=o),t.beginPath(),i&&(l=Math.max(l,i.left),c=Math.min(c,i.right),h=Math.max(h,i.top),p=Math.min(p,i.bottom)),t.rect(l,h,c-l,p-h),t.clip()}}function t2(t,e,i,n){let r=e.interpolate(i,n);r&&t.lineTo(r.x,r.y)}var j4={id:"filler",afterDatasetsUpdate(t,e,i){let n=(t.data.datasets||[]).length,r=[],a,s,o,l;for(s=0;s<n;++s)a=t.getDatasetMeta(s),o=a.dataset,l=null,o&&o.options&&o instanceof zc&&(l={visible:t.isDatasetVisible(s),index:s,fill:S4(o,s,n),chart:t,axis:a.controller.options.indexAxis,scale:a.vScale,line:o}),a.$filler=l,r.push(l);for(s=0;s<n;++s)l=r[s],!(!l||l.fill===!1)&&(l.fill=w4(r,s,i.propagate))},beforeDraw(t,e,i){let n=i.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),a=t.chartArea;for(let s=r.length-1;s>=0;--s){let o=r[s].$filler;o&&(o.line.updateControlPoints(a,o.axis),n&&o.fill&&dd(t.ctx,o,a))}},beforeDatasetsDraw(t,e,i){if(i.drawTime!=="beforeDatasetsDraw")return;let n=t.getSortedVisibleDatasetMetas();for(let r=n.length-1;r>=0;--r){let a=n[r].$filler;Km(a)&&dd(t.ctx,a,t.chartArea)}},beforeDatasetDraw(t,e,i){let n=e.meta.$filler;!Km(n)||i.drawTime!=="beforeDatasetDraw"||dd(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},e2=(t,e)=>{let{boxHeight:i=e,boxWidth:n=e}=t;return t.usePointStyle&&(i=Math.min(i,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:i,itemHeight:Math.max(e,i)}},z4=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index,jc=class extends tr{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,i,n){this.maxWidth=e,this.maxHeight=i,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let e=this.options.labels||{},i=Ue(e.generateLabels,[this.chart],this)||[];e.filter&&(i=i.filter(n=>e.filter(n,this.chart.data))),e.sort&&(i=i.sort((n,r)=>e.sort(n,r,this.chart.data))),this.options.reverse&&i.reverse(),this.legendItems=i}fit(){let{options:e,ctx:i}=this;if(!e.display){this.width=this.height=0;return}let n=e.labels,r=Ai(n.font),a=r.size,s=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=e2(n,a),h,c;i.font=r.string,this.isHorizontal()?(h=this.maxWidth,c=this._fitRows(s,a,o,l)+10):(c=this.maxHeight,h=this._fitCols(s,r,o,l)+10),this.width=Math.min(h,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,i,n,r){let{ctx:a,maxWidth:s,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],h=this.lineWidths=[0],c=r+o,p=e;a.textAlign="left",a.textBaseline="middle";let g=-1,f=-c;return this.legendItems.forEach((v,x)=>{let y=n+i/2+a.measureText(v.text).width;(x===0||h[h.length-1]+y+2*o>s)&&(p+=c,h[h.length-(x>0?0:1)]=0,f+=c,g++),l[x]={left:0,top:f,row:g,width:y,height:r},h[h.length-1]+=y+o}),p}_fitCols(e,i,n,r){let{ctx:a,maxHeight:s,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],h=this.columnSizes=[],c=s-e,p=o,g=0,f=0,v=0,x=0;return this.legendItems.forEach((y,w)=>{let{itemWidth:A,itemHeight:N}=V4(n,i,a,y,r);w>0&&f+N+2*o>c&&(p+=g+o,h.push({width:g,height:f}),v+=g+o,x++,g=f=0),l[w]={left:v,top:f,col:x,width:A,height:N},g=Math.max(g,A),f+=N+o}),p+=g,h.push({width:g,height:f}),p}adjustHitBoxes(){if(!this.options.display)return;let e=this._computeTitleHeight(),{legendHitBoxes:i,options:{align:n,labels:{padding:r},rtl:a}}=this,s=ys(a,this.left,this.width);if(this.isHorizontal()){let o=0,l=qi(n,this.left+r,this.right-this.lineWidths[o]);for(let h of i)o!==h.row&&(o=h.row,l=qi(n,this.left+r,this.right-this.lineWidths[o])),h.top+=this.top+e+r,h.left=s.leftForLtr(s.x(l),h.width),l+=h.width+r}else{let o=0,l=qi(n,this.top+e+r,this.bottom-this.columnSizes[o].height);for(let h of i)h.col!==o&&(o=h.col,l=qi(n,this.top+e+r,this.bottom-this.columnSizes[o].height)),h.top=l,h.left+=this.left+r,h.left=s.leftForLtr(s.x(h.left),h.width),l+=h.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let e=this.ctx;Al(e,this),this._draw(),kl(e)}}_draw(){let{options:e,columnSizes:i,lineWidths:n,ctx:r}=this,{align:a,labels:s}=e,o=He.color,l=ys(e.rtl,this.left,this.width),h=Ai(s.font),{padding:c}=s,p=h.size,g=p/2,f;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=h.string;let{boxWidth:v,boxHeight:x,itemHeight:y}=e2(s,p),w=function($,K,z){if(isNaN(v)||v<=0||isNaN(x)||x<0)return;r.save();let E=te(z.lineWidth,1);if(r.fillStyle=te(z.fillStyle,o),r.lineCap=te(z.lineCap,"butt"),r.lineDashOffset=te(z.lineDashOffset,0),r.lineJoin=te(z.lineJoin,"miter"),r.lineWidth=E,r.strokeStyle=te(z.strokeStyle,o),r.setLineDash(te(z.lineDash,[])),s.usePointStyle){let X={radius:x*Math.SQRT2/2,pointStyle:z.pointStyle,rotation:z.rotation,borderWidth:E},D=l.xPlus($,v/2),I=K+g;Wf(r,X,D,I,s.pointStyleWidth&&v)}else{let X=K+Math.max((p-x)/2,0),D=l.leftForLtr($,v),I=La(z.borderRadius);r.beginPath(),Object.values(I).some(W=>W!==0)?so(r,{x:D,y:X,w:v,h:x,radius:I}):r.rect(D,X,v,x),r.fill(),E!==0&&r.stroke()}r.restore()},A=function($,K,z){Da(r,z.text,$,K+y/2,h,{strikethrough:z.hidden,textAlign:l.textAlign(z.textAlign)})},N=this.isHorizontal(),T=this._computeTitleHeight();N?f={x:qi(a,this.left+c,this.right-n[0]),y:this.top+c+T,line:0}:f={x:this.left+c,y:qi(a,this.top+T+c,this.bottom-i[0].height),line:0},Qf(this.ctx,e.textDirection);let F=y+c;this.legendItems.forEach(($,K)=>{r.strokeStyle=$.fontColor,r.fillStyle=$.fontColor;let z=r.measureText($.text).width,E=l.textAlign($.textAlign||($.textAlign=s.textAlign)),X=v+g+z,D=f.x,I=f.y;l.setWidth(this.width),N?K>0&&D+X+c>this.right&&(I=f.y+=F,f.line++,D=f.x=qi(a,this.left+c,this.right-n[f.line])):K>0&&I+F>this.bottom&&(D=f.x=D+i[f.line].width+c,f.line++,I=f.y=qi(a,this.top+T+c,this.bottom-i[f.line].height));let W=l.x(D);if(w(W,I,$),D=em(E,D+v+g,N?D+X:this.right,e.rtl),A(l.x(D),I,$),N)f.x+=X+c;else if(typeof $.text!="string"){let q=h.lineHeight;f.y+=F2($,q)+c}else f.y+=F}),td(this.ctx,e.textDirection)}drawTitle(){let e=this.options,i=e.title,n=Ai(i.font),r=Wi(i.padding);if(!i.display)return;let a=ys(e.rtl,this.left,this.width),s=this.ctx,o=i.position,l=n.size/2,h=r.top+l,c,p=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),c=this.top+h,p=qi(e.align,p,this.right-g);else{let v=this.columnSizes.reduce((x,y)=>Math.max(x,y.height),0);c=h+qi(e.align,this.top,this.bottom-v-e.labels.padding-this._computeTitleHeight())}let f=qi(o,p,p+g);s.textAlign=a.textAlign(vc(o)),s.textBaseline="middle",s.strokeStyle=i.color,s.fillStyle=i.color,s.font=n.string,Da(s,i.text,f,c,n)}_computeTitleHeight(){let e=this.options.title,i=Ai(e.font),n=Wi(e.padding);return e.display?i.lineHeight+n.height:0}_getLegendItemAt(e,i){let n,r,a;if(mr(e,this.left,this.right)&&mr(i,this.top,this.bottom)){for(a=this.legendHitBoxes,n=0;n<a.length;++n)if(r=a[n],mr(e,r.left,r.left+r.width)&&mr(i,r.top,r.top+r.height))return this.legendItems[n]}return null}handleEvent(e){let i=this.options;if(!q4(e.type,i))return;let n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){let r=this._hoveredItem,a=z4(r,n);r&&!a&&Ue(i.onLeave,[e,r,this],this),this._hoveredItem=n,n&&!a&&Ue(i.onHover,[e,n,this],this)}else n&&Ue(i.onClick,[e,n,this],this)}};function V4(t,e,i,n,r){let a=U4(n,t,e,i),s=H4(r,n,e.lineHeight);return{itemWidth:a,itemHeight:s}}function U4(t,e,i,n){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((a,s)=>a.length>s.length?a:s)),e+i.size/2+n.measureText(r).width}function H4(t,e,i){let n=t;return typeof e.text!="string"&&(n=F2(e,i)),n}function F2(t,e){let i=t.text?t.text.length:0;return e*i}function q4(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var W4={id:"legend",_element:jc,start(t,e,i){let n=t.legend=new jc({ctx:t.ctx,options:i,chart:t});Ki.configure(t,n,i),Ki.addBox(t,n)},stop(t){Ki.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,i){let n=t.legend;Ki.configure(t,n,i),n.options=i},afterUpdate(t){let e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,i){let n=e.datasetIndex,r=i.chart;r.isDatasetVisible(n)?(r.hide(n),e.hidden=!0):(r.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){let e=t.data.datasets,{labels:{usePointStyle:i,pointStyle:n,textAlign:r,color:a,useBorderRadius:s,borderRadius:o}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{let h=l.controller.getStyle(i?0:void 0),c=Wi(h.borderWidth);return{text:e[l.index].label,fillStyle:h.backgroundColor,fontColor:a,hidden:!l.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:h.borderColor,pointStyle:n||h.pointStyle,rotation:h.rotation,textAlign:r||h.textAlign,borderRadius:s&&(o||h.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}},El=class extends tr{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,i){let n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=i;let r=Ke(n.text)?n.text.length:1;this._padding=Wi(n.padding);let a=r*Ai(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){let e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){let{top:i,left:n,bottom:r,right:a,options:s}=this,o=s.align,l=0,h,c,p;return this.isHorizontal()?(c=qi(o,n,a),p=i+e,h=a-n):(s.position==="left"?(c=n+e,p=qi(o,r,i),l=Se*-.5):(c=a-e,p=qi(o,i,r),l=Se*.5),h=r-i),{titleX:c,titleY:p,maxWidth:h,rotation:l}}draw(){let e=this.ctx,i=this.options;if(!i.display)return;let n=Ai(i.font),a=n.lineHeight/2+this._padding.top,{titleX:s,titleY:o,maxWidth:l,rotation:h}=this._drawArgs(a);Da(e,i.text,0,0,n,{color:i.color,maxWidth:l,rotation:h,textAlign:vc(i.align),textBaseline:"middle",translation:[s,o]})}};function $4(t,e){let i=new El({ctx:t.ctx,options:e,chart:t});Ki.configure(t,i,e),Ki.addBox(t,i),t.titleBlock=i}var Y4={id:"title",_element:El,start(t,e,i){$4(t,i)},stop(t){let e=t.titleBlock;Ki.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,i){let n=t.titleBlock;Ki.configure(t,n,i),n.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Tc=new WeakMap,G4={id:"subtitle",start(t,e,i){let n=new El({ctx:t.ctx,options:i,chart:t});Ki.configure(t,n,i),Ki.addBox(t,n),Tc.set(t,n)},stop(t){Ki.removeBox(t,Tc.get(t)),Tc.delete(t)},beforeUpdate(t,e,i){let n=Tc.get(t);Ki.configure(t,n,i),n.options=i},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Il={average(t){if(!t.length)return!1;let e,i,n=new Set,r=0,a=0;for(e=0,i=t.length;e<i;++e){let o=t[e].element;if(o&&o.hasValue()){let l=o.tooltipPosition();n.add(l.x),r+=l.y,++a}}return a===0||n.size===0?!1:{x:[...n].reduce((o,l)=>o+l)/n.size,y:r/a}},nearest(t,e){if(!t.length)return!1;let i=e.x,n=e.y,r=Number.POSITIVE_INFINITY,a,s,o;for(a=0,s=t.length;a<s;++a){let l=t[a].element;if(l&&l.hasValue()){let h=l.getCenterPoint(),c=dc(e,h);c<r&&(r=c,o=l)}}if(o){let l=o.tooltipPosition();i=l.x,n=l.y}return{x:i,y:n}}};function br(t,e){return e&&(Ke(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Yr(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Z4(t,e){let{element:i,datasetIndex:n,index:r}=e,a=t.getDatasetMeta(n).controller,{label:s,value:o}=a.getLabelAndValue(r);return{chart:t,label:s,parsed:a.getParsed(r),raw:t.data.datasets[n].data[r],formattedValue:o,dataset:a.getDataset(),dataIndex:r,datasetIndex:n,element:i}}function i2(t,e){let i=t.chart.ctx,{body:n,footer:r,title:a}=t,{boxWidth:s,boxHeight:o}=e,l=Ai(e.bodyFont),h=Ai(e.titleFont),c=Ai(e.footerFont),p=a.length,g=r.length,f=n.length,v=Wi(e.padding),x=v.height,y=0,w=n.reduce((T,F)=>T+F.before.length+F.lines.length+F.after.length,0);if(w+=t.beforeBody.length+t.afterBody.length,p&&(x+=p*h.lineHeight+(p-1)*e.titleSpacing+e.titleMarginBottom),w){let T=e.displayColors?Math.max(o,l.lineHeight):l.lineHeight;x+=f*T+(w-f)*l.lineHeight+(w-1)*e.bodySpacing}g&&(x+=e.footerMarginTop+g*c.lineHeight+(g-1)*e.footerSpacing);let A=0,N=function(T){y=Math.max(y,i.measureText(T).width+A)};return i.save(),i.font=h.string,Ne(t.title,N),i.font=l.string,Ne(t.beforeBody.concat(t.afterBody),N),A=e.displayColors?s+2+e.boxPadding:0,Ne(n,T=>{Ne(T.before,N),Ne(T.lines,N),Ne(T.after,N)}),A=0,i.font=c.string,Ne(t.footer,N),i.restore(),y+=v.width,{width:y,height:x}}function X4(t,e){let{y:i,height:n}=e;return i<n/2?"top":i>t.height-n/2?"bottom":"center"}function K4(t,e,i,n){let{x:r,width:a}=n,s=i.caretSize+i.caretPadding;if(t==="left"&&r+a+s>e.width||t==="right"&&r-a-s<0)return!0}function J4(t,e,i,n){let{x:r,width:a}=i,{width:s,chartArea:{left:o,right:l}}=t,h="center";return n==="center"?h=r<=(o+l)/2?"left":"right":r<=a/2?h="left":r>=s-a/2&&(h="right"),K4(h,t,e,i)&&(h="center"),h}function n2(t,e,i){let n=i.yAlign||e.yAlign||X4(t,i);return{xAlign:i.xAlign||e.xAlign||J4(t,e,i,n),yAlign:n}}function Q4(t,e){let{x:i,width:n}=t;return e==="right"?i-=n:e==="center"&&(i-=n/2),i}function tS(t,e,i){let{y:n,height:r}=t;return e==="top"?n+=i:e==="bottom"?n-=r+i:n-=r/2,n}function r2(t,e,i,n){let{caretSize:r,caretPadding:a,cornerRadius:s}=t,{xAlign:o,yAlign:l}=i,h=r+a,{topLeft:c,topRight:p,bottomLeft:g,bottomRight:f}=La(s),v=Q4(e,o),x=tS(e,l,h);return l==="center"?o==="left"?v+=h:o==="right"&&(v-=h):o==="left"?v-=Math.max(c,g)+r:o==="right"&&(v+=Math.max(p,f)+r),{x:Oi(v,0,n.width-e.width),y:Oi(x,0,n.height-e.height)}}function Pc(t,e,i){let n=Wi(i.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function a2(t){return br([],Yr(t))}function eS(t,e,i){return Wr(t,{tooltip:e,tooltipItems:i,type:"tooltip"})}function s2(t,e){let i=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return i?t.override(i):t}var R2={beforeTitle:gr,title(t){if(t.length>0){let e=t[0],i=e.chart.data.labels,n=i?i.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return i[e.dataIndex]}return""},afterTitle:gr,beforeBody:gr,beforeLabel:gr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");let i=t.formattedValue;return pe(i)||(e+=i),e},labelColor(t){let i=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:i.borderColor,backgroundColor:i.backgroundColor,borderWidth:i.borderWidth,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){let i=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:i.pointStyle,rotation:i.rotation}},afterLabel:gr,afterBody:gr,beforeFooter:gr,footer:gr,afterFooter:gr};function fn(t,e,i,n){let r=t[e].call(i,n);return typeof r>"u"?R2[e].call(i,n):r}var o2=(()=>{class t extends tr{static positioners=Il;constructor(i){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=i.chart,this.options=i.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(i){this.options=i,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let i=this._cachedAnimations;if(i)return i;let n=this.chart,r=this.options.setContext(this.getContext()),a=r.enabled&&n.options.animation&&r.animations,s=new Oc(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=eS(this.chart.getContext(),this,this._tooltipItems))}getTitle(i,n){let{callbacks:r}=n,a=fn(r,"beforeTitle",this,i),s=fn(r,"title",this,i),o=fn(r,"afterTitle",this,i),l=[];return l=br(l,Yr(a)),l=br(l,Yr(s)),l=br(l,Yr(o)),l}getBeforeBody(i,n){return a2(fn(n.callbacks,"beforeBody",this,i))}getBody(i,n){let{callbacks:r}=n,a=[];return Ne(i,s=>{let o={before:[],lines:[],after:[]},l=s2(r,s);br(o.before,Yr(fn(l,"beforeLabel",this,s))),br(o.lines,fn(l,"label",this,s)),br(o.after,Yr(fn(l,"afterLabel",this,s))),a.push(o)}),a}getAfterBody(i,n){return a2(fn(n.callbacks,"afterBody",this,i))}getFooter(i,n){let{callbacks:r}=n,a=fn(r,"beforeFooter",this,i),s=fn(r,"footer",this,i),o=fn(r,"afterFooter",this,i),l=[];return l=br(l,Yr(a)),l=br(l,Yr(s)),l=br(l,Yr(o)),l}_createItems(i){let n=this._active,r=this.chart.data,a=[],s=[],o=[],l=[],h,c;for(h=0,c=n.length;h<c;++h)l.push(Z4(this.chart,n[h]));return i.filter&&(l=l.filter((p,g,f)=>i.filter(p,g,f,r))),i.itemSort&&(l=l.sort((p,g)=>i.itemSort(p,g,r))),Ne(l,p=>{let g=s2(i.callbacks,p);a.push(fn(g,"labelColor",this,p)),s.push(fn(g,"labelPointStyle",this,p)),o.push(fn(g,"labelTextColor",this,p))}),this.labelColors=a,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=l,l}update(i,n){let r=this.options.setContext(this.getContext()),a=this._active,s,o=[];if(!a.length)this.opacity!==0&&(s={opacity:0});else{let l=Il[r.position].call(this,a,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);let h=this._size=i2(this,r),c=Object.assign({},l,h),p=n2(this.chart,r,c),g=r2(r,c,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,s={opacity:1,x:g.x,y:g.y,width:h.width,height:h.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),i&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(i,n,r,a){let s=this.getCaretPosition(i,r,a);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(i,n,r){let{xAlign:a,yAlign:s}=this,{caretSize:o,cornerRadius:l}=r,{topLeft:h,topRight:c,bottomLeft:p,bottomRight:g}=La(l),{x:f,y:v}=i,{width:x,height:y}=n,w,A,N,T,F,$;return s==="center"?(F=v+y/2,a==="left"?(w=f,A=w-o,T=F+o,$=F-o):(w=f+x,A=w+o,T=F-o,$=F+o),N=w):(a==="left"?A=f+Math.max(h,p)+o:a==="right"?A=f+x-Math.max(c,g)-o:A=this.caretX,s==="top"?(T=v,F=T-o,w=A-o,N=A+o):(T=v+y,F=T+o,w=A+o,N=A-o),$=T),{x1:w,x2:A,x3:N,y1:T,y2:F,y3:$}}drawTitle(i,n,r){let a=this.title,s=a.length,o,l,h;if(s){let c=ys(r.rtl,this.x,this.width);for(i.x=Pc(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=Ai(r.titleFont),l=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,h=0;h<s;++h)n.fillText(a[h],c.x(i.x),i.y+o.lineHeight/2),i.y+=o.lineHeight+l,h+1===s&&(i.y+=r.titleMarginBottom-l)}}_drawColorBox(i,n,r,a,s){let o=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:h,boxWidth:c}=s,p=Ai(s.bodyFont),g=Pc(this,"left",s),f=a.x(g),v=h<p.lineHeight?(p.lineHeight-h)/2:0,x=n.y+v;if(s.usePointStyle){let y={radius:Math.min(c,h)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},w=a.leftForLtr(f,c)+c/2,A=x+h/2;i.strokeStyle=s.multiKeyBackground,i.fillStyle=s.multiKeyBackground,_c(i,y,w,A),i.strokeStyle=o.borderColor,i.fillStyle=o.backgroundColor,_c(i,y,w,A)}else{i.lineWidth=ge(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,i.strokeStyle=o.borderColor,i.setLineDash(o.borderDash||[]),i.lineDashOffset=o.borderDashOffset||0;let y=a.leftForLtr(f,c),w=a.leftForLtr(a.xPlus(f,1),c-2),A=La(o.borderRadius);Object.values(A).some(N=>N!==0)?(i.beginPath(),i.fillStyle=s.multiKeyBackground,so(i,{x:y,y:x,w:c,h,radius:A}),i.fill(),i.stroke(),i.fillStyle=o.backgroundColor,i.beginPath(),so(i,{x:w,y:x+1,w:c-2,h:h-2,radius:A}),i.fill()):(i.fillStyle=s.multiKeyBackground,i.fillRect(y,x,c,h),i.strokeRect(y,x,c,h),i.fillStyle=o.backgroundColor,i.fillRect(w,x+1,c-2,h-2))}i.fillStyle=this.labelTextColors[r]}drawBody(i,n,r){let{body:a}=this,{bodySpacing:s,bodyAlign:o,displayColors:l,boxHeight:h,boxWidth:c,boxPadding:p}=r,g=Ai(r.bodyFont),f=g.lineHeight,v=0,x=ys(r.rtl,this.x,this.width),y=function(E){n.fillText(E,x.x(i.x+v),i.y+f/2),i.y+=f+s},w=x.textAlign(o),A,N,T,F,$,K,z;for(n.textAlign=o,n.textBaseline="middle",n.font=g.string,i.x=Pc(this,w,r),n.fillStyle=r.bodyColor,Ne(this.beforeBody,y),v=l&&w!=="right"?o==="center"?c/2+p:c+2+p:0,F=0,K=a.length;F<K;++F){for(A=a[F],N=this.labelTextColors[F],n.fillStyle=N,Ne(A.before,y),T=A.lines,l&&T.length&&(this._drawColorBox(n,i,F,x,r),f=Math.max(g.lineHeight,h)),$=0,z=T.length;$<z;++$)y(T[$]),f=g.lineHeight;Ne(A.after,y)}v=0,f=g.lineHeight,Ne(this.afterBody,y),i.y-=s}drawFooter(i,n,r){let a=this.footer,s=a.length,o,l;if(s){let h=ys(r.rtl,this.x,this.width);for(i.x=Pc(this,r.footerAlign,r),i.y+=r.footerMarginTop,n.textAlign=h.textAlign(r.footerAlign),n.textBaseline="middle",o=Ai(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,l=0;l<s;++l)n.fillText(a[l],h.x(i.x),i.y+o.lineHeight/2),i.y+=o.lineHeight+r.footerSpacing}}drawBackground(i,n,r,a){let{xAlign:s,yAlign:o}=this,{x:l,y:h}=i,{width:c,height:p}=r,{topLeft:g,topRight:f,bottomLeft:v,bottomRight:x}=La(a.cornerRadius);n.fillStyle=a.backgroundColor,n.strokeStyle=a.borderColor,n.lineWidth=a.borderWidth,n.beginPath(),n.moveTo(l+g,h),o==="top"&&this.drawCaret(i,n,r,a),n.lineTo(l+c-f,h),n.quadraticCurveTo(l+c,h,l+c,h+f),o==="center"&&s==="right"&&this.drawCaret(i,n,r,a),n.lineTo(l+c,h+p-x),n.quadraticCurveTo(l+c,h+p,l+c-x,h+p),o==="bottom"&&this.drawCaret(i,n,r,a),n.lineTo(l+v,h+p),n.quadraticCurveTo(l,h+p,l,h+p-v),o==="center"&&s==="left"&&this.drawCaret(i,n,r,a),n.lineTo(l,h+g),n.quadraticCurveTo(l,h,l+g,h),n.closePath(),n.fill(),a.borderWidth>0&&n.stroke()}_updateAnimationTarget(i){let n=this.chart,r=this.$animations,a=r&&r.x,s=r&&r.y;if(a||s){let o=Il[i.position].call(this,this._active,this._eventPosition);if(!o)return;let l=this._size=i2(this,i),h=Object.assign({},o,this._size),c=n2(n,i,h),p=r2(i,h,c,n);(a._to!==p.x||s._to!==p.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(i){let n=this.options.setContext(this.getContext()),r=this.opacity;if(!r)return;this._updateAnimationTarget(n);let a={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;let o=Wi(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(i.save(),i.globalAlpha=r,this.drawBackground(s,i,a,n),Qf(i,n.textDirection),s.y+=o.top,this.drawTitle(s,i,n),this.drawBody(s,i,n),this.drawFooter(s,i,n),td(i,n.textDirection),i.restore())}getActiveElements(){return this._active||[]}setActiveElements(i,n){let r=this._active,a=i.map(({datasetIndex:l,index:h})=>{let c=this.chart.getDatasetMeta(l);if(!c)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:c.data[h],index:h}}),s=!Sl(r,a),o=this._positionChanged(a,n);(s||o)&&(this._active=a,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(i,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let a=this.options,s=this._active||[],o=this._getActiveElements(i,s,n,r),l=this._positionChanged(o,i),h=n||!Sl(o,s)||l;return h&&(this._active=o,(a.enabled||a.external)&&(this._eventPosition={x:i.x,y:i.y},this.update(!0,n))),h}_getActiveElements(i,n,r,a){let s=this.options;if(i.type==="mouseout")return[];if(!a)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);let o=this.chart.getElementsAtEventForMode(i,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(i,n){let{caretX:r,caretY:a,options:s}=this,o=Il[s.position].call(this,i,n);return o!==!1&&(r!==o.x||a!==o.y)}}return t})(),iS={id:"tooltip",_element:o2,positioners:Il,afterInit(t,e,i){i&&(t.tooltip=new o2({chart:t,options:i}))},beforeUpdate(t,e,i){t.tooltip&&t.tooltip.initialize(i)},reset(t,e,i){t.tooltip&&t.tooltip.initialize(i)},afterDraw(t){let e=t.tooltip;if(e&&e._willRender()){let i={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",Ge(Ee({},i),{cancelable:!0}))===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",i)}},afterEvent(t,e){if(t.tooltip){let i=e.replay;t.tooltip.handleEvent(e.event,i,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:R2},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},nS=Object.freeze({__proto__:null,Colors:g4,Decimation:x4,Filler:j4,Legend:W4,SubTitle:G4,Title:Y4,Tooltip:iS}),rS=(t,e,i,n)=>(typeof e=="string"?(i=t.push(e)-1,n.unshift({index:i,label:e})):isNaN(e)&&(i=null),i);function aS(t,e,i,n){let r=t.indexOf(e);if(r===-1)return rS(t,e,i,n);let a=t.lastIndexOf(e);return r!==a?i:r}var sS=(t,e)=>t===null?null:Oi(Math.round(t),0,e);function l2(t){let e=this.getLabels();return t>=0&&t<e.length?e[t]:t}var oS=(()=>{class t extends Cs{static id="category";static defaults={ticks:{callback:l2}};constructor(i){super(i),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(i){let n=this._addedLabels;if(n.length){let r=this.getLabels();for(let{index:a,label:s}of n)r[a]===s&&r.splice(a,1);this._addedLabels=[]}super.init(i)}parse(i,n){if(pe(i))return null;let r=this.getLabels();return n=isFinite(n)&&r[n]===i?n:aS(r,i,te(n,i),this._addedLabels),sS(n,r.length-1)}determineDataLimits(){let{minDefined:i,maxDefined:n}=this.getUserBounds(),{min:r,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(i||(r=0),n||(a=this.getLabels().length-1)),this.min=r,this.max=a}buildTicks(){let i=this.min,n=this.max,r=this.options.offset,a=[],s=this.getLabels();s=i===0&&n===s.length-1?s:s.slice(i,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=i;o<=n;o++)a.push({value:o});return a}getLabelForValue(i){return l2.call(this,i)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(i){return typeof i!="number"&&(i=this.parse(i)),i===null?NaN:this.getPixelForDecimal((i-this._startValue)/this._valueRange)}getPixelForTick(i){let n=this.ticks;return i<0||i>n.length-1?null:this.getPixelForValue(n[i].value)}getValueForPixel(i){return Math.round(this._startValue+this.getDecimalForPixel(i)*this._valueRange)}getBasePixel(){return this.bottom}}return t})();function lS(t,e){let i=[],{bounds:r,step:a,min:s,max:o,precision:l,count:h,maxTicks:c,maxDigits:p,includeBounds:g}=t,f=a||1,v=c-1,{min:x,max:y}=e,w=!pe(s),A=!pe(o),N=!pe(h),T=(y-x)/(p+1),F=Mf((y-x)/v/f)*f,$,K,z,E;if(F<1e-14&&!w&&!A)return[{value:x},{value:y}];E=Math.ceil(y/F)-Math.floor(x/F),E>v&&(F=Mf(E*F/v/f)*f),pe(l)||($=Math.pow(10,l),F=Math.ceil(F*$)/$),r==="ticks"?(K=Math.floor(x/F)*F,z=Math.ceil(y/F)*F):(K=x,z=y),w&&A&&a&&G1((o-s)/a,F/1e3)?(E=Math.round(Math.min((o-s)/F,c)),F=(o-s)/E,K=s,z=o):N?(K=w?s:K,z=A?o:z,E=h-1,F=(z-K)/E):(E=(z-K)/F,no(E,Math.round(E),F/1e3)?E=Math.round(E):E=Math.ceil(E));let X=Math.max(Of(F),Of(K));$=Math.pow(10,pe(l)?X:l),K=Math.round(K*$)/$,z=Math.round(z*$)/$;let D=0;for(w&&(g&&K!==s?(i.push({value:s}),K<s&&D++,no(Math.round((K+D*F)*$)/$,s,h2(s,T,t))&&D++):K<s&&D++);D<E;++D){let I=Math.round((K+D*F)*$)/$;if(A&&I>o)break;i.push({value:I})}return A&&g&&z!==o?i.length&&no(i[i.length-1].value,o,h2(o,T,t))?i[i.length-1].value=o:i.push({value:o}):(!A||z===o)&&i.push({value:z}),i}function h2(t,e,{horizontal:i,minRotation:n}){let r=Un(n),a=(i?Math.sin(r):Math.cos(r))||.001,s=.75*e*(""+t).length;return Math.min(e/a,s)}var co=class extends Cs{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,i){return pe(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){let{beginAtZero:e}=this.options,{minDefined:i,maxDefined:n}=this.getUserBounds(),{min:r,max:a}=this,s=l=>r=i?r:l,o=l=>a=n?a:l;if(e){let l=Qn(r),h=Qn(a);l<0&&h<0?o(0):l>0&&h>0&&s(0)}if(r===a){let l=a===0?1:Math.abs(a*.05);o(a+l),e||s(r-l)}this.min=r,this.max=a}getTickLimit(){let e=this.options.ticks,{maxTicksLimit:i,stepSize:n}=e,r;return n?(r=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),i=i||11),i&&(r=Math.min(i,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let e=this.options,i=e.ticks,n=this.getTickLimit();n=Math.max(2,n);let r={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:i.precision,step:i.stepSize,count:i.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:i.minRotation||0,includeBounds:i.includeBounds!==!1},a=this._range||this,s=lS(r,a);return e.bounds==="ticks"&&If(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){let e=this.ticks,i=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){let r=(n-i)/Math.max(e.length-1,1)/2;i-=r,n+=r}this._startValue=i,this._endValue=n,this._valueRange=n-i}getLabelForValue(e){return ao(e,this.chart.options.locale,this.options.ticks.format)}},Pd=class extends co{static id="linear";static defaults={ticks:{callback:Cl.formatters.numeric}};determineDataLimits(){let{min:e,max:i}=this.getMinMax(!0);this.min=ni(e)?e:0,this.max=ni(i)?i:1,this.handleTickRangeOptions()}computeTickLimit(){let e=this.isHorizontal(),i=e?this.width:this.height,n=Un(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(i/Math.min(40,a.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}},Fl=t=>Math.floor(Hr(t)),Ss=(t,e)=>Math.pow(10,Fl(t)+e);function c2(t){return t/Math.pow(10,Fl(t))===1}function u2(t,e,i){let n=Math.pow(10,i),r=Math.floor(t/n);return Math.ceil(e/n)-r}function hS(t,e){let i=e-t,n=Fl(i);for(;u2(t,e,n)>10;)n++;for(;u2(t,e,n)<10;)n--;return Math.min(n,Fl(t))}function cS(t,{min:e,max:i}){e=un(t.min,e);let n=[],r=Fl(e),a=hS(e,i),s=a<0?Math.pow(10,Math.abs(a)):1,o=Math.pow(10,a),l=r>a?Math.pow(10,r):0,h=Math.round((e-l)*s)/s,c=Math.floor((e-l)/o/10)*o*10,p=Math.floor((h-c)/Math.pow(10,a)),g=un(t.min,Math.round((l+c+p*Math.pow(10,a))*s)/s);for(;g<i;)n.push({value:g,major:c2(g),significand:p}),p>=10?p=p<15?15:20:p++,p>=20&&(a++,p=2,s=a>=0?1:s),g=Math.round((l+c+p*Math.pow(10,a))*s)/s;let f=un(t.max,g);return n.push({value:f,major:c2(f),significand:p}),n}var Nd=class extends Cs{static id="logarithmic";static defaults={ticks:{callback:Cl.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,i){let n=co.prototype.parse.apply(this,[e,i]);if(n===0){this._zero=!0;return}return ni(n)&&n>0?n:null}determineDataLimits(){let{min:e,max:i}=this.getMinMax(!0);this.min=ni(e)?Math.max(0,e):null,this.max=ni(i)?Math.max(0,i):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ni(this._userMin)&&(this.min=e===Ss(this.min,0)?Ss(this.min,-1):Ss(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:e,maxDefined:i}=this.getUserBounds(),n=this.min,r=this.max,a=o=>n=e?n:o,s=o=>r=i?r:o;n===r&&(n<=0?(a(1),s(10)):(a(Ss(n,-1)),s(Ss(r,1)))),n<=0&&a(Ss(r,-1)),r<=0&&s(Ss(n,1)),this.min=n,this.max=r}buildTicks(){let e=this.options,i={min:this._userMin,max:this._userMax},n=cS(i,this);return e.bounds==="ticks"&&If(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":ao(e,this.chart.options.locale,this.options.ticks.format)}configure(){let e=this.min;super.configure(),this._startValue=Hr(e),this._valueRange=Hr(this.max)-Hr(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Hr(e)-this._startValue)/this._valueRange)}getValueForPixel(e){let i=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+i*this._valueRange)}};function Md(t){let e=t.ticks;if(e.display&&t.display){let i=Wi(e.backdropPadding);return te(e.font&&e.font.size,He.font.size)+i.height}return 0}function uS(t,e,i){return i=Ke(i)?i:[i],{w:nm(t,e.string,i),h:i.length*e.lineHeight}}function f2(t,e,i,n,r){return t===n||t===r?{start:e-i/2,end:e+i/2}:t<n||t>r?{start:e-i,end:e}:{start:e,end:e+i}}function fS(t){let e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},i=Object.assign({},e),n=[],r=[],a=t._pointLabels.length,s=t.options.pointLabels,o=s.centerPointLabels?Se/a:0;for(let l=0;l<a;l++){let h=s.setContext(t.getPointLabelContext(l));r[l]=h.padding;let c=t.getPointPosition(l,t.drawingArea+r[l],o),p=Ai(h.font),g=uS(t.ctx,p,t._pointLabels[l]);n[l]=g;let f=Hi(t.getIndexAngle(l)+o),v=Math.round(mc(f)),x=f2(v,c.x,g.w,0,180),y=f2(v,c.y,g.h,90,270);dS(i,e,f,x,y)}t.setCenterPoint(e.l-i.l,i.r-e.r,e.t-i.t,i.b-e.b),t._pointLabelItems=mS(t,n,r)}function dS(t,e,i,n,r){let a=Math.abs(Math.sin(i)),s=Math.abs(Math.cos(i)),o=0,l=0;n.start<e.l?(o=(e.l-n.start)/a,t.l=Math.min(t.l,e.l-o)):n.end>e.r&&(o=(n.end-e.r)/a,t.r=Math.max(t.r,e.r+o)),r.start<e.t?(l=(e.t-r.start)/s,t.t=Math.min(t.t,e.t-l)):r.end>e.b&&(l=(r.end-e.b)/s,t.b=Math.max(t.b,e.b+l))}function pS(t,e,i){let n=t.drawingArea,{extra:r,additionalAngle:a,padding:s,size:o}=i,l=t.getPointPosition(e,n+r+s,a),h=Math.round(mc(Hi(l.angle+ci))),c=xS(l.y,o.h,h),p=bS(h),g=vS(l.x,o.w,p);return{visible:!0,x:l.x,y:c,textAlign:p,left:g,top:c,right:g+o.w,bottom:c+o.h}}function gS(t,e){if(!e)return!0;let{left:i,top:n,right:r,bottom:a}=t;return!(pr({x:i,y:n},e)||pr({x:i,y:a},e)||pr({x:r,y:n},e)||pr({x:r,y:a},e))}function mS(t,e,i){let n=[],r=t._pointLabels.length,a=t.options,{centerPointLabels:s,display:o}=a.pointLabels,l={extra:Md(a)/2,additionalAngle:s?Se/r:0},h;for(let c=0;c<r;c++){l.padding=i[c],l.size=e[c];let p=pS(t,c,l);n.push(p),o==="auto"&&(p.visible=gS(p,h),p.visible&&(h=p))}return n}function bS(t){return t===0||t===180?"center":t<180?"left":"right"}function vS(t,e,i){return i==="right"?t-=e:i==="center"&&(t-=e/2),t}function xS(t,e,i){return i===90||i===270?t-=e/2:(i>270||i<90)&&(t-=e),t}function _S(t,e,i){let{left:n,top:r,right:a,bottom:s}=i,{backdropColor:o}=e;if(!pe(o)){let l=La(e.borderRadius),h=Wi(e.backdropPadding);t.fillStyle=o;let c=n-h.left,p=r-h.top,g=a-n+h.width,f=s-r+h.height;Object.values(l).some(v=>v!==0)?(t.beginPath(),so(t,{x:c,y:p,w:g,h:f,radius:l}),t.fill()):t.fillRect(c,p,g,f)}}function yS(t,e){let{ctx:i,options:{pointLabels:n}}=t;for(let r=e-1;r>=0;r--){let a=t._pointLabelItems[r];if(!a.visible)continue;let s=n.setContext(t.getPointLabelContext(r));_S(i,s,a);let o=Ai(s.font),{x:l,y:h,textAlign:c}=a;Da(i,t._pointLabels[r],l,h+o.lineHeight/2,o,{color:s.color,textAlign:c,textBaseline:"middle"})}}function B2(t,e,i,n){let{ctx:r}=t;if(i)r.arc(t.xCenter,t.yCenter,e,0,Je);else{let a=t.getPointPosition(0,e);r.moveTo(a.x,a.y);for(let s=1;s<n;s++)a=t.getPointPosition(s,e),r.lineTo(a.x,a.y)}}function wS(t,e,i,n,r){let a=t.ctx,s=e.circular,{color:o,lineWidth:l}=e;!s&&!n||!o||!l||i<0||(a.save(),a.strokeStyle=o,a.lineWidth=l,a.setLineDash(r.dash||[]),a.lineDashOffset=r.dashOffset,a.beginPath(),B2(t,i,s,n),a.closePath(),a.stroke(),a.restore())}function SS(t,e,i){return Wr(t,{label:i,index:e,type:"pointLabel"})}var Id=class extends co{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Cl.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let e=this._padding=Wi(Md(this.options)/2),i=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+i/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(i,n)/2)}determineDataLimits(){let{min:e,max:i}=this.getMinMax(!1);this.min=ni(e)&&!isNaN(e)?e:0,this.max=ni(i)&&!isNaN(i)?i:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Md(this.options))}generateTickLabels(e){co.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((i,n)=>{let r=Ue(this.options.pointLabels.callback,[i,n],this);return r||r===0?r:""}).filter((i,n)=>this.chart.getDataVisibility(n))}fit(){let e=this.options;e.display&&e.pointLabels.display?fS(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,i,n,r){this.xCenter+=Math.floor((e-i)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,i,n,r))}getIndexAngle(e){let i=Je/(this._pointLabels.length||1),n=this.options.startAngle||0;return Hi(e*i+Un(n))}getDistanceFromCenterForValue(e){if(pe(e))return NaN;let i=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*i:(e-this.min)*i}getValueForDistanceFromCenter(e){if(pe(e))return NaN;let i=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-i:this.min+i}getPointLabelContext(e){let i=this._pointLabels||[];if(e>=0&&e<i.length){let n=i[e];return SS(this.getContext(),e,n)}}getPointPosition(e,i,n=0){let r=this.getIndexAngle(e)-ci+n;return{x:Math.cos(r)*i+this.xCenter,y:Math.sin(r)*i+this.yCenter,angle:r}}getPointPositionForValue(e,i){return this.getPointPosition(e,this.getDistanceFromCenterForValue(i))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){let{left:i,top:n,right:r,bottom:a}=this._pointLabelItems[e];return{left:i,top:n,right:r,bottom:a}}drawBackground(){let{backgroundColor:e,grid:{circular:i}}=this.options;if(e){let n=this.ctx;n.save(),n.beginPath(),B2(this,this.getDistanceFromCenterForValue(this._endValue),i,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){let e=this.ctx,i=this.options,{angleLines:n,grid:r,border:a}=i,s=this._pointLabels.length,o,l,h;if(i.pointLabels.display&&yS(this,s),r.display&&this.ticks.forEach((c,p)=>{if(p!==0||p===0&&this.min<0){l=this.getDistanceFromCenterForValue(c.value);let g=this.getContext(p),f=r.setContext(g),v=a.setContext(g);wS(this,f,l,s,v)}}),n.display){for(e.save(),o=s-1;o>=0;o--){let c=n.setContext(this.getPointLabelContext(o)),{color:p,lineWidth:g}=c;!g||!p||(e.lineWidth=g,e.strokeStyle=p,e.setLineDash(c.borderDash),e.lineDashOffset=c.borderDashOffset,l=this.getDistanceFromCenterForValue(i.reverse?this.min:this.max),h=this.getPointPosition(o,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(h.x,h.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){let e=this.ctx,i=this.options,n=i.ticks;if(!n.display)return;let r=this.getIndexAngle(0),a,s;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((o,l)=>{if(l===0&&this.min>=0&&!i.reverse)return;let h=n.setContext(this.getContext(l)),c=Ai(h.font);if(a=this.getDistanceFromCenterForValue(this.ticks[l].value),h.showLabelBackdrop){e.font=c.string,s=e.measureText(o.label).width,e.fillStyle=h.backdropColor;let p=Wi(h.backdropPadding);e.fillRect(-s/2-p.left,-a-c.size/2-p.top,s+p.width,c.size+p.height)}Da(e,o.label,0,-a,c,{color:h.color,strokeColor:h.textStrokeColor,strokeWidth:h.textStrokeWidth})}),e.restore()}drawTitle(){}},Uc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},dn=Object.keys(Uc);function d2(t,e){return t-e}function p2(t,e){if(pe(e))return null;let i=t._adapter,{parser:n,round:r,isoWeekday:a}=t._parseOpts,s=e;return typeof n=="function"&&(s=n(s)),ni(s)||(s=typeof n=="string"?i.parse(s,n):i.parse(s)),s===null?null:(r&&(s=r==="week"&&(_s(a)||a===!0)?i.startOf(s,"isoWeek",a):i.startOf(s,r)),+s)}function g2(t,e,i,n){let r=dn.length;for(let a=dn.indexOf(t);a<r-1;++a){let s=Uc[dn[a]],o=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((i-e)/(o*s.size))<=n)return dn[a]}return dn[r-1]}function CS(t,e,i,n,r){for(let a=dn.length-1;a>=dn.indexOf(i);a--){let s=dn[a];if(Uc[s].common&&t._adapter.diff(r,n,s)>=e-1)return s}return dn[i?dn.indexOf(i):0]}function AS(t){for(let e=dn.indexOf(t)+1,i=dn.length;e<i;++e)if(Uc[dn[e]].common)return dn[e]}function m2(t,e,i){if(!i)t[e]=!0;else if(i.length){let{lo:n,hi:r}=bc(i,e),a=i[n]>=e?i[n]:i[r];t[a]=!0}}function kS(t,e,i,n){let r=t._adapter,a=+r.startOf(e[0].value,n),s=e[e.length-1].value,o,l;for(o=a;o<=s;o=+r.add(o,1,n))l=i[o],l>=0&&(e[l].major=!0);return e}function b2(t,e,i){let n=[],r={},a=e.length,s,o;for(s=0;s<a;++s)o=e[s],r[o]=s,n.push({value:o,major:!1});return a===0||!i?n:kS(t,n,r,i)}var Od=(()=>{class t extends Cs{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(i){super(i),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(i,n={}){let r=i.time||(i.time={}),a=this._adapter=new Rw._date(i.adapters.date);a.init(n),eo(r.displayFormats,a.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(i),this._normalized=n.normalized}parse(i,n){return i===void 0?null:p2(this,i)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let i=this.options,n=this._adapter,r=i.time.unit||"day",{min:a,max:s,minDefined:o,maxDefined:l}=this.getUserBounds();function h(c){!o&&!isNaN(c.min)&&(a=Math.min(a,c.min)),!l&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!l)&&(h(this._getLabelBounds()),(i.bounds!=="ticks"||i.ticks.source!=="labels")&&h(this.getMinMax(!1))),a=ni(a)&&!isNaN(a)?a:+n.startOf(Date.now(),r),s=ni(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(a,s-1),this.max=Math.max(a+1,s)}_getLabelBounds(){let i=this.getLabelTimestamps(),n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return i.length&&(n=i[0],r=i[i.length-1]),{min:n,max:r}}buildTicks(){let i=this.options,n=i.time,r=i.ticks,a=r.source==="labels"?this.getLabelTimestamps():this._generate();i.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);let s=this.min,o=this.max,l=K1(a,s,o);return this._unit=n.unit||(r.autoSkip?g2(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):CS(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:AS(this._unit),this.initOffsets(a),i.reverse&&l.reverse(),b2(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(i=>+i.value))}initOffsets(i=[]){let n=0,r=0,a,s;this.options.offset&&i.length&&(a=this.getDecimalForValue(i[0]),i.length===1?n=1-a:n=(this.getDecimalForValue(i[1])-a)/2,s=this.getDecimalForValue(i[i.length-1]),i.length===1?r=s:r=(s-this.getDecimalForValue(i[i.length-2]))/2);let o=i.length<3?.5:.25;n=Oi(n,0,o),r=Oi(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){let i=this._adapter,n=this.min,r=this.max,a=this.options,s=a.time,o=s.unit||g2(s.minUnit,n,r,this._getLabelCapacity(n)),l=te(a.ticks.stepSize,1),h=o==="week"?s.isoWeekday:!1,c=_s(h)||h===!0,p={},g=n,f,v;if(c&&(g=+i.startOf(g,"isoWeek",h)),g=+i.startOf(g,c?"day":o),i.diff(r,n,o)>1e5*l)throw new Error(n+" and "+r+" are too far apart with stepSize of "+l+" "+o);let x=a.ticks.source==="data"&&this.getDataTimestamps();for(f=g,v=0;f<r;f=+i.add(f,l,o),v++)m2(p,f,x);return(f===r||a.bounds==="ticks"||v===1)&&m2(p,f,x),Object.keys(p).sort(d2).map(y=>+y)}getLabelForValue(i){let n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(i,r.tooltipFormat):n.format(i,r.displayFormats.datetime)}format(i,n){let a=this.options.time.displayFormats,s=this._unit,o=n||a[s];return this._adapter.format(i,o)}_tickFormatFunction(i,n,r,a){let s=this.options,o=s.ticks.callback;if(o)return Ue(o,[i,n,r],this);let l=s.time.displayFormats,h=this._unit,c=this._majorUnit,p=h&&l[h],g=c&&l[c],f=r[n],v=c&&g&&f&&f.major;return this._adapter.format(i,a||(v?g:p))}generateTickLabels(i){let n,r,a;for(n=0,r=i.length;n<r;++n)a=i[n],a.label=this._tickFormatFunction(a.value,n,i)}getDecimalForValue(i){return i===null?NaN:(i-this.min)/(this.max-this.min)}getPixelForValue(i){let n=this._offsets,r=this.getDecimalForValue(i);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(i){let n=this._offsets,r=this.getDecimalForPixel(i)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(i){let n=this.options.ticks,r=this.ctx.measureText(i).width,a=Un(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(a),o=Math.sin(a),l=this._resolveTickFontOptions(0).size;return{w:r*s+l*o,h:r*o+l*s}}_getLabelCapacity(i){let n=this.options.time,r=n.displayFormats,a=r[n.unit]||r.millisecond,s=this._tickFormatFunction(i,0,b2(this,[i],this._majorUnit),a),o=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let i=this._cache.data||[],n,r;if(i.length)return i;let a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(n=0,r=a.length;n<r;++n)i=i.concat(a[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(i)}getLabelTimestamps(){let i=this._cache.labels||[],n,r;if(i.length)return i;let a=this.getLabels();for(n=0,r=a.length;n<r;++n)i.push(p2(this,a[n]));return this._cache.labels=this._normalized?i:this.normalize(i)}normalize(i){return Rf(i.sort(d2))}}return t})();function Nc(t,e,i){let n=0,r=t.length-1,a,s,o,l;i?(e>=t[n].pos&&e<=t[r].pos&&({lo:n,hi:r}=dr(t,"pos",e)),{pos:a,time:o}=t[n],{pos:s,time:l}=t[r]):(e>=t[n].time&&e<=t[r].time&&({lo:n,hi:r}=dr(t,"time",e)),{time:a,pos:o}=t[n],{time:s,pos:l}=t[r]);let h=s-a;return h?o+(l-o)*(e-a)/h:o}var Ed=class extends Od{static id="timeseries";static defaults=Od.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let e=this._getTimestampsForTable(),i=this._table=this.buildLookupTable(e);this._minPos=Nc(i,this.min),this._tableRange=Nc(i,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){let{min:i,max:n}=this,r=[],a=[],s,o,l,h,c;for(s=0,o=e.length;s<o;++s)h=e[s],h>=i&&h<=n&&r.push(h);if(r.length<2)return[{time:i,pos:0},{time:n,pos:1}];for(s=0,o=r.length;s<o;++s)c=r[s+1],l=r[s-1],h=r[s],Math.round((c+l)/2)!==h&&a.push({time:h,pos:s/(o-1)});return a}_generate(){let e=this.min,i=this.max,n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(i)||n.length===1)&&n.push(i),n.sort((r,a)=>r-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;let i=this.getDataTimestamps(),n=this.getLabelTimestamps();return i.length&&n.length?e=this.normalize(i.concat(n)):e=i.length?i:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Nc(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){let i=this._offsets,n=this.getDecimalForPixel(e)/i.factor-i.end;return Nc(this._table,n*this._tableRange+this._minPos,!0)}},DS=Object.freeze({__proto__:null,CategoryScale:oS,LinearScale:Pd,LogarithmicScale:Nd,RadialLinearScale:Id,TimeScale:Od,TimeSeriesScale:Ed}),Rd=[Fw,l4,nS,DS];var LS=typeof global=="object"&&global&&global.Object===Object&&global,Hc=LS;var TS=typeof self=="object"&&self&&self.Object===Object&&self,PS=Hc||TS||Function("return this")(),Hn=PS;var NS=Hn.Symbol,fo=NS;var j2=Object.prototype,MS=j2.hasOwnProperty,IS=j2.toString,Bl=fo?fo.toStringTag:void 0;function OS(t){var e=MS.call(t,Bl),i=t[Bl];try{t[Bl]=void 0;var n=!0}catch{}var r=IS.call(t);return n&&(e?t[Bl]=i:delete t[Bl]),r}var z2=OS;var ES=Object.prototype,FS=ES.toString;function RS(t){return FS.call(t)}var V2=RS;var BS="[object Null]",jS="[object Undefined]",U2=fo?fo.toStringTag:void 0;function zS(t){return t==null?t===void 0?jS:BS:U2&&U2 in Object(t)?z2(t):V2(t)}var Ma=zS;function VS(t){return t!=null&&typeof t=="object"}var xr=VS;var US=Array.isArray,jl=US;function HS(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var pn=HS;function qS(t){return t}var qc=qS;var WS="[object AsyncFunction]",$S="[object Function]",YS="[object GeneratorFunction]",GS="[object Proxy]";function ZS(t){if(!pn(t))return!1;var e=Ma(t);return e==$S||e==YS||e==WS||e==GS}var po=ZS;var XS=Hn["__core-js_shared__"],Wc=XS;var H2=function(){var t=/[^.]+$/.exec(Wc&&Wc.keys&&Wc.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function KS(t){return!!H2&&H2 in t}var q2=KS;var JS=Function.prototype,QS=JS.toString;function t6(t){if(t!=null){try{return QS.call(t)}catch{}try{return t+""}catch{}}return""}var W2=t6;var e6=/[\\^$.*+?()[\]{}|]/g,i6=/^\[object .+?Constructor\]$/,n6=Function.prototype,r6=Object.prototype,a6=n6.toString,s6=r6.hasOwnProperty,o6=RegExp("^"+a6.call(s6).replace(e6,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function l6(t){if(!pn(t)||q2(t))return!1;var e=po(t)?o6:i6;return e.test(W2(t))}var $2=l6;function h6(t,e){return t?.[e]}var Y2=h6;function c6(t,e){var i=Y2(t,e);return $2(i)?i:void 0}var go=c6;var G2=Object.create,u6=function(){function t(){}return function(e){if(!pn(e))return{};if(G2)return G2(e);t.prototype=e;var i=new t;return t.prototype=void 0,i}}(),Z2=u6;function f6(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}var X2=f6;function d6(t,e){var i=-1,n=t.length;for(e||(e=Array(n));++i<n;)e[i]=t[i];return e}var K2=d6;var p6=800,g6=16,m6=Date.now;function b6(t){var e=0,i=0;return function(){var n=m6(),r=g6-(n-i);if(i=n,r>0){if(++e>=p6)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var J2=b6;function v6(t){return function(){return t}}var Q2=v6;var x6=function(){try{var t=go(Object,"defineProperty");return t({},"",{}),t}catch{}}(),mo=x6;var _6=mo?function(t,e){return mo(t,"toString",{configurable:!0,enumerable:!1,value:Q2(e),writable:!0})}:qc,t5=_6;var y6=J2(t5),e5=y6;var w6=9007199254740991,S6=/^(?:0|[1-9]\d*)$/;function C6(t,e){var i=typeof t;return e=e??w6,!!e&&(i=="number"||i!="symbol"&&S6.test(t))&&t>-1&&t%1==0&&t<e}var $c=C6;function A6(t,e,i){e=="__proto__"&&mo?mo(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}var bo=A6;function k6(t,e){return t===e||t!==t&&e!==e}var Ia=k6;var D6=Object.prototype,L6=D6.hasOwnProperty;function T6(t,e,i){var n=t[e];(!(L6.call(t,e)&&Ia(n,i))||i===void 0&&!(e in t))&&bo(t,e,i)}var i5=T6;function P6(t,e,i,n){var r=!i;i||(i={});for(var a=-1,s=e.length;++a<s;){var o=e[a],l=n?n(i[o],t[o],o,i,t):void 0;l===void 0&&(l=t[o]),r?bo(i,o,l):i5(i,o,l)}return i}var n5=P6;var r5=Math.max;function N6(t,e,i){return e=r5(e===void 0?t.length-1:e,0),function(){for(var n=arguments,r=-1,a=r5(n.length-e,0),s=Array(a);++r<a;)s[r]=n[e+r];r=-1;for(var o=Array(e+1);++r<e;)o[r]=n[r];return o[e]=i(s),X2(t,this,o)}}var a5=N6;function M6(t,e){return e5(a5(t,e,qc),t+"")}var s5=M6;var I6=9007199254740991;function O6(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=I6}var Yc=O6;function E6(t){return t!=null&&Yc(t.length)&&!po(t)}var vo=E6;function F6(t,e,i){if(!pn(i))return!1;var n=typeof e;return(n=="number"?vo(i)&&$c(e,i.length):n=="string"&&e in i)?Ia(i[e],t):!1}var o5=F6;function R6(t){return s5(function(e,i){var n=-1,r=i.length,a=r>1?i[r-1]:void 0,s=r>2?i[2]:void 0;for(a=t.length>3&&typeof a=="function"?(r--,a):void 0,s&&o5(i[0],i[1],s)&&(a=r<3?void 0:a,r=1),e=Object(e);++n<r;){var o=i[n];o&&t(e,o,n,a)}return e})}var l5=R6;var B6=Object.prototype;function j6(t){var e=t&&t.constructor,i=typeof e=="function"&&e.prototype||B6;return t===i}var Gc=j6;function z6(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}var h5=z6;var V6="[object Arguments]";function U6(t){return xr(t)&&Ma(t)==V6}var Bd=U6;var c5=Object.prototype,H6=c5.hasOwnProperty,q6=c5.propertyIsEnumerable,W6=Bd(function(){return arguments}())?Bd:function(t){return xr(t)&&H6.call(t,"callee")&&!q6.call(t,"callee")},zl=W6;function $6(){return!1}var u5=$6;var p5=typeof exports=="object"&&exports&&!exports.nodeType&&exports,f5=p5&&typeof module=="object"&&module&&!module.nodeType&&module,Y6=f5&&f5.exports===p5,d5=Y6?Hn.Buffer:void 0,G6=d5?d5.isBuffer:void 0,Z6=G6||u5,Zc=Z6;var X6="[object Arguments]",K6="[object Array]",J6="[object Boolean]",Q6="[object Date]",t8="[object Error]",e8="[object Function]",i8="[object Map]",n8="[object Number]",r8="[object Object]",a8="[object RegExp]",s8="[object Set]",o8="[object String]",l8="[object WeakMap]",h8="[object ArrayBuffer]",c8="[object DataView]",u8="[object Float32Array]",f8="[object Float64Array]",d8="[object Int8Array]",p8="[object Int16Array]",g8="[object Int32Array]",m8="[object Uint8Array]",b8="[object Uint8ClampedArray]",v8="[object Uint16Array]",x8="[object Uint32Array]",ti={};ti[u8]=ti[f8]=ti[d8]=ti[p8]=ti[g8]=ti[m8]=ti[b8]=ti[v8]=ti[x8]=!0;ti[X6]=ti[K6]=ti[h8]=ti[J6]=ti[c8]=ti[Q6]=ti[t8]=ti[e8]=ti[i8]=ti[n8]=ti[r8]=ti[a8]=ti[s8]=ti[o8]=ti[l8]=!1;function _8(t){return xr(t)&&Yc(t.length)&&!!ti[Ma(t)]}var g5=_8;function y8(t){return function(e){return t(e)}}var m5=y8;var b5=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Vl=b5&&typeof module=="object"&&module&&!module.nodeType&&module,w8=Vl&&Vl.exports===b5,jd=w8&&Hc.process,S8=function(){try{var t=Vl&&Vl.require&&Vl.require("util").types;return t||jd&&jd.binding&&jd.binding("util")}catch{}}(),zd=S8;var v5=zd&&zd.isTypedArray,C8=v5?m5(v5):g5,Xc=C8;var A8=Object.prototype,k8=A8.hasOwnProperty;function D8(t,e){var i=jl(t),n=!i&&zl(t),r=!i&&!n&&Zc(t),a=!i&&!n&&!r&&Xc(t),s=i||n||r||a,o=s?h5(t.length,String):[],l=o.length;for(var h in t)(e||k8.call(t,h))&&!(s&&(h=="length"||r&&(h=="offset"||h=="parent")||a&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||$c(h,l)))&&o.push(h);return o}var x5=D8;function L8(t,e){return function(i){return t(e(i))}}var _5=L8;function T8(t){var e=[];if(t!=null)for(var i in Object(t))e.push(i);return e}var y5=T8;var P8=Object.prototype,N8=P8.hasOwnProperty;function M8(t){if(!pn(t))return y5(t);var e=Gc(t),i=[];for(var n in t)n=="constructor"&&(e||!N8.call(t,n))||i.push(n);return i}var w5=M8;function I8(t){return vo(t)?x5(t,!0):w5(t)}var Kc=I8;var O8=go(Object,"create"),Gr=O8;function E8(){this.__data__=Gr?Gr(null):{},this.size=0}var S5=E8;function F8(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var C5=F8;var R8="__lodash_hash_undefined__",B8=Object.prototype,j8=B8.hasOwnProperty;function z8(t){var e=this.__data__;if(Gr){var i=e[t];return i===R8?void 0:i}return j8.call(e,t)?e[t]:void 0}var A5=z8;var V8=Object.prototype,U8=V8.hasOwnProperty;function H8(t){var e=this.__data__;return Gr?e[t]!==void 0:U8.call(e,t)}var k5=H8;var q8="__lodash_hash_undefined__";function W8(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=Gr&&e===void 0?q8:e,this}var D5=W8;function xo(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}xo.prototype.clear=S5;xo.prototype.delete=C5;xo.prototype.get=A5;xo.prototype.has=k5;xo.prototype.set=D5;var Vd=xo;function $8(){this.__data__=[],this.size=0}var L5=$8;function Y8(t,e){for(var i=t.length;i--;)if(Ia(t[i][0],e))return i;return-1}var Oa=Y8;var G8=Array.prototype,Z8=G8.splice;function X8(t){var e=this.__data__,i=Oa(e,t);if(i<0)return!1;var n=e.length-1;return i==n?e.pop():Z8.call(e,i,1),--this.size,!0}var T5=X8;function K8(t){var e=this.__data__,i=Oa(e,t);return i<0?void 0:e[i][1]}var P5=K8;function J8(t){return Oa(this.__data__,t)>-1}var N5=J8;function Q8(t,e){var i=this.__data__,n=Oa(i,t);return n<0?(++this.size,i.push([t,e])):i[n][1]=e,this}var M5=Q8;function _o(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}_o.prototype.clear=L5;_o.prototype.delete=T5;_o.prototype.get=P5;_o.prototype.has=N5;_o.prototype.set=M5;var Ea=_o;var tC=go(Hn,"Map"),Jc=tC;function eC(){this.size=0,this.__data__={hash:new Vd,map:new(Jc||Ea),string:new Vd}}var I5=eC;function iC(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var O5=iC;function nC(t,e){var i=t.__data__;return O5(e)?i[typeof e=="string"?"string":"hash"]:i.map}var Fa=nC;function rC(t){var e=Fa(this,t).delete(t);return this.size-=e?1:0,e}var E5=rC;function aC(t){return Fa(this,t).get(t)}var F5=aC;function sC(t){return Fa(this,t).has(t)}var R5=sC;function oC(t,e){var i=Fa(this,t),n=i.size;return i.set(t,e),this.size+=i.size==n?0:1,this}var B5=oC;function yo(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}yo.prototype.clear=I5;yo.prototype.delete=E5;yo.prototype.get=F5;yo.prototype.has=R5;yo.prototype.set=B5;var j5=yo;var lC=_5(Object.getPrototypeOf,Object),Qc=lC;var hC="[object Object]",cC=Function.prototype,uC=Object.prototype,z5=cC.toString,fC=uC.hasOwnProperty,dC=z5.call(Object);function pC(t){if(!xr(t)||Ma(t)!=hC)return!1;var e=Qc(t);if(e===null)return!0;var i=fC.call(e,"constructor")&&e.constructor;return typeof i=="function"&&i instanceof i&&z5.call(i)==dC}var V5=pC;function gC(){this.__data__=new Ea,this.size=0}var U5=gC;function mC(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}var H5=mC;function bC(t){return this.__data__.get(t)}var q5=bC;function vC(t){return this.__data__.has(t)}var W5=vC;var xC=200;function _C(t,e){var i=this.__data__;if(i instanceof Ea){var n=i.__data__;if(!Jc||n.length<xC-1)return n.push([t,e]),this.size=++i.size,this;i=this.__data__=new j5(n)}return i.set(t,e),this.size=i.size,this}var $5=_C;function wo(t){var e=this.__data__=new Ea(t);this.size=e.size}wo.prototype.clear=U5;wo.prototype.delete=H5;wo.prototype.get=q5;wo.prototype.has=W5;wo.prototype.set=$5;var Y5=wo;var K5=typeof exports=="object"&&exports&&!exports.nodeType&&exports,G5=K5&&typeof module=="object"&&module&&!module.nodeType&&module,yC=G5&&G5.exports===K5,Z5=yC?Hn.Buffer:void 0,X5=Z5?Z5.allocUnsafe:void 0;function wC(t,e){if(e)return t.slice();var i=t.length,n=X5?X5(i):new t.constructor(i);return t.copy(n),n}var J5=wC;var SC=Hn.Uint8Array,Ud=SC;function CC(t){var e=new t.constructor(t.byteLength);return new Ud(e).set(new Ud(t)),e}var Q5=CC;function AC(t,e){var i=e?Q5(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}var tb=AC;function kC(t){return typeof t.constructor=="function"&&!Gc(t)?Z2(Qc(t)):{}}var eb=kC;function DC(t){return function(e,i,n){for(var r=-1,a=Object(e),s=n(e),o=s.length;o--;){var l=s[t?o:++r];if(i(a[l],l,a)===!1)break}return e}}var ib=DC;var LC=ib(),nb=LC;function TC(t,e,i){(i!==void 0&&!Ia(t[e],i)||i===void 0&&!(e in t))&&bo(t,e,i)}var Ul=TC;function PC(t){return xr(t)&&vo(t)}var rb=PC;function NC(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var Hl=NC;function MC(t){return n5(t,Kc(t))}var ab=MC;function IC(t,e,i,n,r,a,s){var o=Hl(t,i),l=Hl(e,i),h=s.get(l);if(h){Ul(t,i,h);return}var c=a?a(o,l,i+"",t,e,s):void 0,p=c===void 0;if(p){var g=jl(l),f=!g&&Zc(l),v=!g&&!f&&Xc(l);c=l,g||f||v?jl(o)?c=o:rb(o)?c=K2(o):f?(p=!1,c=J5(l,!0)):v?(p=!1,c=tb(l,!0)):c=[]:V5(l)||zl(l)?(c=o,zl(o)?c=ab(o):(!pn(o)||po(o))&&(c=eb(l))):p=!1}p&&(s.set(l,c),r(c,l,n,a,s),s.delete(l)),Ul(t,i,c)}var sb=IC;function ob(t,e,i,n,r){t!==e&&nb(e,function(a,s){if(r||(r=new Y5),pn(a))sb(t,e,s,i,ob,n,r);else{var o=n?n(Hl(t,s),a,s+"",t,e,r):void 0;o===void 0&&(o=a),Ul(t,s,o)}},Kc)}var lb=ob;var OC=l5(function(t,e,i){lb(t,e,i)}),Hd=OC;var EC=new X0("Configuration for ngCharts");var FC=(()=>{class t{constructor(){this.colorschemesOptions=new Kh(void 0)}setColorschemesOptions(i){this.pColorschemesOptions=i,this.colorschemesOptions.next(i)}getColorschemesOptions(){return this.pColorschemesOptions}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=Jh({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Wd=(()=>{class t{constructor(i,n,r,a){this.zone=n,this.themeService=r,this.type="bar",this.plugins=[],this.chartClick=new _f,this.chartHover=new _f,this.subs=[],this.themeOverrides={},a?.registerables&&uo.register(...a.registerables),a?.defaults&&He.set(a.defaults),this.ctx=i.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe(Y0()).subscribe(s=>this.themeChanged(s)))}ngOnChanges(i){let n=["type"],r=Object.getOwnPropertyNames(i);if(r.some(a=>n.includes(a))||r.every(a=>i[a].isFirstChange()))this.render();else{let a=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,a.data),this.chart.config.plugins&&Object.assign(this.chart.config.plugins,a.plugins),this.chart.config.options&&Object.assign(this.chart.config.options,a.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(i=>i.unsubscribe())}render(){return this.chart&&this.chart.destroy(),this.zone.runOutsideAngular(()=>this.chart=new uo(this.ctx,this.getChartConfiguration()))}update(i){this.chart&&this.zone.runOutsideAngular(()=>this.chart?.update(i))}hideDataset(i,n){this.chart&&(this.chart.getDatasetMeta(i).hidden=n,this.update())}isDatasetHidden(i){return this.chart?.getDatasetMeta(i)?.hidden}toBase64Image(){return this.chart?.toBase64Image()}themeChanged(i){this.themeOverrides=i,this.chart&&(this.chart.config.options&&Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return Hd({onHover:(i,n)=>{!this.chartHover.observed&&!this.chartHover.observers?.length||this.zone.run(()=>this.chartHover.emit({event:i,active:n}))},onClick:(i,n)=>{!this.chartClick.observed&&!this.chartClick.observers?.length||this.zone.run(()=>this.chartClick.emit({event:i,active:n}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),options:this.getChartOptions(),plugins:this.plugins}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}static{this.\u0275fac=function(n){return new(n||t)(vi(tg),vi(Q0),vi(FC),vi(EC,8))}}static{this.\u0275dir=eg({type:t,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],features:[J0]})}}return t})();var er=Uint8Array,Tn=Uint16Array,Xd=Int32Array,Kd=new er([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Jd=new er([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),hb=new er([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),db=function(t,e){for(var i=new Tn(31),n=0;n<31;++n)i[n]=e+=1<<t[n-1];for(var r=new Xd(i[30]),n=1;n<30;++n)for(var a=i[n];a<i[n+1];++a)r[a]=a-i[n]<<5|n;return{b:i,r}},pb=db(Kd,2),RC=pb.b,Yd=pb.r;RC[28]=258,Yd[258]=28;var gb=db(Jd,0),OO=gb.b,cb=gb.r,Gd=new Tn(32768);for(De=0;De<32768;++De)Zr=(De&43690)>>1|(De&21845)<<1,Zr=(Zr&52428)>>2|(Zr&13107)<<2,Zr=(Zr&61680)>>4|(Zr&3855)<<4,Gd[De]=((Zr&65280)>>8|(Zr&255)<<8)>>1;var Zr,De,$l=function(t,e,i){for(var n=t.length,r=0,a=new Tn(e);r<n;++r)t[r]&&++a[t[r]-1];var s=new Tn(e);for(r=1;r<e;++r)s[r]=s[r-1]+a[r-1]<<1;var o;if(i){o=new Tn(1<<e);var l=15-e;for(r=0;r<n;++r)if(t[r])for(var h=r<<4|t[r],c=e-t[r],p=s[t[r]-1]++<<c,g=p|(1<<c)-1;p<=g;++p)o[Gd[p]>>l]=h}else for(o=new Tn(n),r=0;r<n;++r)t[r]&&(o[r]=Gd[s[t[r]-1]++]>>15-t[r]);return o},As=new er(288);for(De=0;De<144;++De)As[De]=8;var De;for(De=144;De<256;++De)As[De]=9;var De;for(De=256;De<280;++De)As[De]=7;var De;for(De=280;De<288;++De)As[De]=8;var De,tu=new er(32);for(De=0;De<32;++De)tu[De]=5;var De,BC=$l(As,9,0);var jC=$l(tu,5,0);var mb=function(t){return(t+7)/8|0},zC=function(t,e,i){return(e==null||e<0)&&(e=0),(i==null||i>t.length)&&(i=t.length),new er(t.subarray(e,i))};var Xr=function(t,e,i){i<<=e&7;var n=e/8|0;t[n]|=i,t[n+1]|=i>>8},ql=function(t,e,i){i<<=e&7;var n=e/8|0;t[n]|=i,t[n+1]|=i>>8,t[n+2]|=i>>16},$d=function(t,e){for(var i=[],n=0;n<t.length;++n)t[n]&&i.push({s:n,f:t[n]});var r=i.length,a=i.slice();if(!r)return{t:vb,l:0};if(r==1){var s=new er(i[0].s+1);return s[i[0].s]=1,{t:s,l:1}}i.sort(function(F,$){return F.f-$.f}),i.push({s:-1,f:25001});var o=i[0],l=i[1],h=0,c=1,p=2;for(i[0]={s:-1,f:o.f+l.f,l:o,r:l};c!=r-1;)o=i[i[h].f<i[p].f?h++:p++],l=i[h!=c&&i[h].f<i[p].f?h++:p++],i[c++]={s:-1,f:o.f+l.f,l:o,r:l};for(var g=a[0].s,n=1;n<r;++n)a[n].s>g&&(g=a[n].s);var f=new Tn(g+1),v=Zd(i[c-1],f,0);if(v>e){var n=0,x=0,y=v-e,w=1<<y;for(a.sort(function($,K){return f[K.s]-f[$.s]||$.f-K.f});n<r;++n){var A=a[n].s;if(f[A]>e)x+=w-(1<<v-f[A]),f[A]=e;else break}for(x>>=y;x>0;){var N=a[n].s;f[N]<e?x-=1<<e-f[N]++-1:++n}for(;n>=0&&x;--n){var T=a[n].s;f[T]==e&&(--f[T],++x)}v=e}return{t:new er(f),l:v}},Zd=function(t,e,i){return t.s==-1?Math.max(Zd(t.l,e,i+1),Zd(t.r,e,i+1)):e[t.s]=i},ub=function(t){for(var e=t.length;e&&!t[--e];);for(var i=new Tn(++e),n=0,r=t[0],a=1,s=function(l){i[n++]=l},o=1;o<=e;++o)if(t[o]==r&&o!=e)++a;else{if(!r&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(r),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(r);a=1,r=t[o]}return{c:i.subarray(0,n),n:e}},Wl=function(t,e){for(var i=0,n=0;n<e.length;++n)i+=t[n]*e[n];return i},bb=function(t,e,i){var n=i.length,r=mb(e+2);t[r]=n&255,t[r+1]=n>>8,t[r+2]=t[r]^255,t[r+3]=t[r+1]^255;for(var a=0;a<n;++a)t[r+a+4]=i[a];return(r+4+n)*8},fb=function(t,e,i,n,r,a,s,o,l,h,c){Xr(e,c++,i),++r[256];for(var p=$d(r,15),g=p.t,f=p.l,v=$d(a,15),x=v.t,y=v.l,w=ub(g),A=w.c,N=w.n,T=ub(x),F=T.c,$=T.n,K=new Tn(19),z=0;z<A.length;++z)++K[A[z]&31];for(var z=0;z<F.length;++z)++K[F[z]&31];for(var E=$d(K,7),X=E.t,D=E.l,I=19;I>4&&!X[hb[I-1]];--I);var W=h+5<<3,q=Wl(r,As)+Wl(a,tu)+s,et=Wl(r,g)+Wl(a,x)+s+14+3*I+Wl(K,X)+2*K[16]+3*K[17]+7*K[18];if(l>=0&&W<=q&&W<=et)return bb(e,c,t.subarray(l,l+h));var ot,lt,nt,ht;if(Xr(e,c,1+(et<q)),c+=2,et<q){ot=$l(g,f,0),lt=g,nt=$l(x,y,0),ht=x;var kt=$l(X,D,0);Xr(e,c,N-257),Xr(e,c+5,$-1),Xr(e,c+10,I-4),c+=14;for(var z=0;z<I;++z)Xr(e,c+3*z,X[hb[z]]);c+=3*I;for(var yt=[A,F],P=0;P<2;++P)for(var V=yt[P],z=0;z<V.length;++z){var H=V[z]&31;Xr(e,c,kt[H]),c+=X[H],H>15&&(Xr(e,c,V[z]>>5&127),c+=V[z]>>12)}}else ot=BC,lt=As,nt=jC,ht=tu;for(var z=0;z<o;++z){var G=n[z];if(G>255){var H=G>>18&31;ql(e,c,ot[H+257]),c+=lt[H+257],H>7&&(Xr(e,c,G>>23&31),c+=Kd[H]);var Q=G&31;ql(e,c,nt[Q]),c+=ht[Q],Q>3&&(ql(e,c,G>>5&8191),c+=Jd[Q])}else ql(e,c,ot[G]),c+=lt[G]}return ql(e,c,ot[256]),c+lt[256]},VC=new Xd([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),vb=new er(0),UC=function(t,e,i,n,r,a){var s=a.z||t.length,o=new er(n+s+5*(1+Math.ceil(s/7e3))+r),l=o.subarray(n,o.length-r),h=a.l,c=(a.r||0)&7;if(e){c&&(l[0]=a.r>>3);for(var p=VC[e-1],g=p>>13,f=p&8191,v=(1<<i)-1,x=a.p||new Tn(32768),y=a.h||new Tn(v+1),w=Math.ceil(i/3),A=2*w,N=function(pt){return(t[pt]^t[pt+1]<<w^t[pt+2]<<A)&v},T=new Xd(25e3),F=new Tn(288),$=new Tn(32),K=0,z=0,E=a.i||0,X=0,D=a.w||0,I=0;E+2<s;++E){var W=N(E),q=E&32767,et=y[W];if(x[q]=et,y[W]=q,D<=E){var ot=s-E;if((K>7e3||X>24576)&&(ot>423||!h)){c=fb(t,l,0,T,F,$,z,X,I,E-I,c),X=K=z=0,I=E;for(var lt=0;lt<286;++lt)F[lt]=0;for(var lt=0;lt<30;++lt)$[lt]=0}var nt=2,ht=0,kt=f,yt=q-et&32767;if(ot>2&&W==N(E-yt))for(var P=Math.min(g,ot)-1,V=Math.min(32767,E),H=Math.min(258,ot);yt<=V&&--kt&&q!=et;){if(t[E+nt]==t[E+nt-yt]){for(var G=0;G<H&&t[E+G]==t[E+G-yt];++G);if(G>nt){if(nt=G,ht=yt,G>P)break;for(var Q=Math.min(yt,G-2),st=0,lt=0;lt<Q;++lt){var ft=E-yt+lt&32767,ct=x[ft],_t=ft-ct&32767;_t>st&&(st=_t,et=ft)}}}q=et,et=x[q],yt+=q-et&32767}if(ht){T[X++]=268435456|Yd[nt]<<18|cb[ht];var At=Yd[nt]&31,Nt=cb[ht]&31;z+=Kd[At]+Jd[Nt],++F[257+At],++$[Nt],D=E+nt,++K}else T[X++]=t[E],++F[t[E]]}}for(E=Math.max(E,D);E<s;++E)T[X++]=t[E],++F[t[E]];c=fb(t,l,h,T,F,$,z,X,I,E-I,c),h||(a.r=c&7|l[c/8|0]<<3,c-=7,a.h=y,a.p=x,a.i=E,a.w=D)}else{for(var E=a.w||0;E<s+h;E+=65535){var Mt=E+65535;Mt>=s&&(l[c/8|0]=h,Mt=s),c=bb(l,c+1,t.subarray(E,Mt))}a.i=s}return zC(o,0,n+mb(c)+r)};var xb=function(){var t=1,e=0;return{p:function(i){for(var n=t,r=e,a=i.length|0,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)r+=n+=i[s];n=(n&65535)+15*(n>>16),r=(r&65535)+15*(r>>16)}t=n,e=r},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},HC=function(t,e,i,n,r){if(!r&&(r={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),s=new er(a.length+t.length);s.set(a),s.set(t,a.length),t=s,r.w=a.length}return UC(t,e.level==null?6:e.level,e.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,i,n,r)};var _b=function(t,e,i){for(;i;++e)t[e]=i,i>>>=8};var qC=function(t,e){var i=e.level,n=i==0?0:i<6?1:i==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var r=xb();r.p(e.dictionary),_b(t,2,r.d())}};function eu(t,e){e||(e={});var i=xb();i.p(t);var n=HC(t,e,e.dictionary?6:2,4);return qC(n,e),_b(n,n.length-4,i.d()),n}var WC=typeof TextDecoder<"u"&&new TextDecoder,$C=0;try{WC.decode(vb,{stream:!0}),$C=1}catch{}function yb(t){if(Array.isArray(t))return t}function wb(t,e){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var n,r,a,s,o=[],l=!0,h=!1;try{if(a=(i=i.call(t)).next,e===0){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=a.call(i)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(c){h=!0,r=c}finally{try{if(!l&&i.return!=null&&(s=i.return(),Object(s)!==s))return}finally{if(h)throw r}}return o}}function Qd(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,n=Array(e);i<e;i++)n[i]=t[i];return n}function Sb(t,e){if(t){if(typeof t=="string")return Qd(t,e);var i={}.toString.call(t).slice(8,-1);return i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set"?Array.from(t):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Qd(t,e):void 0}}function Cb(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tp(t,e){return yb(t)||wb(t,e)||Sb(t,e)||Cb()}function ep(t,e="utf8"){return new TextDecoder(e).decode(t)}var YC=new TextEncoder;function Ab(t){return YC.encode(t)}var GC=1024*8,ZC=(()=>{let t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),ip={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array},Yl=class t{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=GC,i={}){let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);let r=i.offset?i.offset>>>0:0,a=e.byteLength-r,s=r;(ArrayBuffer.isView(e)||e instanceof t)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+r),e=e.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){let e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){let n=(this.offset+e)*2,r=new Uint8Array(n);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,i){let n=ip[i].BYTES_PER_ELEMENT*e,r=this.byteOffset+this.offset,a=this.buffer.slice(r,r+n);if(this.littleEndian===ZC&&i!=="uint8"&&i!=="int8"){let o=new Uint8Array(this.buffer.slice(r,r+n));o.reverse();let l=new ip[i](o.buffer);return this.offset+=n,l.reverse(),l}let s=new ip[i](a);return this.offset+=n,s}readInt16(){let e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){let e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){let e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){let e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){let e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){let e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){let e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){let e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let i="";for(let n=0;n<e;n++)i+=this.readChar();return i}readUtf8(e=1){return ep(this.readBytes(e))}decodeText(e=1,i="utf8"){return ep(this.readBytes(e),i)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let i=0;i<e.length;i++)this._data.setUint8(this.offset++,e[i]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let i=0;i<e.length;i++)this.writeUint8(e.charCodeAt(i));return this}writeUtf8(e){return this.writeBytes(Ab(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}};function Lo(t){let e=t.length;for(;--e>=0;)t[e]=0}var XC=0,cv=1,KC=2,JC=3,QC=258,kp=29,lh=256,th=lh+1+kp,Ao=30,Dp=19,uv=2*th+1,ks=15,np=16,tA=7,Lp=256,fv=16,dv=17,pv=18,bp=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),ou=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),eA=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),gv=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),iA=512,Jr=new Array((th+2)*2);Lo(Jr);var Kl=new Array(Ao*2);Lo(Kl);var eh=new Array(iA);Lo(eh);var ih=new Array(QC-JC+1);Lo(ih);var Tp=new Array(kp);Lo(Tp);var lu=new Array(Ao);Lo(lu);function rp(t,e,i,n,r){this.static_tree=t,this.extra_bits=e,this.extra_base=i,this.elems=n,this.max_length=r,this.has_stree=t&&t.length}var mv,bv,vv;function ap(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}var xv=t=>t<256?eh[t]:eh[256+(t>>>7)],nh=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},gn=(t,e,i)=>{t.bi_valid>np-i?(t.bi_buf|=e<<t.bi_valid&65535,nh(t,t.bi_buf),t.bi_buf=e>>np-t.bi_valid,t.bi_valid+=i-np):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=i)},yr=(t,e,i)=>{gn(t,i[e*2],i[e*2+1])},_v=(t,e)=>{let i=0;do i|=t&1,t>>>=1,i<<=1;while(--e>0);return i>>>1},nA=t=>{t.bi_valid===16?(nh(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},rA=(t,e)=>{let i=e.dyn_tree,n=e.max_code,r=e.stat_desc.static_tree,a=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,o=e.stat_desc.extra_base,l=e.stat_desc.max_length,h,c,p,g,f,v,x=0;for(g=0;g<=ks;g++)t.bl_count[g]=0;for(i[t.heap[t.heap_max]*2+1]=0,h=t.heap_max+1;h<uv;h++)c=t.heap[h],g=i[i[c*2+1]*2+1]+1,g>l&&(g=l,x++),i[c*2+1]=g,!(c>n)&&(t.bl_count[g]++,f=0,c>=o&&(f=s[c-o]),v=i[c*2],t.opt_len+=v*(g+f),a&&(t.static_len+=v*(r[c*2+1]+f)));if(x!==0){do{for(g=l-1;t.bl_count[g]===0;)g--;t.bl_count[g]--,t.bl_count[g+1]+=2,t.bl_count[l]--,x-=2}while(x>0);for(g=l;g!==0;g--)for(c=t.bl_count[g];c!==0;)p=t.heap[--h],!(p>n)&&(i[p*2+1]!==g&&(t.opt_len+=(g-i[p*2+1])*i[p*2],i[p*2+1]=g),c--)}},yv=(t,e,i)=>{let n=new Array(ks+1),r=0,a,s;for(a=1;a<=ks;a++)r=r+i[a-1]<<1,n[a]=r;for(s=0;s<=e;s++){let o=t[s*2+1];o!==0&&(t[s*2]=_v(n[o]++,o))}},aA=()=>{let t,e,i,n,r,a=new Array(ks+1);for(i=0,n=0;n<kp-1;n++)for(Tp[n]=i,t=0;t<1<<bp[n];t++)ih[i++]=n;for(ih[i-1]=n,r=0,n=0;n<16;n++)for(lu[n]=r,t=0;t<1<<ou[n];t++)eh[r++]=n;for(r>>=7;n<Ao;n++)for(lu[n]=r<<7,t=0;t<1<<ou[n]-7;t++)eh[256+r++]=n;for(e=0;e<=ks;e++)a[e]=0;for(t=0;t<=143;)Jr[t*2+1]=8,t++,a[8]++;for(;t<=255;)Jr[t*2+1]=9,t++,a[9]++;for(;t<=279;)Jr[t*2+1]=7,t++,a[7]++;for(;t<=287;)Jr[t*2+1]=8,t++,a[8]++;for(yv(Jr,th+1,a),t=0;t<Ao;t++)Kl[t*2+1]=5,Kl[t*2]=_v(t,5);mv=new rp(Jr,bp,lh+1,th,ks),bv=new rp(Kl,ou,0,Ao,ks),vv=new rp(new Array(0),eA,0,Dp,tA)},wv=t=>{let e;for(e=0;e<th;e++)t.dyn_ltree[e*2]=0;for(e=0;e<Ao;e++)t.dyn_dtree[e*2]=0;for(e=0;e<Dp;e++)t.bl_tree[e*2]=0;t.dyn_ltree[Lp*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},Sv=t=>{t.bi_valid>8?nh(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},kb=(t,e,i,n)=>{let r=e*2,a=i*2;return t[r]<t[a]||t[r]===t[a]&&n[e]<=n[i]},sp=(t,e,i)=>{let n=t.heap[i],r=i<<1;for(;r<=t.heap_len&&(r<t.heap_len&&kb(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!kb(e,n,t.heap[r],t.depth));)t.heap[i]=t.heap[r],i=r,r<<=1;t.heap[i]=n},Db=(t,e,i)=>{let n,r,a=0,s,o;if(t.sym_next!==0)do n=t.pending_buf[t.sym_buf+a++]&255,n+=(t.pending_buf[t.sym_buf+a++]&255)<<8,r=t.pending_buf[t.sym_buf+a++],n===0?yr(t,r,e):(s=ih[r],yr(t,s+lh+1,e),o=bp[s],o!==0&&(r-=Tp[s],gn(t,r,o)),n--,s=xv(n),yr(t,s,i),o=ou[s],o!==0&&(n-=lu[s],gn(t,n,o)));while(a<t.sym_next);yr(t,Lp,e)},vp=(t,e)=>{let i=e.dyn_tree,n=e.stat_desc.static_tree,r=e.stat_desc.has_stree,a=e.stat_desc.elems,s,o,l=-1,h;for(t.heap_len=0,t.heap_max=uv,s=0;s<a;s++)i[s*2]!==0?(t.heap[++t.heap_len]=l=s,t.depth[s]=0):i[s*2+1]=0;for(;t.heap_len<2;)h=t.heap[++t.heap_len]=l<2?++l:0,i[h*2]=1,t.depth[h]=0,t.opt_len--,r&&(t.static_len-=n[h*2+1]);for(e.max_code=l,s=t.heap_len>>1;s>=1;s--)sp(t,i,s);h=a;do s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],sp(t,i,1),o=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=o,i[h*2]=i[s*2]+i[o*2],t.depth[h]=(t.depth[s]>=t.depth[o]?t.depth[s]:t.depth[o])+1,i[s*2+1]=i[o*2+1]=h,t.heap[1]=h++,sp(t,i,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],rA(t,e),yv(i,l,t.bl_count)},Lb=(t,e,i)=>{let n,r=-1,a,s=e[0*2+1],o=0,l=7,h=4;for(s===0&&(l=138,h=3),e[(i+1)*2+1]=65535,n=0;n<=i;n++)a=s,s=e[(n+1)*2+1],!(++o<l&&a===s)&&(o<h?t.bl_tree[a*2]+=o:a!==0?(a!==r&&t.bl_tree[a*2]++,t.bl_tree[fv*2]++):o<=10?t.bl_tree[dv*2]++:t.bl_tree[pv*2]++,o=0,r=a,s===0?(l=138,h=3):a===s?(l=6,h=3):(l=7,h=4))},Tb=(t,e,i)=>{let n,r=-1,a,s=e[0*2+1],o=0,l=7,h=4;for(s===0&&(l=138,h=3),n=0;n<=i;n++)if(a=s,s=e[(n+1)*2+1],!(++o<l&&a===s)){if(o<h)do yr(t,a,t.bl_tree);while(--o!==0);else a!==0?(a!==r&&(yr(t,a,t.bl_tree),o--),yr(t,fv,t.bl_tree),gn(t,o-3,2)):o<=10?(yr(t,dv,t.bl_tree),gn(t,o-3,3)):(yr(t,pv,t.bl_tree),gn(t,o-11,7));o=0,r=a,s===0?(l=138,h=3):a===s?(l=6,h=3):(l=7,h=4)}},sA=t=>{let e;for(Lb(t,t.dyn_ltree,t.l_desc.max_code),Lb(t,t.dyn_dtree,t.d_desc.max_code),vp(t,t.bl_desc),e=Dp-1;e>=3&&t.bl_tree[gv[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},oA=(t,e,i,n)=>{let r;for(gn(t,e-257,5),gn(t,i-1,5),gn(t,n-4,4),r=0;r<n;r++)gn(t,t.bl_tree[gv[r]*2+1],3);Tb(t,t.dyn_ltree,e-1),Tb(t,t.dyn_dtree,i-1)},lA=t=>{let e=4093624447,i;for(i=0;i<=31;i++,e>>>=1)if(e&1&&t.dyn_ltree[i*2]!==0)return 0;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return 1;for(i=32;i<lh;i++)if(t.dyn_ltree[i*2]!==0)return 1;return 0},Pb=!1,hA=t=>{Pb||(aA(),Pb=!0),t.l_desc=new ap(t.dyn_ltree,mv),t.d_desc=new ap(t.dyn_dtree,bv),t.bl_desc=new ap(t.bl_tree,vv),t.bi_buf=0,t.bi_valid=0,wv(t)},Cv=(t,e,i,n)=>{gn(t,(XC<<1)+(n?1:0),3),Sv(t),nh(t,i),nh(t,~i),i&&t.pending_buf.set(t.window.subarray(e,e+i),t.pending),t.pending+=i},cA=t=>{gn(t,cv<<1,3),yr(t,Lp,Jr),nA(t)},uA=(t,e,i,n)=>{let r,a,s=0;t.level>0?(t.strm.data_type===2&&(t.strm.data_type=lA(t)),vp(t,t.l_desc),vp(t,t.d_desc),s=sA(t),r=t.opt_len+3+7>>>3,a=t.static_len+3+7>>>3,a<=r&&(r=a)):r=a=i+5,i+4<=r&&e!==-1?Cv(t,e,i,n):t.strategy===4||a===r?(gn(t,(cv<<1)+(n?1:0),3),Db(t,Jr,Kl)):(gn(t,(KC<<1)+(n?1:0),3),oA(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),Db(t,t.dyn_ltree,t.dyn_dtree)),wv(t),n&&Sv(t)},fA=(t,e,i)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=i,e===0?t.dyn_ltree[i*2]++:(t.matches++,e--,t.dyn_ltree[(ih[i]+lh+1)*2]++,t.dyn_dtree[xv(e)*2]++),t.sym_next===t.sym_end),dA=hA,pA=Cv,gA=uA,mA=fA,bA=cA,vA={_tr_init:dA,_tr_stored_block:pA,_tr_flush_block:gA,_tr_tally:mA,_tr_align:bA},xA=(t,e,i,n)=>{let r=t&65535|0,a=t>>>16&65535|0,s=0;for(;i!==0;){s=i>2e3?2e3:i,i-=s;do r=r+e[n++]|0,a=a+r|0;while(--s);r%=65521,a%=65521}return r|a<<16|0},rh=xA,_A=()=>{let t,e=[];for(var i=0;i<256;i++){t=i;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[i]=t}return e},yA=new Uint32Array(_A()),wA=(t,e,i,n)=>{let r=yA,a=n+i;t^=-1;for(let s=n;s<a;s++)t=t>>>8^r[(t^e[s])&255];return t^-1},Fi=wA,Ts={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},To={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:SA,_tr_stored_block:xp,_tr_flush_block:CA,_tr_tally:ja,_tr_align:AA}=vA,{Z_NO_FLUSH:za,Z_PARTIAL_FLUSH:kA,Z_FULL_FLUSH:DA,Z_FINISH:qn,Z_BLOCK:Nb,Z_OK:$i,Z_STREAM_END:Mb,Z_STREAM_ERROR:wr,Z_DATA_ERROR:LA,Z_BUF_ERROR:op,Z_DEFAULT_COMPRESSION:TA,Z_FILTERED:PA,Z_HUFFMAN_ONLY:iu,Z_RLE:NA,Z_FIXED:MA,Z_DEFAULT_STRATEGY:IA,Z_UNKNOWN:OA,Z_DEFLATED:uu}=To,EA=9,FA=15,RA=8,BA=29,jA=256,_p=jA+1+BA,zA=30,VA=19,UA=2*_p+1,HA=15,xe=3,Ba=258,Sr=Ba+xe+1,qA=32,ko=42,Pp=57,yp=69,wp=73,Sp=91,Cp=103,Ds=113,Zl=666,sn=1,Po=2,Ps=3,No=4,WA=3,Ls=(t,e)=>(t.msg=Ts[e],e),Ib=t=>t*2-(t>4?9:0),Ra=t=>{let e=t.length;for(;--e>=0;)t[e]=0},$A=t=>{let e,i,n,r=t.w_size;e=t.hash_size,n=e;do i=t.head[--n],t.head[n]=i>=r?i-r:0;while(--e);e=r,n=e;do i=t.prev[--n],t.prev[n]=i>=r?i-r:0;while(--e)},YA=(t,e,i)=>(e<<t.hash_shift^i)&t.hash_mask,Va=YA,Pn=t=>{let e=t.state,i=e.pending;i>t.avail_out&&(i=t.avail_out),i!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+i),t.next_out),t.next_out+=i,e.pending_out+=i,t.total_out+=i,t.avail_out-=i,e.pending-=i,e.pending===0&&(e.pending_out=0))},Nn=(t,e)=>{CA(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Pn(t.strm)},Le=(t,e)=>{t.pending_buf[t.pending++]=e},Gl=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},Ap=(t,e,i,n)=>{let r=t.avail_in;return r>n&&(r=n),r===0?0:(t.avail_in-=r,e.set(t.input.subarray(t.next_in,t.next_in+r),i),t.state.wrap===1?t.adler=rh(t.adler,e,r,i):t.state.wrap===2&&(t.adler=Fi(t.adler,e,r,i)),t.next_in+=r,t.total_in+=r,r)},Av=(t,e)=>{let i=t.max_chain_length,n=t.strstart,r,a,s=t.prev_length,o=t.nice_match,l=t.strstart>t.w_size-Sr?t.strstart-(t.w_size-Sr):0,h=t.window,c=t.w_mask,p=t.prev,g=t.strstart+Ba,f=h[n+s-1],v=h[n+s];t.prev_length>=t.good_match&&(i>>=2),o>t.lookahead&&(o=t.lookahead);do if(r=e,!(h[r+s]!==v||h[r+s-1]!==f||h[r]!==h[n]||h[++r]!==h[n+1])){n+=2,r++;do;while(h[++n]===h[++r]&&h[++n]===h[++r]&&h[++n]===h[++r]&&h[++n]===h[++r]&&h[++n]===h[++r]&&h[++n]===h[++r]&&h[++n]===h[++r]&&h[++n]===h[++r]&&n<g);if(a=Ba-(g-n),n=g-Ba,a>s){if(t.match_start=e,s=a,a>=o)break;f=h[n+s-1],v=h[n+s]}}while((e=p[e&c])>l&&--i!==0);return s<=t.lookahead?s:t.lookahead},Do=t=>{let e=t.w_size,i,n,r;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Sr)&&(t.window.set(t.window.subarray(e,e+e-n),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),$A(t),n+=e),t.strm.avail_in===0)break;if(i=Ap(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=i,t.lookahead+t.insert>=xe)for(r=t.strstart-t.insert,t.ins_h=t.window[r],t.ins_h=Va(t,t.ins_h,t.window[r+1]);t.insert&&(t.ins_h=Va(t,t.ins_h,t.window[r+xe-1]),t.prev[r&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=r,r++,t.insert--,!(t.lookahead+t.insert<xe)););}while(t.lookahead<Sr&&t.strm.avail_in!==0)},kv=(t,e)=>{let i=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,n,r,a,s=0,o=t.strm.avail_in;do{if(n=65535,a=t.bi_valid+42>>3,t.strm.avail_out<a||(a=t.strm.avail_out-a,r=t.strstart-t.block_start,n>r+t.strm.avail_in&&(n=r+t.strm.avail_in),n>a&&(n=a),n<i&&(n===0&&e!==qn||e===za||n!==r+t.strm.avail_in)))break;s=e===qn&&n===r+t.strm.avail_in?1:0,xp(t,0,0,s),t.pending_buf[t.pending-4]=n,t.pending_buf[t.pending-3]=n>>8,t.pending_buf[t.pending-2]=~n,t.pending_buf[t.pending-1]=~n>>8,Pn(t.strm),r&&(r>n&&(r=n),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+r),t.strm.next_out),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r,t.block_start+=r,n-=r),n&&(Ap(t.strm,t.strm.output,t.strm.next_out,n),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n)}while(s===0);return o-=t.strm.avail_in,o&&(o>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=o&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-o,t.strm.next_in),t.strstart),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),s?No:e!==za&&e!==qn&&t.strm.avail_in===0&&t.strstart===t.block_start?Po:(a=t.window_size-t.strstart,t.strm.avail_in>a&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,a+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),a>t.strm.avail_in&&(a=t.strm.avail_in),a&&(Ap(t.strm,t.window,t.strstart,a),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.high_water<t.strstart&&(t.high_water=t.strstart),a=t.bi_valid+42>>3,a=t.pending_buf_size-a>65535?65535:t.pending_buf_size-a,i=a>t.w_size?t.w_size:a,r=t.strstart-t.block_start,(r>=i||(r||e===qn)&&e!==za&&t.strm.avail_in===0&&r<=a)&&(n=r>a?a:r,s=e===qn&&t.strm.avail_in===0&&n===r?1:0,xp(t,t.block_start,n,s),t.block_start+=n,Pn(t.strm)),s?Ps:sn)},lp=(t,e)=>{let i,n;for(;;){if(t.lookahead<Sr){if(Do(t),t.lookahead<Sr&&e===za)return sn;if(t.lookahead===0)break}if(i=0,t.lookahead>=xe&&(t.ins_h=Va(t,t.ins_h,t.window[t.strstart+xe-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),i!==0&&t.strstart-i<=t.w_size-Sr&&(t.match_length=Av(t,i)),t.match_length>=xe)if(n=ja(t,t.strstart-t.match_start,t.match_length-xe),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=xe){t.match_length--;do t.strstart++,t.ins_h=Va(t,t.ins_h,t.window[t.strstart+xe-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Va(t,t.ins_h,t.window[t.strstart+1]);else n=ja(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(Nn(t,!1),t.strm.avail_out===0))return sn}return t.insert=t.strstart<xe-1?t.strstart:xe-1,e===qn?(Nn(t,!0),t.strm.avail_out===0?Ps:No):t.sym_next&&(Nn(t,!1),t.strm.avail_out===0)?sn:Po},So=(t,e)=>{let i,n,r;for(;;){if(t.lookahead<Sr){if(Do(t),t.lookahead<Sr&&e===za)return sn;if(t.lookahead===0)break}if(i=0,t.lookahead>=xe&&(t.ins_h=Va(t,t.ins_h,t.window[t.strstart+xe-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=xe-1,i!==0&&t.prev_length<t.max_lazy_match&&t.strstart-i<=t.w_size-Sr&&(t.match_length=Av(t,i),t.match_length<=5&&(t.strategy===PA||t.match_length===xe&&t.strstart-t.match_start>4096)&&(t.match_length=xe-1)),t.prev_length>=xe&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-xe,n=ja(t,t.strstart-1-t.prev_match,t.prev_length-xe),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=r&&(t.ins_h=Va(t,t.ins_h,t.window[t.strstart+xe-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=xe-1,t.strstart++,n&&(Nn(t,!1),t.strm.avail_out===0))return sn}else if(t.match_available){if(n=ja(t,0,t.window[t.strstart-1]),n&&Nn(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return sn}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=ja(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<xe-1?t.strstart:xe-1,e===qn?(Nn(t,!0),t.strm.avail_out===0?Ps:No):t.sym_next&&(Nn(t,!1),t.strm.avail_out===0)?sn:Po},GA=(t,e)=>{let i,n,r,a,s=t.window;for(;;){if(t.lookahead<=Ba){if(Do(t),t.lookahead<=Ba&&e===za)return sn;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=xe&&t.strstart>0&&(r=t.strstart-1,n=s[r],n===s[++r]&&n===s[++r]&&n===s[++r])){a=t.strstart+Ba;do;while(n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&r<a);t.match_length=Ba-(a-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=xe?(i=ja(t,1,t.match_length-xe),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(i=ja(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),i&&(Nn(t,!1),t.strm.avail_out===0))return sn}return t.insert=0,e===qn?(Nn(t,!0),t.strm.avail_out===0?Ps:No):t.sym_next&&(Nn(t,!1),t.strm.avail_out===0)?sn:Po},ZA=(t,e)=>{let i;for(;;){if(t.lookahead===0&&(Do(t),t.lookahead===0)){if(e===za)return sn;break}if(t.match_length=0,i=ja(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,i&&(Nn(t,!1),t.strm.avail_out===0))return sn}return t.insert=0,e===qn?(Nn(t,!0),t.strm.avail_out===0?Ps:No):t.sym_next&&(Nn(t,!1),t.strm.avail_out===0)?sn:Po};function _r(t,e,i,n,r){this.good_length=t,this.max_lazy=e,this.nice_length=i,this.max_chain=n,this.func=r}var Xl=[new _r(0,0,0,0,kv),new _r(4,4,8,4,lp),new _r(4,5,16,8,lp),new _r(4,6,32,32,lp),new _r(4,4,16,16,So),new _r(8,16,32,32,So),new _r(8,16,128,128,So),new _r(8,32,128,256,So),new _r(32,128,258,1024,So),new _r(32,258,258,4096,So)],XA=t=>{t.window_size=2*t.w_size,Ra(t.head),t.max_lazy_match=Xl[t.level].max_lazy,t.good_match=Xl[t.level].good_length,t.nice_match=Xl[t.level].nice_length,t.max_chain_length=Xl[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=xe-1,t.match_available=0,t.ins_h=0};function KA(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=uu,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(UA*2),this.dyn_dtree=new Uint16Array((2*zA+1)*2),this.bl_tree=new Uint16Array((2*VA+1)*2),Ra(this.dyn_ltree),Ra(this.dyn_dtree),Ra(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(HA+1),this.heap=new Uint16Array(2*_p+1),Ra(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*_p+1),Ra(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var hh=t=>{if(!t)return 1;let e=t.state;return!e||e.strm!==t||e.status!==ko&&e.status!==Pp&&e.status!==yp&&e.status!==wp&&e.status!==Sp&&e.status!==Cp&&e.status!==Ds&&e.status!==Zl?1:0},Dv=t=>{if(hh(t))return Ls(t,wr);t.total_in=t.total_out=0,t.data_type=OA;let e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?Pp:e.wrap?ko:Ds,t.adler=e.wrap===2?0:1,e.last_flush=-2,SA(e),$i},Lv=t=>{let e=Dv(t);return e===$i&&XA(t.state),e},JA=(t,e)=>hh(t)||t.state.wrap!==2?wr:(t.state.gzhead=e,$i),Tv=(t,e,i,n,r,a)=>{if(!t)return wr;let s=1;if(e===TA&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),r<1||r>EA||i!==uu||n<8||n>15||e<0||e>9||a<0||a>MA||n===8&&s!==1)return Ls(t,wr);n===8&&(n=9);let o=new KA;return t.state=o,o.strm=t,o.status=ko,o.wrap=s,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=r+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+xe-1)/xe),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<r+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=e,o.strategy=a,o.method=i,Lv(t)},QA=(t,e)=>Tv(t,e,uu,FA,RA,IA),tk=(t,e)=>{if(hh(t)||e>Nb||e<0)return t?Ls(t,wr):wr;let i=t.state;if(!t.output||t.avail_in!==0&&!t.input||i.status===Zl&&e!==qn)return Ls(t,t.avail_out===0?op:wr);let n=i.last_flush;if(i.last_flush=e,i.pending!==0){if(Pn(t),t.avail_out===0)return i.last_flush=-1,$i}else if(t.avail_in===0&&Ib(e)<=Ib(n)&&e!==qn)return Ls(t,op);if(i.status===Zl&&t.avail_in!==0)return Ls(t,op);if(i.status===ko&&i.wrap===0&&(i.status=Ds),i.status===ko){let r=uu+(i.w_bits-8<<4)<<8,a=-1;if(i.strategy>=iu||i.level<2?a=0:i.level<6?a=1:i.level===6?a=2:a=3,r|=a<<6,i.strstart!==0&&(r|=qA),r+=31-r%31,Gl(i,r),i.strstart!==0&&(Gl(i,t.adler>>>16),Gl(i,t.adler&65535)),t.adler=1,i.status=Ds,Pn(t),i.pending!==0)return i.last_flush=-1,$i}if(i.status===Pp){if(t.adler=0,Le(i,31),Le(i,139),Le(i,8),i.gzhead)Le(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),Le(i,i.gzhead.time&255),Le(i,i.gzhead.time>>8&255),Le(i,i.gzhead.time>>16&255),Le(i,i.gzhead.time>>24&255),Le(i,i.level===9?2:i.strategy>=iu||i.level<2?4:0),Le(i,i.gzhead.os&255),i.gzhead.extra&&i.gzhead.extra.length&&(Le(i,i.gzhead.extra.length&255),Le(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=Fi(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=yp;else if(Le(i,0),Le(i,0),Le(i,0),Le(i,0),Le(i,0),Le(i,i.level===9?2:i.strategy>=iu||i.level<2?4:0),Le(i,WA),i.status=Ds,Pn(t),i.pending!==0)return i.last_flush=-1,$i}if(i.status===yp){if(i.gzhead.extra){let r=i.pending,a=(i.gzhead.extra.length&65535)-i.gzindex;for(;i.pending+a>i.pending_buf_size;){let o=i.pending_buf_size-i.pending;if(i.pending_buf.set(i.gzhead.extra.subarray(i.gzindex,i.gzindex+o),i.pending),i.pending=i.pending_buf_size,i.gzhead.hcrc&&i.pending>r&&(t.adler=Fi(t.adler,i.pending_buf,i.pending-r,r)),i.gzindex+=o,Pn(t),i.pending!==0)return i.last_flush=-1,$i;r=0,a-=o}let s=new Uint8Array(i.gzhead.extra);i.pending_buf.set(s.subarray(i.gzindex,i.gzindex+a),i.pending),i.pending+=a,i.gzhead.hcrc&&i.pending>r&&(t.adler=Fi(t.adler,i.pending_buf,i.pending-r,r)),i.gzindex=0}i.status=wp}if(i.status===wp){if(i.gzhead.name){let r=i.pending,a;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>r&&(t.adler=Fi(t.adler,i.pending_buf,i.pending-r,r)),Pn(t),i.pending!==0)return i.last_flush=-1,$i;r=0}i.gzindex<i.gzhead.name.length?a=i.gzhead.name.charCodeAt(i.gzindex++)&255:a=0,Le(i,a)}while(a!==0);i.gzhead.hcrc&&i.pending>r&&(t.adler=Fi(t.adler,i.pending_buf,i.pending-r,r)),i.gzindex=0}i.status=Sp}if(i.status===Sp){if(i.gzhead.comment){let r=i.pending,a;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>r&&(t.adler=Fi(t.adler,i.pending_buf,i.pending-r,r)),Pn(t),i.pending!==0)return i.last_flush=-1,$i;r=0}i.gzindex<i.gzhead.comment.length?a=i.gzhead.comment.charCodeAt(i.gzindex++)&255:a=0,Le(i,a)}while(a!==0);i.gzhead.hcrc&&i.pending>r&&(t.adler=Fi(t.adler,i.pending_buf,i.pending-r,r))}i.status=Cp}if(i.status===Cp){if(i.gzhead.hcrc){if(i.pending+2>i.pending_buf_size&&(Pn(t),i.pending!==0))return i.last_flush=-1,$i;Le(i,t.adler&255),Le(i,t.adler>>8&255),t.adler=0}if(i.status=Ds,Pn(t),i.pending!==0)return i.last_flush=-1,$i}if(t.avail_in!==0||i.lookahead!==0||e!==za&&i.status!==Zl){let r=i.level===0?kv(i,e):i.strategy===iu?ZA(i,e):i.strategy===NA?GA(i,e):Xl[i.level].func(i,e);if((r===Ps||r===No)&&(i.status=Zl),r===sn||r===Ps)return t.avail_out===0&&(i.last_flush=-1),$i;if(r===Po&&(e===kA?AA(i):e!==Nb&&(xp(i,0,0,!1),e===DA&&(Ra(i.head),i.lookahead===0&&(i.strstart=0,i.block_start=0,i.insert=0))),Pn(t),t.avail_out===0))return i.last_flush=-1,$i}return e!==qn?$i:i.wrap<=0?Mb:(i.wrap===2?(Le(i,t.adler&255),Le(i,t.adler>>8&255),Le(i,t.adler>>16&255),Le(i,t.adler>>24&255),Le(i,t.total_in&255),Le(i,t.total_in>>8&255),Le(i,t.total_in>>16&255),Le(i,t.total_in>>24&255)):(Gl(i,t.adler>>>16),Gl(i,t.adler&65535)),Pn(t),i.wrap>0&&(i.wrap=-i.wrap),i.pending!==0?$i:Mb)},ek=t=>{if(hh(t))return wr;let e=t.state.status;return t.state=null,e===Ds?Ls(t,LA):$i},ik=(t,e)=>{let i=e.length;if(hh(t))return wr;let n=t.state,r=n.wrap;if(r===2||r===1&&n.status!==ko||n.lookahead)return wr;if(r===1&&(t.adler=rh(t.adler,e,i,0)),n.wrap=0,i>=n.w_size){r===0&&(Ra(n.head),n.strstart=0,n.block_start=0,n.insert=0);let l=new Uint8Array(n.w_size);l.set(e.subarray(i-n.w_size,i),0),e=l,i=n.w_size}let a=t.avail_in,s=t.next_in,o=t.input;for(t.avail_in=i,t.next_in=0,t.input=e,Do(n);n.lookahead>=xe;){let l=n.strstart,h=n.lookahead-(xe-1);do n.ins_h=Va(n,n.ins_h,n.window[l+xe-1]),n.prev[l&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=l,l++;while(--h);n.strstart=l,n.lookahead=xe-1,Do(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=xe-1,n.match_available=0,t.next_in=s,t.input=o,t.avail_in=a,n.wrap=r,$i},nk=QA,rk=Tv,ak=Lv,sk=Dv,ok=JA,lk=tk,hk=ek,ck=ik,uk="pako deflate (from Nodeca project)",Jl={deflateInit:nk,deflateInit2:rk,deflateReset:ak,deflateResetKeep:sk,deflateSetHeader:ok,deflate:lk,deflateEnd:hk,deflateSetDictionary:ck,deflateInfo:uk},fk=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),dk=function(t){let e=Array.prototype.slice.call(arguments,1);for(;e.length;){let i=e.shift();if(i){if(typeof i!="object")throw new TypeError(i+"must be non-object");for(let n in i)fk(i,n)&&(t[n]=i[n])}}return t},pk=t=>{let e=0;for(let n=0,r=t.length;n<r;n++)e+=t[n].length;let i=new Uint8Array(e);for(let n=0,r=0,a=t.length;n<a;n++){let s=t[n];i.set(s,r),r+=s.length}return i},fu={assign:dk,flattenChunks:pk},Pv=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Pv=!1}var ah=new Uint8Array(256);for(let t=0;t<256;t++)ah[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;ah[254]=ah[254]=1;var gk=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,i,n,r,a,s=t.length,o=0;for(r=0;r<s;r++)i=t.charCodeAt(r),(i&64512)===55296&&r+1<s&&(n=t.charCodeAt(r+1),(n&64512)===56320&&(i=65536+(i-55296<<10)+(n-56320),r++)),o+=i<128?1:i<2048?2:i<65536?3:4;for(e=new Uint8Array(o),a=0,r=0;a<o;r++)i=t.charCodeAt(r),(i&64512)===55296&&r+1<s&&(n=t.charCodeAt(r+1),(n&64512)===56320&&(i=65536+(i-55296<<10)+(n-56320),r++)),i<128?e[a++]=i:i<2048?(e[a++]=192|i>>>6,e[a++]=128|i&63):i<65536?(e[a++]=224|i>>>12,e[a++]=128|i>>>6&63,e[a++]=128|i&63):(e[a++]=240|i>>>18,e[a++]=128|i>>>12&63,e[a++]=128|i>>>6&63,e[a++]=128|i&63);return e},mk=(t,e)=>{if(e<65534&&t.subarray&&Pv)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let i="";for(let n=0;n<e;n++)i+=String.fromCharCode(t[n]);return i},bk=(t,e)=>{let i=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,r,a=new Array(i*2);for(r=0,n=0;n<i;){let s=t[n++];if(s<128){a[r++]=s;continue}let o=ah[s];if(o>4){a[r++]=65533,n+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&n<i;)s=s<<6|t[n++]&63,o--;if(o>1){a[r++]=65533;continue}s<65536?a[r++]=s:(s-=65536,a[r++]=55296|s>>10&1023,a[r++]=56320|s&1023)}return mk(a,r)},vk=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let i=e-1;for(;i>=0&&(t[i]&192)===128;)i--;return i<0||i===0?e:i+ah[t[i]]>e?i:e},sh={string2buf:gk,buf2string:bk,utf8border:vk};function xk(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Nv=xk,Mv=Object.prototype.toString,{Z_NO_FLUSH:_k,Z_SYNC_FLUSH:yk,Z_FULL_FLUSH:wk,Z_FINISH:Sk,Z_OK:hu,Z_STREAM_END:Ck,Z_DEFAULT_COMPRESSION:Ak,Z_DEFAULT_STRATEGY:kk,Z_DEFLATED:Dk}=To;function ch(t){this.options=fu.assign({level:Ak,method:Dk,chunkSize:16384,windowBits:15,memLevel:8,strategy:kk},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Nv,this.strm.avail_out=0;let i=Jl.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(i!==hu)throw new Error(Ts[i]);if(e.header&&Jl.deflateSetHeader(this.strm,e.header),e.dictionary){let n;if(typeof e.dictionary=="string"?n=sh.string2buf(e.dictionary):Mv.call(e.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(e.dictionary):n=e.dictionary,i=Jl.deflateSetDictionary(this.strm,n),i!==hu)throw new Error(Ts[i]);this._dict_set=!0}}ch.prototype.push=function(t,e){let i=this.strm,n=this.options.chunkSize,r,a;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?Sk:_k,typeof t=="string"?i.input=sh.string2buf(t):Mv.call(t)==="[object ArrayBuffer]"?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;;){if(i.avail_out===0&&(i.output=new Uint8Array(n),i.next_out=0,i.avail_out=n),(a===yk||a===wk)&&i.avail_out<=6){this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;continue}if(r=Jl.deflate(i,a),r===Ck)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),r=Jl.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===hu;if(i.avail_out===0){this.onData(i.output);continue}if(a>0&&i.next_out>0){this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;continue}if(i.avail_in===0)break}return!0};ch.prototype.onData=function(t){this.chunks.push(t)};ch.prototype.onEnd=function(t){t===hu&&(this.result=fu.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Np(t,e){let i=new ch(e);if(i.push(t,!0),i.err)throw i.msg||Ts[i.err];return i.result}function Lk(t,e){return e=e||{},e.raw=!0,Np(t,e)}function Tk(t,e){return e=e||{},e.gzip=!0,Np(t,e)}var Pk=ch,Nk=Np,Mk=Lk,Ik=Tk,Ok=To,Ek={Deflate:Pk,deflate:Nk,deflateRaw:Mk,gzip:Ik,constants:Ok},nu=16209,Fk=16191,Rk=function(e,i){let n,r,a,s,o,l,h,c,p,g,f,v,x,y,w,A,N,T,F,$,K,z,E,X,D=e.state;n=e.next_in,E=e.input,r=n+(e.avail_in-5),a=e.next_out,X=e.output,s=a-(i-e.avail_out),o=a+(e.avail_out-257),l=D.dmax,h=D.wsize,c=D.whave,p=D.wnext,g=D.window,f=D.hold,v=D.bits,x=D.lencode,y=D.distcode,w=(1<<D.lenbits)-1,A=(1<<D.distbits)-1;t:do{v<15&&(f+=E[n++]<<v,v+=8,f+=E[n++]<<v,v+=8),N=x[f&w];e:for(;;){if(T=N>>>24,f>>>=T,v-=T,T=N>>>16&255,T===0)X[a++]=N&65535;else if(T&16){F=N&65535,T&=15,T&&(v<T&&(f+=E[n++]<<v,v+=8),F+=f&(1<<T)-1,f>>>=T,v-=T),v<15&&(f+=E[n++]<<v,v+=8,f+=E[n++]<<v,v+=8),N=y[f&A];i:for(;;){if(T=N>>>24,f>>>=T,v-=T,T=N>>>16&255,T&16){if($=N&65535,T&=15,v<T&&(f+=E[n++]<<v,v+=8,v<T&&(f+=E[n++]<<v,v+=8)),$+=f&(1<<T)-1,$>l){e.msg="invalid distance too far back",D.mode=nu;break t}if(f>>>=T,v-=T,T=a-s,$>T){if(T=$-T,T>c&&D.sane){e.msg="invalid distance too far back",D.mode=nu;break t}if(K=0,z=g,p===0){if(K+=h-T,T<F){F-=T;do X[a++]=g[K++];while(--T);K=a-$,z=X}}else if(p<T){if(K+=h+p-T,T-=p,T<F){F-=T;do X[a++]=g[K++];while(--T);if(K=0,p<F){T=p,F-=T;do X[a++]=g[K++];while(--T);K=a-$,z=X}}}else if(K+=p-T,T<F){F-=T;do X[a++]=g[K++];while(--T);K=a-$,z=X}for(;F>2;)X[a++]=z[K++],X[a++]=z[K++],X[a++]=z[K++],F-=3;F&&(X[a++]=z[K++],F>1&&(X[a++]=z[K++]))}else{K=a-$;do X[a++]=X[K++],X[a++]=X[K++],X[a++]=X[K++],F-=3;while(F>2);F&&(X[a++]=X[K++],F>1&&(X[a++]=X[K++]))}}else if((T&64)===0){N=y[(N&65535)+(f&(1<<T)-1)];continue i}else{e.msg="invalid distance code",D.mode=nu;break t}break}}else if((T&64)===0){N=x[(N&65535)+(f&(1<<T)-1)];continue e}else if(T&32){D.mode=Fk;break t}else{e.msg="invalid literal/length code",D.mode=nu;break t}break}}while(n<r&&a<o);F=v>>3,n-=F,v-=F<<3,f&=(1<<v)-1,e.next_in=n,e.next_out=a,e.avail_in=n<r?5+(r-n):5-(n-r),e.avail_out=a<o?257+(o-a):257-(a-o),D.hold=f,D.bits=v},Co=15,Ob=852,Eb=592,Fb=0,hp=1,Rb=2,Bk=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),jk=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),zk=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Vk=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Uk=(t,e,i,n,r,a,s,o)=>{let l=o.bits,h=0,c=0,p=0,g=0,f=0,v=0,x=0,y=0,w=0,A=0,N,T,F,$,K,z=null,E,X=new Uint16Array(Co+1),D=new Uint16Array(Co+1),I=null,W,q,et;for(h=0;h<=Co;h++)X[h]=0;for(c=0;c<n;c++)X[e[i+c]]++;for(f=l,g=Co;g>=1&&X[g]===0;g--);if(f>g&&(f=g),g===0)return r[a++]=1<<24|64<<16|0,r[a++]=1<<24|64<<16|0,o.bits=1,0;for(p=1;p<g&&X[p]===0;p++);for(f<p&&(f=p),y=1,h=1;h<=Co;h++)if(y<<=1,y-=X[h],y<0)return-1;if(y>0&&(t===Fb||g!==1))return-1;for(D[1]=0,h=1;h<Co;h++)D[h+1]=D[h]+X[h];for(c=0;c<n;c++)e[i+c]!==0&&(s[D[e[i+c]]++]=c);if(t===Fb?(z=I=s,E=20):t===hp?(z=Bk,I=jk,E=257):(z=zk,I=Vk,E=0),A=0,c=0,h=p,K=a,v=f,x=0,F=-1,w=1<<f,$=w-1,t===hp&&w>Ob||t===Rb&&w>Eb)return 1;for(;;){W=h-x,s[c]+1<E?(q=0,et=s[c]):s[c]>=E?(q=I[s[c]-E],et=z[s[c]-E]):(q=96,et=0),N=1<<h-x,T=1<<v,p=T;do T-=N,r[K+(A>>x)+T]=W<<24|q<<16|et|0;while(T!==0);for(N=1<<h-1;A&N;)N>>=1;if(N!==0?(A&=N-1,A+=N):A=0,c++,--X[h]===0){if(h===g)break;h=e[i+s[c]]}if(h>f&&(A&$)!==F){for(x===0&&(x=f),K+=p,v=h-x,y=1<<v;v+x<g&&(y-=X[v+x],!(y<=0));)v++,y<<=1;if(w+=1<<v,t===hp&&w>Ob||t===Rb&&w>Eb)return 1;F=A&$,r[F]=f<<24|v<<16|K-a|0}}return A!==0&&(r[K+A]=h-x<<24|64<<16|0),o.bits=f,0},Ql=Uk,Hk=0,Iv=1,Ov=2,{Z_FINISH:Bb,Z_BLOCK:qk,Z_TREES:ru,Z_OK:Ns,Z_STREAM_END:Wk,Z_NEED_DICT:$k,Z_STREAM_ERROR:Wn,Z_DATA_ERROR:Ev,Z_MEM_ERROR:Fv,Z_BUF_ERROR:Yk,Z_DEFLATED:jb}=To,du=16180,zb=16181,Vb=16182,Ub=16183,Hb=16184,qb=16185,Wb=16186,$b=16187,Yb=16188,Gb=16189,cu=16190,Kr=16191,cp=16192,Zb=16193,up=16194,Xb=16195,Kb=16196,Jb=16197,Qb=16198,au=16199,su=16200,tv=16201,ev=16202,iv=16203,nv=16204,rv=16205,fp=16206,av=16207,sv=16208,ei=16209,Rv=16210,Bv=16211,Gk=852,Zk=592,Xk=15,Kk=Xk,ov=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function Jk(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var Ms=t=>{if(!t)return 1;let e=t.state;return!e||e.strm!==t||e.mode<du||e.mode>Bv?1:0},jv=t=>{if(Ms(t))return Wn;let e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=du,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Gk),e.distcode=e.distdyn=new Int32Array(Zk),e.sane=1,e.back=-1,Ns},zv=t=>{if(Ms(t))return Wn;let e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,jv(t)},Vv=(t,e)=>{let i;if(Ms(t))return Wn;let n=t.state;return e<0?(i=0,e=-e):(i=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Wn:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=i,n.wbits=e,zv(t))},Uv=(t,e)=>{if(!t)return Wn;let i=new Jk;t.state=i,i.strm=t,i.window=null,i.mode=du;let n=Vv(t,e);return n!==Ns&&(t.state=null),n},Qk=t=>Uv(t,Kk),lv=!0,dp,pp,tD=t=>{if(lv){dp=new Int32Array(512),pp=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Ql(Iv,t.lens,0,288,dp,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Ql(Ov,t.lens,0,32,pp,0,t.work,{bits:5}),lv=!1}t.lencode=dp,t.lenbits=9,t.distcode=pp,t.distbits=5},Hv=(t,e,i,n)=>{let r,a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(e.subarray(i-a.wsize,i),0),a.wnext=0,a.whave=a.wsize):(r=a.wsize-a.wnext,r>n&&(r=n),a.window.set(e.subarray(i-n,i-n+r),a.wnext),n-=r,n?(a.window.set(e.subarray(i-n,i),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=r,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=r))),0},eD=(t,e)=>{let i,n,r,a,s,o,l,h,c,p,g,f,v,x,y=0,w,A,N,T,F,$,K,z,E=new Uint8Array(4),X,D,I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ms(t)||!t.output||!t.input&&t.avail_in!==0)return Wn;i=t.state,i.mode===Kr&&(i.mode=cp),s=t.next_out,r=t.output,l=t.avail_out,a=t.next_in,n=t.input,o=t.avail_in,h=i.hold,c=i.bits,p=o,g=l,z=Ns;t:for(;;)switch(i.mode){case du:if(i.wrap===0){i.mode=cp;break}for(;c<16;){if(o===0)break t;o--,h+=n[a++]<<c,c+=8}if(i.wrap&2&&h===35615){i.wbits===0&&(i.wbits=15),i.check=0,E[0]=h&255,E[1]=h>>>8&255,i.check=Fi(i.check,E,2,0),h=0,c=0,i.mode=zb;break}if(i.head&&(i.head.done=!1),!(i.wrap&1)||(((h&255)<<8)+(h>>8))%31){t.msg="incorrect header check",i.mode=ei;break}if((h&15)!==jb){t.msg="unknown compression method",i.mode=ei;break}if(h>>>=4,c-=4,K=(h&15)+8,i.wbits===0&&(i.wbits=K),K>15||K>i.wbits){t.msg="invalid window size",i.mode=ei;break}i.dmax=1<<i.wbits,i.flags=0,t.adler=i.check=1,i.mode=h&512?Gb:Kr,h=0,c=0;break;case zb:for(;c<16;){if(o===0)break t;o--,h+=n[a++]<<c,c+=8}if(i.flags=h,(i.flags&255)!==jb){t.msg="unknown compression method",i.mode=ei;break}if(i.flags&57344){t.msg="unknown header flags set",i.mode=ei;break}i.head&&(i.head.text=h>>8&1),i.flags&512&&i.wrap&4&&(E[0]=h&255,E[1]=h>>>8&255,i.check=Fi(i.check,E,2,0)),h=0,c=0,i.mode=Vb;case Vb:for(;c<32;){if(o===0)break t;o--,h+=n[a++]<<c,c+=8}i.head&&(i.head.time=h),i.flags&512&&i.wrap&4&&(E[0]=h&255,E[1]=h>>>8&255,E[2]=h>>>16&255,E[3]=h>>>24&255,i.check=Fi(i.check,E,4,0)),h=0,c=0,i.mode=Ub;case Ub:for(;c<16;){if(o===0)break t;o--,h+=n[a++]<<c,c+=8}i.head&&(i.head.xflags=h&255,i.head.os=h>>8),i.flags&512&&i.wrap&4&&(E[0]=h&255,E[1]=h>>>8&255,i.check=Fi(i.check,E,2,0)),h=0,c=0,i.mode=Hb;case Hb:if(i.flags&1024){for(;c<16;){if(o===0)break t;o--,h+=n[a++]<<c,c+=8}i.length=h,i.head&&(i.head.extra_len=h),i.flags&512&&i.wrap&4&&(E[0]=h&255,E[1]=h>>>8&255,i.check=Fi(i.check,E,2,0)),h=0,c=0}else i.head&&(i.head.extra=null);i.mode=qb;case qb:if(i.flags&1024&&(f=i.length,f>o&&(f=o),f&&(i.head&&(K=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Uint8Array(i.head.extra_len)),i.head.extra.set(n.subarray(a,a+f),K)),i.flags&512&&i.wrap&4&&(i.check=Fi(i.check,n,f,a)),o-=f,a+=f,i.length-=f),i.length))break t;i.length=0,i.mode=Wb;case Wb:if(i.flags&2048){if(o===0)break t;f=0;do K=n[a+f++],i.head&&K&&i.length<65536&&(i.head.name+=String.fromCharCode(K));while(K&&f<o);if(i.flags&512&&i.wrap&4&&(i.check=Fi(i.check,n,f,a)),o-=f,a+=f,K)break t}else i.head&&(i.head.name=null);i.length=0,i.mode=$b;case $b:if(i.flags&4096){if(o===0)break t;f=0;do K=n[a+f++],i.head&&K&&i.length<65536&&(i.head.comment+=String.fromCharCode(K));while(K&&f<o);if(i.flags&512&&i.wrap&4&&(i.check=Fi(i.check,n,f,a)),o-=f,a+=f,K)break t}else i.head&&(i.head.comment=null);i.mode=Yb;case Yb:if(i.flags&512){for(;c<16;){if(o===0)break t;o--,h+=n[a++]<<c,c+=8}if(i.wrap&4&&h!==(i.check&65535)){t.msg="header crc mismatch",i.mode=ei;break}h=0,c=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),t.adler=i.check=0,i.mode=Kr;break;case Gb:for(;c<32;){if(o===0)break t;o--,h+=n[a++]<<c,c+=8}t.adler=i.check=ov(h),h=0,c=0,i.mode=cu;case cu:if(i.havedict===0)return t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,i.hold=h,i.bits=c,$k;t.adler=i.check=1,i.mode=Kr;case Kr:if(e===qk||e===ru)break t;case cp:if(i.last){h>>>=c&7,c-=c&7,i.mode=fp;break}for(;c<3;){if(o===0)break t;o--,h+=n[a++]<<c,c+=8}switch(i.last=h&1,h>>>=1,c-=1,h&3){case 0:i.mode=Zb;break;case 1:if(tD(i),i.mode=au,e===ru){h>>>=2,c-=2;break t}break;case 2:i.mode=Kb;break;case 3:t.msg="invalid block type",i.mode=ei}h>>>=2,c-=2;break;case Zb:for(h>>>=c&7,c-=c&7;c<32;){if(o===0)break t;o--,h+=n[a++]<<c,c+=8}if((h&65535)!==(h>>>16^65535)){t.msg="invalid stored block lengths",i.mode=ei;break}if(i.length=h&65535,h=0,c=0,i.mode=up,e===ru)break t;case up:i.mode=Xb;case Xb:if(f=i.length,f){if(f>o&&(f=o),f>l&&(f=l),f===0)break t;r.set(n.subarray(a,a+f),s),o-=f,a+=f,l-=f,s+=f,i.length-=f;break}i.mode=Kr;break;case Kb:for(;c<14;){if(o===0)break t;o--,h+=n[a++]<<c,c+=8}if(i.nlen=(h&31)+257,h>>>=5,c-=5,i.ndist=(h&31)+1,h>>>=5,c-=5,i.ncode=(h&15)+4,h>>>=4,c-=4,i.nlen>286||i.ndist>30){t.msg="too many length or distance symbols",i.mode=ei;break}i.have=0,i.mode=Jb;case Jb:for(;i.have<i.ncode;){for(;c<3;){if(o===0)break t;o--,h+=n[a++]<<c,c+=8}i.lens[I[i.have++]]=h&7,h>>>=3,c-=3}for(;i.have<19;)i.lens[I[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,X={bits:i.lenbits},z=Ql(Hk,i.lens,0,19,i.lencode,0,i.work,X),i.lenbits=X.bits,z){t.msg="invalid code lengths set",i.mode=ei;break}i.have=0,i.mode=Qb;case Qb:for(;i.have<i.nlen+i.ndist;){for(;y=i.lencode[h&(1<<i.lenbits)-1],w=y>>>24,A=y>>>16&255,N=y&65535,!(w<=c);){if(o===0)break t;o--,h+=n[a++]<<c,c+=8}if(N<16)h>>>=w,c-=w,i.lens[i.have++]=N;else{if(N===16){for(D=w+2;c<D;){if(o===0)break t;o--,h+=n[a++]<<c,c+=8}if(h>>>=w,c-=w,i.have===0){t.msg="invalid bit length repeat",i.mode=ei;break}K=i.lens[i.have-1],f=3+(h&3),h>>>=2,c-=2}else if(N===17){for(D=w+3;c<D;){if(o===0)break t;o--,h+=n[a++]<<c,c+=8}h>>>=w,c-=w,K=0,f=3+(h&7),h>>>=3,c-=3}else{for(D=w+7;c<D;){if(o===0)break t;o--,h+=n[a++]<<c,c+=8}h>>>=w,c-=w,K=0,f=11+(h&127),h>>>=7,c-=7}if(i.have+f>i.nlen+i.ndist){t.msg="invalid bit length repeat",i.mode=ei;break}for(;f--;)i.lens[i.have++]=K}}if(i.mode===ei)break;if(i.lens[256]===0){t.msg="invalid code -- missing end-of-block",i.mode=ei;break}if(i.lenbits=9,X={bits:i.lenbits},z=Ql(Iv,i.lens,0,i.nlen,i.lencode,0,i.work,X),i.lenbits=X.bits,z){t.msg="invalid literal/lengths set",i.mode=ei;break}if(i.distbits=6,i.distcode=i.distdyn,X={bits:i.distbits},z=Ql(Ov,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,X),i.distbits=X.bits,z){t.msg="invalid distances set",i.mode=ei;break}if(i.mode=au,e===ru)break t;case au:i.mode=su;case su:if(o>=6&&l>=258){t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,i.hold=h,i.bits=c,Rk(t,g),s=t.next_out,r=t.output,l=t.avail_out,a=t.next_in,n=t.input,o=t.avail_in,h=i.hold,c=i.bits,i.mode===Kr&&(i.back=-1);break}for(i.back=0;y=i.lencode[h&(1<<i.lenbits)-1],w=y>>>24,A=y>>>16&255,N=y&65535,!(w<=c);){if(o===0)break t;o--,h+=n[a++]<<c,c+=8}if(A&&(A&240)===0){for(T=w,F=A,$=N;y=i.lencode[$+((h&(1<<T+F)-1)>>T)],w=y>>>24,A=y>>>16&255,N=y&65535,!(T+w<=c);){if(o===0)break t;o--,h+=n[a++]<<c,c+=8}h>>>=T,c-=T,i.back+=T}if(h>>>=w,c-=w,i.back+=w,i.length=N,A===0){i.mode=rv;break}if(A&32){i.back=-1,i.mode=Kr;break}if(A&64){t.msg="invalid literal/length code",i.mode=ei;break}i.extra=A&15,i.mode=tv;case tv:if(i.extra){for(D=i.extra;c<D;){if(o===0)break t;o--,h+=n[a++]<<c,c+=8}i.length+=h&(1<<i.extra)-1,h>>>=i.extra,c-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=ev;case ev:for(;y=i.distcode[h&(1<<i.distbits)-1],w=y>>>24,A=y>>>16&255,N=y&65535,!(w<=c);){if(o===0)break t;o--,h+=n[a++]<<c,c+=8}if((A&240)===0){for(T=w,F=A,$=N;y=i.distcode[$+((h&(1<<T+F)-1)>>T)],w=y>>>24,A=y>>>16&255,N=y&65535,!(T+w<=c);){if(o===0)break t;o--,h+=n[a++]<<c,c+=8}h>>>=T,c-=T,i.back+=T}if(h>>>=w,c-=w,i.back+=w,A&64){t.msg="invalid distance code",i.mode=ei;break}i.offset=N,i.extra=A&15,i.mode=iv;case iv:if(i.extra){for(D=i.extra;c<D;){if(o===0)break t;o--,h+=n[a++]<<c,c+=8}i.offset+=h&(1<<i.extra)-1,h>>>=i.extra,c-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){t.msg="invalid distance too far back",i.mode=ei;break}i.mode=nv;case nv:if(l===0)break t;if(f=g-l,i.offset>f){if(f=i.offset-f,f>i.whave&&i.sane){t.msg="invalid distance too far back",i.mode=ei;break}f>i.wnext?(f-=i.wnext,v=i.wsize-f):v=i.wnext-f,f>i.length&&(f=i.length),x=i.window}else x=r,v=s-i.offset,f=i.length;f>l&&(f=l),l-=f,i.length-=f;do r[s++]=x[v++];while(--f);i.length===0&&(i.mode=su);break;case rv:if(l===0)break t;r[s++]=i.length,l--,i.mode=su;break;case fp:if(i.wrap){for(;c<32;){if(o===0)break t;o--,h|=n[a++]<<c,c+=8}if(g-=l,t.total_out+=g,i.total+=g,i.wrap&4&&g&&(t.adler=i.check=i.flags?Fi(i.check,r,g,s-g):rh(i.check,r,g,s-g)),g=l,i.wrap&4&&(i.flags?h:ov(h))!==i.check){t.msg="incorrect data check",i.mode=ei;break}h=0,c=0}i.mode=av;case av:if(i.wrap&&i.flags){for(;c<32;){if(o===0)break t;o--,h+=n[a++]<<c,c+=8}if(i.wrap&4&&h!==(i.total&4294967295)){t.msg="incorrect length check",i.mode=ei;break}h=0,c=0}i.mode=sv;case sv:z=Wk;break t;case ei:z=Ev;break t;case Rv:return Fv;case Bv:default:return Wn}return t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,i.hold=h,i.bits=c,(i.wsize||g!==t.avail_out&&i.mode<ei&&(i.mode<fp||e!==Bb))&&Hv(t,t.output,t.next_out,g-t.avail_out),p-=t.avail_in,g-=t.avail_out,t.total_in+=p,t.total_out+=g,i.total+=g,i.wrap&4&&g&&(t.adler=i.check=i.flags?Fi(i.check,r,g,t.next_out-g):rh(i.check,r,g,t.next_out-g)),t.data_type=i.bits+(i.last?64:0)+(i.mode===Kr?128:0)+(i.mode===au||i.mode===up?256:0),(p===0&&g===0||e===Bb)&&z===Ns&&(z=Yk),z},iD=t=>{if(Ms(t))return Wn;let e=t.state;return e.window&&(e.window=null),t.state=null,Ns},nD=(t,e)=>{if(Ms(t))return Wn;let i=t.state;return(i.wrap&2)===0?Wn:(i.head=e,e.done=!1,Ns)},rD=(t,e)=>{let i=e.length,n,r,a;return Ms(t)||(n=t.state,n.wrap!==0&&n.mode!==cu)?Wn:n.mode===cu&&(r=1,r=rh(r,e,i,0),r!==n.check)?Ev:(a=Hv(t,e,i,i),a?(n.mode=Rv,Fv):(n.havedict=1,Ns))},aD=zv,sD=Vv,oD=jv,lD=Qk,hD=Uv,cD=eD,uD=iD,fD=nD,dD=rD,pD="pako inflate (from Nodeca project)",Qr={inflateReset:aD,inflateReset2:sD,inflateResetKeep:oD,inflateInit:lD,inflateInit2:hD,inflate:cD,inflateEnd:uD,inflateGetHeader:fD,inflateSetDictionary:dD,inflateInfo:pD};function gD(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var mD=gD,qv=Object.prototype.toString,{Z_NO_FLUSH:bD,Z_FINISH:vD,Z_OK:oh,Z_STREAM_END:gp,Z_NEED_DICT:mp,Z_STREAM_ERROR:xD,Z_DATA_ERROR:hv,Z_MEM_ERROR:_D}=To;function uh(t){this.options=fu.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});let e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Nv,this.strm.avail_out=0;let i=Qr.inflateInit2(this.strm,e.windowBits);if(i!==oh)throw new Error(Ts[i]);if(this.header=new mD,Qr.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=sh.string2buf(e.dictionary):qv.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(i=Qr.inflateSetDictionary(this.strm,e.dictionary),i!==oh)))throw new Error(Ts[i])}uh.prototype.push=function(t,e){let i=this.strm,n=this.options.chunkSize,r=this.options.dictionary,a,s,o;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?vD:bD,qv.call(t)==="[object ArrayBuffer]"?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;;){for(i.avail_out===0&&(i.output=new Uint8Array(n),i.next_out=0,i.avail_out=n),a=Qr.inflate(i,s),a===mp&&r&&(a=Qr.inflateSetDictionary(i,r),a===oh?a=Qr.inflate(i,s):a===hv&&(a=mp));i.avail_in>0&&a===gp&&i.state.wrap>0&&t[i.next_in]!==0;)Qr.inflateReset(i),a=Qr.inflate(i,s);switch(a){case xD:case hv:case mp:case _D:return this.onEnd(a),this.ended=!0,!1}if(o=i.avail_out,i.next_out&&(i.avail_out===0||a===gp))if(this.options.to==="string"){let l=sh.utf8border(i.output,i.next_out),h=i.next_out-l,c=sh.buf2string(i.output,l);i.next_out=h,i.avail_out=n-h,h&&i.output.set(i.output.subarray(l,l+h),0),this.onData(c)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(!(a===oh&&o===0)){if(a===gp)return a=Qr.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(i.avail_in===0)break}}return!0};uh.prototype.onData=function(t){this.chunks.push(t)};uh.prototype.onEnd=function(t){t===oh&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=fu.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Mp(t,e){let i=new uh(e);if(i.push(t),i.err)throw i.msg||Ts[i.err];return i.result}function yD(t,e){return e=e||{},e.raw=!0,Mp(t,e)}var wD=uh,SD=Mp,CD=yD,AD=Mp,kD=To,DD={Inflate:wD,inflate:SD,inflateRaw:CD,ungzip:AD,constants:kD},{Deflate:XO,deflate:KO,deflateRaw:JO,gzip:QO}=Ek,{Inflate:LD,inflate:TD,inflateRaw:tE,ungzip:eE}=DD;var Ip=LD,Wv=TD;var Yv=[];for(let t=0;t<256;t++){let e=t;for(let i=0;i<8;i++)e&1?e=3988292384^e>>>1:e=e>>>1;Yv[t]=e}var $v=4294967295;function PD(t,e,i){let n=t;for(let r=0;r<i;r++)n=Yv[(n^e[r])&255]^n>>>8;return n}function ND(t,e){return(PD($v,t,e)^$v)>>>0}function Op(t,e,i){let n=t.readUint32(),r=ND(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(r!==n)throw new Error(`CRC mismatch for chunk ${i}. Expected ${n}, found ${r}`)}function pu(t,e,i){for(let n=0;n<i;n++)e[n]=t[n]}function gu(t,e,i,n){let r=0;for(;r<n;r++)e[r]=t[r];for(;r<i;r++)e[r]=t[r]+e[r-n]&255}function mu(t,e,i,n){let r=0;if(i.length===0)for(;r<n;r++)e[r]=t[r];else for(;r<n;r++)e[r]=t[r]+i[r]&255}function bu(t,e,i,n,r){let a=0;if(i.length===0){for(;a<r;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+(e[a-r]>>1)&255}else{for(;a<r;a++)e[a]=t[a]+(i[a]>>1)&255;for(;a<n;a++)e[a]=t[a]+(e[a-r]+i[a]>>1)&255}}function vu(t,e,i,n,r){let a=0;if(i.length===0){for(;a<r;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+e[a-r]&255}else{for(;a<r;a++)e[a]=t[a]+i[a]&255;for(;a<n;a++)e[a]=t[a]+MD(e[a-r],i[a],i[a-r])&255}}function MD(t,e,i){let n=t+e-i,r=Math.abs(n-t),a=Math.abs(n-e),s=Math.abs(n-i);return r<=a&&r<=s?t:a<=s?e:i}function Gv(t,e,i,n,r,a){switch(t){case 0:pu(e,i,r);break;case 1:gu(e,i,r,a);break;case 2:mu(e,i,n,r);break;case 3:bu(e,i,n,r,a);break;case 4:vu(e,i,n,r,a);break;default:throw new Error(`Unsupported filter: ${t}`)}}var ID=new Uint16Array([255]),OD=new Uint8Array(ID.buffer),ED=OD[0]===255;function Zv(t){let{data:e,width:i,height:n,channels:r,depth:a}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(a/8)*r,l=new Uint8Array(n*i*o),h=0;for(let c=0;c<7;c++){let p=s[c],g=Math.ceil((i-p.x)/p.xStep),f=Math.ceil((n-p.y)/p.yStep);if(g<=0||f<=0)continue;let v=g*o,x=new Uint8Array(v);for(let y=0;y<f;y++){let w=e[h++],A=e.subarray(h,h+v);h+=v;let N=new Uint8Array(v);Gv(w,A,N,x,v,o),x.set(N);for(let T=0;T<g;T++){let F=p.x+T*p.xStep,$=p.y+y*p.yStep;if(!(F>=i||$>=n))for(let K=0;K<o;K++)l[($*i+F)*o+K]=N[T*o+K]}}}if(a===16){let c=new Uint16Array(l.buffer);if(ED)for(let p=0;p<c.length;p++)c[p]=FD(c[p]);return c}else return l}function FD(t){return(t&255)<<8|t>>8&255}var RD=new Uint16Array([255]),BD=new Uint8Array(RD.buffer),jD=BD[0]===255,zD=new Uint8Array(0);function Ep(t){let{data:e,width:i,height:n,channels:r,depth:a}=t,s=Math.ceil(a/8)*r,o=Math.ceil(a/8*r*i),l=new Uint8Array(n*o),h=zD,c=0,p,g;for(let f=0;f<n;f++){switch(p=e.subarray(c+1,c+1+o),g=l.subarray(f*o,(f+1)*o),e[c]){case 0:pu(p,g,o);break;case 1:gu(p,g,o,s);break;case 2:mu(p,g,h,o);break;case 3:bu(p,g,h,o,s);break;case 4:vu(p,g,h,o,s);break;default:throw new Error(`Unsupported filter: ${e[c]}`)}h=g,c+=o+1}if(a===16){let f=new Uint16Array(l.buffer);if(jD)for(let v=0;v<f.length;v++)f[v]=VD(f[v]);return f}else return l}function VD(t){return(t&255)<<8|t>>8&255}var xu=Uint8Array.of(137,80,78,71,13,10,26,10);function Fp(t){if(!Xv(t.readBytes(xu.length)))throw new Error("wrong PNG signature")}function Xv(t){if(t.length<xu.length)return!1;for(let e=0;e<xu.length;e++)if(t[e]!==xu[e])return!1;return!0}var Kv="tEXt",HD=0,Jv=new TextDecoder("latin1");function qD(t){if($D(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}var WD=/^[\u0000-\u00FF]*$/;function $D(t){if(!WD.test(t))throw new Error("invalid latin1 text")}function Qv(t,e,i){let n=Rp(e);t[n]=YD(e,i-n.length-1)}function Rp(t){for(t.mark();t.readByte()!==HD;);let e=t.offset;t.reset();let i=Jv.decode(t.readBytes(e-t.offset-1));return t.skip(1),qD(i),i}function YD(t,e){return Jv.decode(t.readBytes(e))}var on={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},fh={UNKNOWN:-1,DEFLATE:0},_u={UNKNOWN:-1,ADAPTIVE:0},dh={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},ph={NONE:0,BACKGROUND:1,PREVIOUS:2},yu={SOURCE:0,OVER:1};var wu=class extends Yl{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,i={}){super(e);let{checkCrc:n=!1}=i;this._checkCrc=n,this._inflator=new Ip,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=fh.UNKNOWN,this._filterMethod=_u.UNKNOWN,this._interlaceMethod=dh.UNKNOWN,this._colorType=on.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Fp(this);!this._end;){let e=this.readUint32(),i=this.readChars(4);this.decodeChunk(e,i)}return this.decodeImage(),this._png}decodeApng(){for(Fp(this);!this._end;){let e=this.readUint32(),i=this.readChars(4);this.decodeApngChunk(e,i)}return this.decodeApngImage(),this._apng}decodeChunk(e,i){let n=this.offset;switch(i){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case Kv:Qv(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${i}`);this._checkCrc?Op(this,e+4,i):this.skip(4)}decodeApngChunk(e,i){let n=this.offset;switch(i!=="fdAT"&&i!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),i){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,i),this.offset=n+e;break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${i}`);this._checkCrc?Op(this,e+4,i):this.skip(4)}decodeIHDR(){let e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=GD(this.readUint8());let i=this.readUint8();this._colorType=i;let n;switch(i){case on.GREYSCALE:n=1;break;case on.TRUECOLOUR:n=3;break;case on.INDEXED_COLOUR:n=1;break;case on.GREYSCALE_ALPHA:n=2;break;case on.TRUECOLOUR_ALPHA:n=4;break;case on.UNKNOWN:default:throw new Error(`Unknown color type: ${i}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==fh.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){let e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);let i=e/3;this._hasPalette=!0;let n=[];this._palette=n;for(let r=0;r<i;r++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;let i=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,i)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let i=e,n=this.offset+this.byteOffset;if(n+=4,i-=4,this._inflator.push(new Uint8Array(this.buffer,n,i)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case on.GREYSCALE:case on.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let i=0;i<e/2;i++)this._transparency[i]=this.readUint16();break}case on.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let i=0;for(;i<e;i++){let n=this.readByte();this._palette[i].push(n)}for(;i<this._palette.length;i++)this._palette[i].push(255);break}case on.UNKNOWN:case on.GREYSCALE_ALPHA:case on.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){let i=Rp(this),n=this.readUint8();if(n!==fh.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);let r=this.readBytes(e-i.length-2);this._png.iccEmbeddedProfile={name:i,profile:Wv(r)}}decodepHYs(){let e=this.readUint32(),i=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:i,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){let i={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=Ep({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)i.data=n.data;else{let r=this._apng.frames.at(e-1);this.disposeFrame(n,r,i),this.addFrameDataToCanvas(i,n)}this._apng.frames.push(i)}}return this._apng}disposeFrame(e,i,n){switch(e.disposeOp){case ph.NONE:break;case ph.BACKGROUND:for(let r=0;r<this._png.height;r++)for(let a=0;a<this._png.width;a++){let s=(r*e.width+a)*this._png.channels;for(let o=0;o<this._png.channels;o++)n.data[s+o]=0}break;case ph.PREVIOUS:n.data.set(i.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,i){let n=1<<this._png.depth,r=(a,s)=>{let o=((a+i.yOffset)*this._png.width+i.xOffset+s)*this._png.channels,l=(a*i.width+s)*this._png.channels;return{index:o,frameIndex:l}};switch(i.blendOp){case yu.SOURCE:for(let a=0;a<i.height;a++)for(let s=0;s<i.width;s++){let{index:o,frameIndex:l}=r(a,s);for(let h=0;h<this._png.channels;h++)e.data[o+h]=i.data[l+h]}break;case yu.OVER:for(let a=0;a<i.height;a++)for(let s=0;s<i.width;s++){let{index:o,frameIndex:l}=r(a,s);for(let h=0;h<this._png.channels;h++){let c=i.data[l+this._png.channels-1]/n,p=h%(this._png.channels-1)===0?1:i.data[l+h],g=Math.floor(c*p+(1-c)*e.data[o+h]);e.data[o+h]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);let e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==_u.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===dh.NO_INTERLACE)this._png.data=Ep({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===dh.ADAM7)this._png.data=Zv({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){let e=this._inflator.result,i=this._frames.at(-1);i?i.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:ph.NONE,blendOp:yu.SOURCE,data:e}),this._inflator=new Ip,this._writingDataChunks=!1}};function GD(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}function tx(t,e){return new wu(t,e).decode()}var Xt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Bp(){Xt.console&&typeof Xt.console.log=="function"&&Xt.console.log.apply(Xt.console,arguments)}var qe={log:Bp,warn:function(t){Xt.console&&(typeof Xt.console.warn=="function"?Xt.console.warn.apply(Xt.console,arguments):Bp.call(null,arguments))},error:function(t){Xt.console&&(typeof Xt.console.error=="function"?Xt.console.error.apply(Xt.console,arguments):Bp(t))}};function jp(t,e,i){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Is(n.response,e,i)},n.onerror=function(){qe.error("could not download file")},n.send()}function ex(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Su(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Is=Xt.saveAs||((typeof window>"u"?"undefined":Re(window))!=="object"||window!==Xt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,i){var n=Xt.URL||Xt.webkitURL,r=document.createElement("a");e=e||t.name||"download",r.download=e,r.rel="noopener",typeof t=="string"?(r.href=t,r.origin!==location.origin?ex(r.href)?jp(t,e,i):Su(r,r.target="_blank"):Su(r)):(r.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(r.href)},4e4),setTimeout(function(){Su(r)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,i){if(e=e||t.name||"download",typeof t=="string")if(ex(t))jp(t,e,i);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Su(n)})}else navigator.msSaveOrOpenBlob(function(r,a){return a===void 0?a={autoBom:!1}:Re(a)!=="object"&&(qe.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}(t,i),e)}:function(t,e,i,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return jp(t,e,i);var r=t.type==="application/octet-stream",a=/constructor/i.test(Xt.HTMLElement)||Xt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||r&&a)&&(typeof FileReader>"u"?"undefined":Re(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var c=o.result;c=s?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=c:location=c,n=null},o.readAsDataURL(t)}else{var l=Xt.URL||Xt.webkitURL,h=l.createObjectURL(t);n?n.location=h:location.href=h,n=null,setTimeout(function(){l.revokeObjectURL(h)},4e4)}});function Ax(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var i=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<i.length;n++){var r=i[n].re,a=i[n].process,s=r.exec(t);s&&(e=a(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),h=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),h.length==1&&(h="0"+h),"#"+o+l+h}}var Du=Xt.atob.bind(Xt),ix=Xt.btoa.bind(Xt);function zp(t,e){var i=t[0],n=t[1],r=t[2],a=t[3];i=Ji(i,n,r,a,e[0],7,-680876936),a=Ji(a,i,n,r,e[1],12,-389564586),r=Ji(r,a,i,n,e[2],17,606105819),n=Ji(n,r,a,i,e[3],22,-1044525330),i=Ji(i,n,r,a,e[4],7,-176418897),a=Ji(a,i,n,r,e[5],12,1200080426),r=Ji(r,a,i,n,e[6],17,-1473231341),n=Ji(n,r,a,i,e[7],22,-45705983),i=Ji(i,n,r,a,e[8],7,1770035416),a=Ji(a,i,n,r,e[9],12,-1958414417),r=Ji(r,a,i,n,e[10],17,-42063),n=Ji(n,r,a,i,e[11],22,-1990404162),i=Ji(i,n,r,a,e[12],7,1804603682),a=Ji(a,i,n,r,e[13],12,-40341101),r=Ji(r,a,i,n,e[14],17,-1502002290),i=Qi(i,n=Ji(n,r,a,i,e[15],22,1236535329),r,a,e[1],5,-165796510),a=Qi(a,i,n,r,e[6],9,-1069501632),r=Qi(r,a,i,n,e[11],14,643717713),n=Qi(n,r,a,i,e[0],20,-373897302),i=Qi(i,n,r,a,e[5],5,-701558691),a=Qi(a,i,n,r,e[10],9,38016083),r=Qi(r,a,i,n,e[15],14,-660478335),n=Qi(n,r,a,i,e[4],20,-405537848),i=Qi(i,n,r,a,e[9],5,568446438),a=Qi(a,i,n,r,e[14],9,-1019803690),r=Qi(r,a,i,n,e[3],14,-187363961),n=Qi(n,r,a,i,e[8],20,1163531501),i=Qi(i,n,r,a,e[13],5,-1444681467),a=Qi(a,i,n,r,e[2],9,-51403784),r=Qi(r,a,i,n,e[7],14,1735328473),i=tn(i,n=Qi(n,r,a,i,e[12],20,-1926607734),r,a,e[5],4,-378558),a=tn(a,i,n,r,e[8],11,-2022574463),r=tn(r,a,i,n,e[11],16,1839030562),n=tn(n,r,a,i,e[14],23,-35309556),i=tn(i,n,r,a,e[1],4,-1530992060),a=tn(a,i,n,r,e[4],11,1272893353),r=tn(r,a,i,n,e[7],16,-155497632),n=tn(n,r,a,i,e[10],23,-1094730640),i=tn(i,n,r,a,e[13],4,681279174),a=tn(a,i,n,r,e[0],11,-358537222),r=tn(r,a,i,n,e[3],16,-722521979),n=tn(n,r,a,i,e[6],23,76029189),i=tn(i,n,r,a,e[9],4,-640364487),a=tn(a,i,n,r,e[12],11,-421815835),r=tn(r,a,i,n,e[15],16,530742520),i=en(i,n=tn(n,r,a,i,e[2],23,-995338651),r,a,e[0],6,-198630844),a=en(a,i,n,r,e[7],10,1126891415),r=en(r,a,i,n,e[14],15,-1416354905),n=en(n,r,a,i,e[5],21,-57434055),i=en(i,n,r,a,e[12],6,1700485571),a=en(a,i,n,r,e[3],10,-1894986606),r=en(r,a,i,n,e[10],15,-1051523),n=en(n,r,a,i,e[1],21,-2054922799),i=en(i,n,r,a,e[8],6,1873313359),a=en(a,i,n,r,e[15],10,-30611744),r=en(r,a,i,n,e[6],15,-1560198380),n=en(n,r,a,i,e[13],21,1309151649),i=en(i,n,r,a,e[4],6,-145523070),a=en(a,i,n,r,e[11],10,-1120210379),r=en(r,a,i,n,e[2],15,718787259),n=en(n,r,a,i,e[9],21,-343485551),t[0]=Ha(i,t[0]),t[1]=Ha(n,t[1]),t[2]=Ha(r,t[2]),t[3]=Ha(a,t[3])}function Ou(t,e,i,n,r,a){return e=Ha(Ha(e,t),Ha(n,a)),Ha(e<<r|e>>>32-r,i)}function Ji(t,e,i,n,r,a,s){return Ou(e&i|~e&n,t,e,r,a,s)}function Qi(t,e,i,n,r,a,s){return Ou(e&n|i&~n,t,e,r,a,s)}function tn(t,e,i,n,r,a,s){return Ou(e^i^n,t,e,r,a,s)}function en(t,e,i,n,r,a,s){return Ou(i^(e|~n),t,e,r,a,s)}function kx(t){var e,i=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)zp(n,ZD(t.substring(e-64,e)));t=t.substring(e-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)r[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(zp(n,r),e=0;e<16;e++)r[e]=0;return r[14]=8*i,zp(n,r),n}function ZD(t){var e,i=[];for(e=0;e<64;e+=4)i[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return i}var nx="0123456789abcdef".split("");function XD(t){for(var e="",i=0;i<4;i++)e+=nx[t>>8*i+4&15]+nx[t>>8*i&15];return e}function KD(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function $p(t){return kx(t).map(KD).join("")}var JD=function(t){for(var e=0;e<t.length;e++)t[e]=XD(t[e]);return t.join("")}(kx("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ha(t,e){if(JD){var i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i}return t+e&4294967295}function Yp(t,e){var i,n,r,a;if(t!==i){for(var s=(r=t,a=1+(256/t.length|0),new Array(a+1).join(r)),o=[],l=0;l<256;l++)o[l]=l;var h=0;for(l=0;l<256;l++){var c=o[l];h=(h+c+s.charCodeAt(l))%256,o[l]=o[h],o[h]=c}i=t,n=o}else o=n;var p=e.length,g=0,f=0,v="";for(l=0;l<p;l++)f=(f+(c=o[g=(g+1)%256]))%256,o[g]=o[f],o[f]=c,s=o[(o[g]+o[f])%256],v+=String.fromCharCode(e.charCodeAt(l)^s);return v}var rx={print:4,modify:8,copy:16,"annot-forms":32};function Oo(t,e,i,n){this.v=1,this.r=2;var r=192;t.forEach(function(o){if(rx.perm!==void 0)throw new Error("Invalid permission: "+o);r+=rx[o]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var a=(e+this.padding).substr(0,32),s=(i+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^r)),this.encryptionKey=$p(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Yp(this.encryptionKey,this.padding)}function Eo(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",i=t.length,n=0;n<i;n++){var r=t.charCodeAt(n);e+=r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?"#"+("0"+r.toString(16)).slice(-2):t[n]}return e}function ax(t){if(Re(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(i,n,r){if(r=r||!1,typeof i!="string"||typeof n!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(i)||(e[i]={});var a=Math.random().toString(35);return e[i][a]=[n,!!r],a},this.unsubscribe=function(i){for(var n in e)if(e[n][i])return delete e[n][i],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(i){if(e.hasOwnProperty(i)){var n=Array.prototype.slice.call(arguments,1),r=[];for(var a in e[i]){var s=e[i][a];try{s[0].apply(t,n)}catch(o){Xt.console&&qe.error("jsPDF PubSub Error",o.message,o)}s[1]&&r.push(a)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Mu(t){if(!(this instanceof Mu))return new Mu(t);var e="opacity,stroke-opacity".split(",");for(var i in t)t.hasOwnProperty(i)&&e.indexOf(i)>=0&&(this[i]=t[i]);this.id="",this.objectNumber=-1}function Dx(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Os(t,e,i,n,r){if(!(this instanceof Os))return new Os(t,e,i,n,r);this.type=t==="axial"?2:3,this.coords=e,this.colors=i,Dx.call(this,n,r)}function Fo(t,e,i,n,r){if(!(this instanceof Fo))return new Fo(t,e,i,n,r);this.boundingBox=t,this.xStep=e,this.yStep=i,this.stream="",this.cloneIndex=0,Dx.call(this,n,r)}function Ft(t){var e,i=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],r=arguments[2],a=arguments[3],s=[],o=1,l=16,h="S",c=null;Re(t=t||{})==="object"&&(i=t.orientation,n=t.unit||n,r=t.format||r,a=t.compress||t.compressPdf||a,(c=t.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),h=t.defaultPathOperation||"S"),s=t.filters||(a===!0?["FlateEncode"]:s),n=n||"mm",i=(""+(i||"P")).toLowerCase();var p=t.putOnlyUsedFonts||!1,g={},f={internal:{},__private__:{}};f.__private__.PubSub=ax;var v="1.3",x=f.__private__.getPdfVersion=function(){return v};f.__private__.setPdfVersion=function(m){v=m};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return y};var w=f.__private__.getPageFormat=function(m){return y[m]};r=r||"a4";var A="compat",N="advanced",T=A;function F(){this.saveGraphicsState(),U(new Gt(Zt,0,0,-Zt,0,ns()*Zt).toString()+" cm"),this.setFontSize(this.getFontSize()/Zt),h="n",T=N}function $(){this.restoreGraphicsState(),h="S",T=A}var K=f.__private__.combineFontStyleAndFontWeight=function(m,S){if(m=="bold"&&S=="normal"||m=="bold"&&S==400||m=="normal"&&S=="italic"||m=="bold"&&S=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return S&&(m=S==400||S==="normal"?m==="italic"?"italic":"normal":S!=700&&S!=="bold"||m!=="normal"?(S==700?"bold":S)+""+m:"bold"),m};f.advancedAPI=function(m){var S=T===A;return S&&F.call(this),typeof m!="function"||(m(this),S&&$.call(this)),this},f.compatAPI=function(m){var S=T===N;return S&&$.call(this),typeof m!="function"||(m(this),S&&F.call(this)),this},f.isAdvancedAPI=function(){return T===N};var z,E=function(m){if(T!==N)throw new Error(m+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},X=f.roundToPrecision=f.__private__.roundToPrecision=function(m,S){var j=e||S;if(isNaN(m)||isNaN(j))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return m.toFixed(j).replace(/0+$/,"")};z=f.hpf=f.__private__.hpf=typeof l=="number"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return X(m,l)}:l==="smart"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return X(m,m>-1&&m<1?16:5)}:function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return X(m,16)};var D=f.f2=f.__private__.f2=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f2");return X(m,2)},I=f.__private__.f3=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f3");return X(m,3)},W=f.scale=f.__private__.scale=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.scale");return T===A?m*Zt:T===N?m:void 0},q=function(m){return W(function(S){return T===A?ns()-S:T===N?S:void 0}(m))};f.__private__.setPrecision=f.setPrecision=function(m){typeof parseInt(m,10)=="number"&&(e=parseInt(m,10))};var et,ot="00000000000000000000000000000000",lt=f.__private__.getFileId=function(){return ot},nt=f.__private__.setFileId=function(m){return ot=m!==void 0&&/^[a-fA-F0-9]{32}$/.test(m)?m.toUpperCase():ot.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(di=new Oo(c.userPermissions,c.userPassword,c.ownerPassword,ot)),ot};f.setFileId=function(m){return nt(m),this},f.getFileId=function(){return lt()};var ht=f.__private__.convertDateToPDFDate=function(m){var S=m.getTimezoneOffset(),j=S<0?"+":"-",Y=Math.floor(Math.abs(S/60)),tt=Math.abs(S%60),bt=[j,H(Y),"'",H(tt),"'"].join("");return["D:",m.getFullYear(),H(m.getMonth()+1),H(m.getDate()),H(m.getHours()),H(m.getMinutes()),H(m.getSeconds()),bt].join("")},kt=f.__private__.convertPDFDateToDate=function(m){var S=parseInt(m.substr(2,4),10),j=parseInt(m.substr(6,2),10)-1,Y=parseInt(m.substr(8,2),10),tt=parseInt(m.substr(10,2),10),bt=parseInt(m.substr(12,2),10),St=parseInt(m.substr(14,2),10);return new Date(S,j,Y,tt,bt,St,0)},yt=f.__private__.setCreationDate=function(m){var S;if(m===void 0&&(m=new Date),m instanceof Date)S=ht(m);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(m))throw new Error("Invalid argument passed to jsPDF.setCreationDate");S=m}return et=S},P=f.__private__.getCreationDate=function(m){var S=et;return m==="jsDate"&&(S=kt(et)),S};f.setCreationDate=function(m){return yt(m),this},f.getCreationDate=function(m){return P(m)};var V,H=f.__private__.padd2=function(m){return("0"+parseInt(m)).slice(-2)},G=f.__private__.padd2Hex=function(m){return("00"+(m=m.toString())).substr(m.length)},Q=0,st=[],ft=[],ct=0,_t=[],At=[],Nt=!1,Mt=ft;f.__private__.setCustomOutputDestination=function(m){Nt=!0,Mt=m};var pt=function(m){Nt||(Mt=m)};f.__private__.resetCustomOutputDestination=function(){Nt=!1,Mt=ft};var U=f.__private__.out=function(m){return m=m.toString(),ct+=m.length+1,Mt.push(m),Mt},me=f.__private__.write=function(m){return U(arguments.length===1?m.toString():Array.prototype.join.call(arguments," "))},he=f.__private__.getArrayBuffer=function(m){for(var S=m.length,j=new ArrayBuffer(S),Y=new Uint8Array(j);S--;)Y[S]=m.charCodeAt(S);return j},$t=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return $t};var Dt=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(m){return Dt=T===N?m/Zt:m,this};var Ut,Pt=f.__private__.getFontSize=f.getFontSize=function(){return T===A?Dt:Dt*Zt},ce=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(m){return ce=m,this},f.__private__.getR2L=f.getR2L=function(){return ce};var Wt,Ce=f.__private__.setZoomMode=function(m){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(m))Ut=m;else if(isNaN(m)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(m)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+m+'" is not recognized.');Ut=m}else Ut=parseInt(m,10)};f.__private__.getZoomMode=function(){return Ut};var ne,re=f.__private__.setPageMode=function(m){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(m)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+m+'" is not recognized.');Wt=m};f.__private__.getPageMode=function(){return Wt};var Oe=f.__private__.setLayoutMode=function(m){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(m)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+m+'" is not recognized.');ne=m};f.__private__.getLayoutMode=function(){return ne},f.__private__.setDisplayMode=f.setDisplayMode=function(m,S,j){return Ce(m),Oe(S),re(j),this};var ue={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(m){if(Object.keys(ue).indexOf(m)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ue[m]},f.__private__.getDocumentProperties=function(){return ue},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(m){for(var S in ue)ue.hasOwnProperty(S)&&m[S]&&(ue[S]=m[S]);return this},f.__private__.setDocumentProperty=function(m,S){if(Object.keys(ue).indexOf(m)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ue[m]=S};var Ht,Zt,qt,We,Ae,zt={},ae={},Be=[],Yt={},be={},se={},fi={},ki=null,je=0,Jt=[],Te=new ax(f),Wa=t.hotfixes||[],Gi={},Dr={},ar=[],Gt=function m(S,j,Y,tt,bt,St){if(!(this instanceof m))return new m(S,j,Y,tt,bt,St);isNaN(S)&&(S=1),isNaN(j)&&(j=0),isNaN(Y)&&(Y=0),isNaN(tt)&&(tt=1),isNaN(bt)&&(bt=0),isNaN(St)&&(St=0),this._matrix=[S,j,Y,tt,bt,St]};Object.defineProperty(Gt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(Gt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(Gt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(Gt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(Gt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(Gt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(Gt.prototype,"a",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(Gt.prototype,"b",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(Gt.prototype,"c",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(Gt.prototype,"d",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(Gt.prototype,"e",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(Gt.prototype,"f",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(Gt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Gt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Gt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Gt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Gt.prototype.join=function(m){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(z).join(m)},Gt.prototype.multiply=function(m){var S=m.sx*this.sx+m.shy*this.shx,j=m.sx*this.shy+m.shy*this.sy,Y=m.shx*this.sx+m.sy*this.shx,tt=m.shx*this.shy+m.sy*this.sy,bt=m.tx*this.sx+m.ty*this.shx+this.tx,St=m.tx*this.shy+m.ty*this.sy+this.ty;return new Gt(S,j,Y,tt,bt,St)},Gt.prototype.decompose=function(){var m=this.sx,S=this.shy,j=this.shx,Y=this.sy,tt=this.tx,bt=this.ty,St=Math.sqrt(m*m+S*S),Et=(m/=St)*j+(S/=St)*Y;j-=m*Et,Y-=S*Et;var jt=Math.sqrt(j*j+Y*Y);return Et/=jt,m*(Y/=jt)<S*(j/=jt)&&(m=-m,S=-S,Et=-Et,St=-St),{scale:new Gt(St,0,0,jt,0,0),translate:new Gt(1,0,0,1,tt,bt),rotate:new Gt(m,S,-S,m,0,0),skew:new Gt(1,0,Et,1,0,0)}},Gt.prototype.toString=function(m){return this.join(" ")},Gt.prototype.inversed=function(){var m=this.sx,S=this.shy,j=this.shx,Y=this.sy,tt=this.tx,bt=this.ty,St=1/(m*Y-S*j),Et=Y*St,jt=-S*St,Kt=-j*St,ee=m*St;return new Gt(Et,jt,Kt,ee,-Et*tt-Kt*bt,-jt*tt-ee*bt)},Gt.prototype.applyToPoint=function(m){var S=m.x*this.sx+m.y*this.shx+this.tx,j=m.x*this.shy+m.y*this.sy+this.ty;return new es(S,j)},Gt.prototype.applyToRectangle=function(m){var S=this.applyToPoint(m),j=this.applyToPoint(new es(m.x+m.w,m.y+m.h));return new Jo(S.x,S.y,j.x-S.x,j.y-S.y)},Gt.prototype.clone=function(){var m=this.sx,S=this.shy,j=this.shx,Y=this.sy,tt=this.tx,bt=this.ty;return new Gt(m,S,j,Y,tt,bt)},f.Matrix=Gt;var Lr=f.matrixMult=function(m,S){return S.multiply(m)},Tr=new Gt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Tr;var Mn=function(m,S){if(!be[m]){var j=(S instanceof Os?"Sh":"P")+(Object.keys(Yt).length+1).toString(10);S.id=j,be[m]=j,Yt[j]=S,Te.publish("addPattern",S)}};f.ShadingPattern=Os,f.TilingPattern=Fo,f.addShadingPattern=function(m,S){return E("addShadingPattern()"),Mn(m,S),this},f.beginTilingPattern=function(m){E("beginTilingPattern()"),Qo(m.boundingBox[0],m.boundingBox[1],m.boundingBox[2]-m.boundingBox[0],m.boundingBox[3]-m.boundingBox[1],m.matrix)},f.endTilingPattern=function(m,S){E("endTilingPattern()"),S.stream=At[V].join(`
`),Mn(m,S),Te.publish("endTilingPattern",S),ar.pop().restore()};var In,ri=f.__private__.newObject=function(){var m=Ei();return Bi(m,!0),m},Ei=f.__private__.newObjectDeferred=function(){return Q++,st[Q]=function(){return ct},Q},Bi=function(m,S){return S=typeof S=="boolean"&&S,st[m]=ct,S&&U(m+" 0 obj"),m},$a=f.__private__.newAdditionalObject=function(){var m={objId:Ei(),content:""};return _t.push(m),m},ia=Ei(),$n=Ei(),sr=f.__private__.decodeColorString=function(m){var S=m.split(" ");if(S.length!==2||S[1]!=="g"&&S[1]!=="G")S.length!==5||S[4]!=="k"&&S[4]!=="K"||(S=[(1-S[0])*(1-S[3]),(1-S[1])*(1-S[3]),(1-S[2])*(1-S[3]),"r"]);else{var j=parseFloat(S[0]);S=[j,j,j,"r"]}for(var Y="#",tt=0;tt<3;tt++)Y+=("0"+Math.floor(255*parseFloat(S[tt])).toString(16)).slice(-2);return Y},Yn=f.__private__.encodeColorString=function(m){var S;typeof m=="string"&&(m={ch1:m});var j=m.ch1,Y=m.ch2,tt=m.ch3,bt=m.ch4,St=m.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof j=="string"&&j.charAt(0)!=="#"){var Et=new Ax(j);if(Et.ok)j=Et.toHex();else if(!/^\d*\.?\d*$/.test(j))throw new Error('Invalid color "'+j+'" passed to jsPDF.encodeColorString.')}if(typeof j=="string"&&/^#[0-9A-Fa-f]{3}$/.test(j)&&(j="#"+j[1]+j[1]+j[2]+j[2]+j[3]+j[3]),typeof j=="string"&&/^#[0-9A-Fa-f]{6}$/.test(j)){var jt=parseInt(j.substr(1),16);j=jt>>16&255,Y=jt>>8&255,tt=255&jt}if(Y===void 0||bt===void 0&&j===Y&&Y===tt)S=typeof j=="string"?j+" "+St[0]:m.precision===2?D(j/255)+" "+St[0]:I(j/255)+" "+St[0];else if(bt===void 0||Re(bt)==="object"){if(bt&&!isNaN(bt.a)&&bt.a===0)return["1.","1.","1.",St[1]].join(" ");S=typeof j=="string"?[j,Y,tt,St[1]].join(" "):m.precision===2?[D(j/255),D(Y/255),D(tt/255),St[1]].join(" "):[I(j/255),I(Y/255),I(tt/255),St[1]].join(" ")}else S=typeof j=="string"?[j,Y,tt,bt,St[2]].join(" "):m.precision===2?[D(j),D(Y),D(tt),D(bt),St[2]].join(" "):[I(j),I(Y),I(tt),I(bt),St[2]].join(" ");return S},Gn=f.__private__.getFilters=function(){return s},On=f.__private__.putStream=function(m){var S=(m=m||{}).data||"",j=m.filters||Gn(),Y=m.alreadyAppliedFilters||[],tt=m.addLength1||!1,bt=S.length,St=m.objectId,Et=function(Di){return Di};if(c!==null&&St===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(Et=di.encryptor(St,0));var jt={};j===!0&&(j=["FlateEncode"]);var Kt=m.additionalKeyValues||[],ee=(jt=Ft.API.processDataByFilters!==void 0?Ft.API.processDataByFilters(S,j):{data:S,reverseChain:[]}).reverseChain+(Array.isArray(Y)?Y.join(" "):Y.toString());if(jt.data.length!==0&&(Kt.push({key:"Length",value:jt.data.length}),tt===!0&&Kt.push({key:"Length1",value:bt})),ee.length!=0)if(ee.split("/").length-1==1)Kt.push({key:"Filter",value:ee});else{Kt.push({key:"Filter",value:"["+ee+"]"});for(var ke=0;ke<Kt.length;ke+=1)if(Kt[ke].key==="DecodeParms"){for(var ii=[],Si=0;Si<jt.reverseChain.split("/").length-1;Si+=1)ii.push("null");ii.push(Kt[ke].value),Kt[ke].value="["+ii.join(" ")+"]"}}U("<<");for(var $e=0;$e<Kt.length;$e++)U("/"+Kt[$e].key+" "+Kt[$e].value);U(">>"),jt.data.length!==0&&(U("stream"),U(Et(jt.data)),U("endstream"))},Ya=f.__private__.putPage=function(m){var S=m.number,j=m.data,Y=m.objId,tt=m.contentsObjId;Bi(Y,!0),U("<</Type /Page"),U("/Parent "+m.rootDictionaryObjId+" 0 R"),U("/Resources "+m.resourceDictionaryObjId+" 0 R"),U("/MediaBox ["+parseFloat(z(m.mediaBox.bottomLeftX))+" "+parseFloat(z(m.mediaBox.bottomLeftY))+" "+z(m.mediaBox.topRightX)+" "+z(m.mediaBox.topRightY)+"]"),m.cropBox!==null&&U("/CropBox ["+z(m.cropBox.bottomLeftX)+" "+z(m.cropBox.bottomLeftY)+" "+z(m.cropBox.topRightX)+" "+z(m.cropBox.topRightY)+"]"),m.bleedBox!==null&&U("/BleedBox ["+z(m.bleedBox.bottomLeftX)+" "+z(m.bleedBox.bottomLeftY)+" "+z(m.bleedBox.topRightX)+" "+z(m.bleedBox.topRightY)+"]"),m.trimBox!==null&&U("/TrimBox ["+z(m.trimBox.bottomLeftX)+" "+z(m.trimBox.bottomLeftY)+" "+z(m.trimBox.topRightX)+" "+z(m.trimBox.topRightY)+"]"),m.artBox!==null&&U("/ArtBox ["+z(m.artBox.bottomLeftX)+" "+z(m.artBox.bottomLeftY)+" "+z(m.artBox.topRightX)+" "+z(m.artBox.topRightY)+"]"),typeof m.userUnit=="number"&&m.userUnit!==1&&U("/UserUnit "+m.userUnit),Te.publish("putPage",{objId:Y,pageContext:Jt[S],pageNumber:S,page:j}),U("/Contents "+tt+" 0 R"),U(">>"),U("endobj");var bt=j.join(`
`);return T===N&&(bt+=`
Q`),Bi(tt,!0),On({data:bt,filters:Gn(),objectId:tt}),U("endobj"),Y},or=f.__private__.putPages=function(){var m,S,j=[];for(m=1;m<=je;m++)Jt[m].objId=Ei(),Jt[m].contentsObjId=Ei();for(m=1;m<=je;m++)j.push(Ya({number:m,data:At[m],objId:Jt[m].objId,contentsObjId:Jt[m].contentsObjId,mediaBox:Jt[m].mediaBox,cropBox:Jt[m].cropBox,bleedBox:Jt[m].bleedBox,trimBox:Jt[m].trimBox,artBox:Jt[m].artBox,userUnit:Jt[m].userUnit,rootDictionaryObjId:ia,resourceDictionaryObjId:$n}));Bi(ia,!0),U("<</Type /Pages");var Y="/Kids [";for(S=0;S<je;S++)Y+=j[S]+" 0 R ";U(Y+"]"),U("/Count "+je),U(">>"),U("endobj"),Te.publish("postPutPages")},Ga=function(m){Te.publish("putFont",{font:m,out:U,newObject:ri,putStream:On}),m.isAlreadyPutted!==!0&&(m.objectNumber=ri(),U("<<"),U("/Type /Font"),U("/BaseFont /"+Eo(m.postScriptName)),U("/Subtype /Type1"),typeof m.encoding=="string"&&U("/Encoding /"+m.encoding),U("/FirstChar 32"),U("/LastChar 255"),U(">>"),U("endobj"))},Rs=function(m){m.objectNumber=ri();var S=[];S.push({key:"Type",value:"/XObject"}),S.push({key:"Subtype",value:"/Form"}),S.push({key:"BBox",value:"["+[z(m.x),z(m.y),z(m.x+m.width),z(m.y+m.height)].join(" ")+"]"}),S.push({key:"Matrix",value:"["+m.matrix.toString()+"]"});var j=m.pages[1].join(`
`);On({data:j,additionalKeyValues:S,objectId:m.objectNumber}),U("endobj")},Bs=function(m,S){S||(S=21);var j=ri(),Y=function(St,Et){var jt,Kt=[],ee=1/(Et-1);for(jt=0;jt<1;jt+=ee)Kt.push(jt);if(Kt.push(1),St[0].offset!=0){var ke={offset:0,color:St[0].color};St.unshift(ke)}if(St[St.length-1].offset!=1){var ii={offset:1,color:St[St.length-1].color};St.push(ii)}for(var Si="",$e=0,Di=0;Di<Kt.length;Di++){for(jt=Kt[Di];jt>St[$e+1].offset;)$e++;var Ci=St[$e].offset,ji=(jt-Ci)/(St[$e+1].offset-Ci),Fn=St[$e].color,ln=St[$e+1].color;Si+=G(Math.round((1-ji)*Fn[0]+ji*ln[0]).toString(16))+G(Math.round((1-ji)*Fn[1]+ji*ln[1]).toString(16))+G(Math.round((1-ji)*Fn[2]+ji*ln[2]).toString(16))}return Si.trim()}(m.colors,S),tt=[];tt.push({key:"FunctionType",value:"0"}),tt.push({key:"Domain",value:"[0.0 1.0]"}),tt.push({key:"Size",value:"["+S+"]"}),tt.push({key:"BitsPerSample",value:"8"}),tt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),tt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),On({data:Y,additionalKeyValues:tt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:j}),U("endobj"),m.objectNumber=ri(),U("<< /ShadingType "+m.type),U("/ColorSpace /DeviceRGB");var bt="/Coords ["+z(parseFloat(m.coords[0]))+" "+z(parseFloat(m.coords[1]))+" ";m.type===2?bt+=z(parseFloat(m.coords[2]))+" "+z(parseFloat(m.coords[3])):bt+=z(parseFloat(m.coords[2]))+" "+z(parseFloat(m.coords[3]))+" "+z(parseFloat(m.coords[4]))+" "+z(parseFloat(m.coords[5])),U(bt+="]"),m.matrix&&U("/Matrix ["+m.matrix.toString()+"]"),U("/Function "+j+" 0 R"),U("/Extend [true true]"),U(">>"),U("endobj")},js=function(m,S){var j=Ei(),Y=ri();S.push({resourcesOid:j,objectOid:Y}),m.objectNumber=Y;var tt=[];tt.push({key:"Type",value:"/Pattern"}),tt.push({key:"PatternType",value:"1"}),tt.push({key:"PaintType",value:"1"}),tt.push({key:"TilingType",value:"1"}),tt.push({key:"BBox",value:"["+m.boundingBox.map(z).join(" ")+"]"}),tt.push({key:"XStep",value:z(m.xStep)}),tt.push({key:"YStep",value:z(m.yStep)}),tt.push({key:"Resources",value:j+" 0 R"}),m.matrix&&tt.push({key:"Matrix",value:"["+m.matrix.toString()+"]"}),On({data:m.stream,additionalKeyValues:tt,objectId:m.objectNumber}),U("endobj")},zu=function(m){for(var S in m.objectNumber=ri(),U("<<"),m)switch(S){case"opacity":U("/ca "+D(m[S]));break;case"stroke-opacity":U("/CA "+D(m[S]))}U(">>"),U("endobj")},Uo=function(m){Bi(m.resourcesOid,!0),U("<<"),U("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var S in U("/Font <<"),zt)zt.hasOwnProperty(S)&&(p===!1||p===!0&&g.hasOwnProperty(S))&&U("/"+S+" "+zt[S].objectNumber+" 0 R");U(">>")}(),function(){if(Object.keys(Yt).length>0){for(var S in U("/Shading <<"),Yt)Yt.hasOwnProperty(S)&&Yt[S]instanceof Os&&Yt[S].objectNumber>=0&&U("/"+S+" "+Yt[S].objectNumber+" 0 R");Te.publish("putShadingPatternDict"),U(">>")}}(),function(S){if(Object.keys(Yt).length>0){for(var j in U("/Pattern <<"),Yt)Yt.hasOwnProperty(j)&&Yt[j]instanceof f.TilingPattern&&Yt[j].objectNumber>=0&&Yt[j].objectNumber<S&&U("/"+j+" "+Yt[j].objectNumber+" 0 R");Te.publish("putTilingPatternDict"),U(">>")}}(m.objectOid),function(){if(Object.keys(se).length>0){var S;for(S in U("/ExtGState <<"),se)se.hasOwnProperty(S)&&se[S].objectNumber>=0&&U("/"+S+" "+se[S].objectNumber+" 0 R");Te.publish("putGStateDict"),U(">>")}}(),function(){for(var S in U("/XObject <<"),Gi)Gi.hasOwnProperty(S)&&Gi[S].objectNumber>=0&&U("/"+S+" "+Gi[S].objectNumber+" 0 R");Te.publish("putXobjectDict"),U(">>")}(),U(">>"),U("endobj")},mh=function(m){ae[m.fontName]=ae[m.fontName]||{},ae[m.fontName][m.fontStyle]=m.id},bh=function(m,S,j,Y,tt){var bt={id:"F"+(Object.keys(zt).length+1).toString(10),postScriptName:m,fontName:S,fontStyle:j,encoding:Y,isStandardFont:tt||!1,metadata:{}};return Te.publish("addFont",{font:bt,instance:this}),zt[bt.id]=bt,mh(bt),bt.id},En=f.__private__.pdfEscape=f.pdfEscape=function(m,S){return function(j,Y){var tt,bt,St,Et,jt,Kt,ee,ke,ii;if(St=(Y=Y||{}).sourceEncoding||"Unicode",jt=Y.outputEncoding,(Y.autoencode||jt)&&zt[Ht].metadata&&zt[Ht].metadata[St]&&zt[Ht].metadata[St].encoding&&(Et=zt[Ht].metadata[St].encoding,!jt&&zt[Ht].encoding&&(jt=zt[Ht].encoding),!jt&&Et.codePages&&(jt=Et.codePages[0]),typeof jt=="string"&&(jt=Et[jt]),jt)){for(ee=!1,Kt=[],tt=0,bt=j.length;tt<bt;tt++)(ke=jt[j.charCodeAt(tt)])?Kt.push(String.fromCharCode(ke)):Kt.push(j[tt]),Kt[tt].charCodeAt(0)>>8&&(ee=!0);j=Kt.join("")}for(tt=j.length;ee===void 0&&tt!==0;)j.charCodeAt(tt-1)>>8&&(ee=!0),tt--;if(!ee)return j;for(Kt=Y.noBOM?[]:[254,255],tt=0,bt=j.length;tt<bt;tt++){if((ii=(ke=j.charCodeAt(tt))>>8)>>8)throw new Error("Character at position "+tt+" of string '"+j+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Kt.push(ii),Kt.push(ke-(ii<<8))}return String.fromCharCode.apply(void 0,Kt)}(m,S).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ho=f.__private__.beginPage=function(m){At[++je]=[],Jt[je]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(m[0]),topRightY:Number(m[1])}},xh(je),pt(At[V])},vh=function(m,S){var j,Y,tt;switch(i=S||i,typeof m=="string"&&(j=w(m.toLowerCase()),Array.isArray(j)&&(Y=j[0],tt=j[1])),Array.isArray(m)&&(Y=m[0]*Zt,tt=m[1]*Zt),isNaN(Y)&&(Y=r[0],tt=r[1]),(Y>14400||tt>14400)&&(qe.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Y=Math.min(14400,Y),tt=Math.min(14400,tt)),r=[Y,tt],i.substr(0,1)){case"l":tt>Y&&(r=[tt,Y]);break;case"p":Y>tt&&(r=[tt,Y])}Ho(r),Zu(Go),U(Vs),Xo!==0&&U(Xo+" J"),Ko!==0&&U(Ko+" j"),Te.publish("addPage",{pageNumber:je})},qo=function(m){m>0&&m<=je&&(At.splice(m,1),Jt.splice(m,1),je--,V>je&&(V=je),this.setPage(V))},xh=function(m){m>0&&m<=je&&(V=m)},_h=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return At.length-1},yh=function(m,S,j){var Y,tt=void 0;return j=j||{},m=m!==void 0?m:zt[Ht].fontName,S=S!==void 0?S:zt[Ht].fontStyle,Y=m.toLowerCase(),ae[Y]!==void 0&&ae[Y][S]!==void 0?tt=ae[Y][S]:ae[m]!==void 0&&ae[m][S]!==void 0?tt=ae[m][S]:j.disableWarning===!1&&qe.warn("Unable to look up font label for font '"+m+"', '"+S+"'. Refer to getFontList() for available fonts."),tt||j.noFallback||(tt=ae.times[S])==null&&(tt=ae.times.normal),tt},zs=f.__private__.putInfo=function(){var m=ri(),S=function(Y){return Y};for(var j in c!==null&&(S=di.encryptor(m,0)),U("<<"),U("/Producer ("+En(S("jsPDF "+Ft.version))+")"),ue)ue.hasOwnProperty(j)&&ue[j]&&U("/"+j.substr(0,1).toUpperCase()+j.substr(1)+" ("+En(S(ue[j]))+")");U("/CreationDate ("+En(S(et))+")"),U(">>"),U("endobj")},Vu=f.__private__.putCatalog=function(m){var S=(m=m||{}).rootDictionaryObjId||ia;switch(ri(),U("<<"),U("/Type /Catalog"),U("/Pages "+S+" 0 R"),Ut||(Ut="fullwidth"),Ut){case"fullwidth":U("/OpenAction [3 0 R /FitH null]");break;case"fullheight":U("/OpenAction [3 0 R /FitV null]");break;case"fullpage":U("/OpenAction [3 0 R /Fit]");break;case"original":U("/OpenAction [3 0 R /XYZ null null 1]");break;default:var j=""+Ut;j.substr(j.length-1)==="%"&&(Ut=parseInt(Ut)/100),typeof Ut=="number"&&U("/OpenAction [3 0 R /XYZ null null "+D(Ut)+"]")}switch(ne||(ne="continuous"),ne){case"continuous":U("/PageLayout /OneColumn");break;case"single":U("/PageLayout /SinglePage");break;case"two":case"twoleft":U("/PageLayout /TwoColumnLeft");break;case"tworight":U("/PageLayout /TwoColumnRight")}Wt&&U("/PageMode /"+Wt),Te.publish("putCatalog"),U(">>"),U("endobj")},wi=f.__private__.putTrailer=function(){U("trailer"),U("<<"),U("/Size "+(Q+1)),U("/Root "+Q+" 0 R"),U("/Info "+(Q-1)+" 0 R"),c!==null&&U("/Encrypt "+di.oid+" 0 R"),U("/ID [ <"+ot+"> <"+ot+"> ]"),U(">>")},wh=f.__private__.putHeader=function(){U("%PDF-"+v),U("%\xBA\xDF\xAC\xE0")},Sh=f.__private__.putXRef=function(){var m="0000000000";U("xref"),U("0 "+(Q+1)),U("0000000000 65535 f ");for(var S=1;S<=Q;S++)typeof st[S]=="function"?U((m+st[S]()).slice(-10)+" 00000 n "):st[S]!==void 0?U((m+st[S]).slice(-10)+" 00000 n "):U("0000000000 00000 n ")},Pr=f.__private__.buildDocument=function(){var m;Q=0,ct=0,ft=[],st=[],_t=[],ia=Ei(),$n=Ei(),pt(ft),Te.publish("buildDocument"),wh(),or(),function(){Te.publish("putAdditionalObjects");for(var j=0;j<_t.length;j++){var Y=_t[j];Bi(Y.objId,!0),U(Y.content),U("endobj")}Te.publish("postPutAdditionalObjects")}(),m=[],function(){for(var j in zt)zt.hasOwnProperty(j)&&(p===!1||p===!0&&g.hasOwnProperty(j))&&Ga(zt[j])}(),function(){var j;for(j in se)se.hasOwnProperty(j)&&zu(se[j])}(),function(){for(var j in Gi)Gi.hasOwnProperty(j)&&Rs(Gi[j])}(),function(j){var Y;for(Y in Yt)Yt.hasOwnProperty(Y)&&(Yt[Y]instanceof Os?Bs(Yt[Y]):Yt[Y]instanceof Fo&&js(Yt[Y],j))}(m),Te.publish("putResources"),m.forEach(Uo),Uo({resourcesOid:$n,objectOid:Number.MAX_SAFE_INTEGER}),Te.publish("postPutResources"),c!==null&&(di.oid=ri(),U("<<"),U("/Filter /Standard"),U("/V "+di.v),U("/R "+di.r),U("/U <"+di.toHexString(di.U)+">"),U("/O <"+di.toHexString(di.O)+">"),U("/P "+di.P),U(">>"),U("endobj")),zs(),Vu();var S=ct;return Sh(),wi(),U("startxref"),U(""+S),U("%%EOF"),pt(At[V]),ft.join(`
`)},Za=f.__private__.getBlob=function(m){return new Blob([he(m)],{type:"application/pdf"})},Zn=f.output=f.__private__.output=(In=function(m,S){switch(typeof(S=S||{})=="string"?S={filename:S}:S.filename=S.filename||"generated.pdf",m){case void 0:return Pr();case"save":f.save(S.filename);break;case"arraybuffer":return he(Pr());case"blob":return Za(Pr());case"bloburi":case"bloburl":if(Xt.URL!==void 0&&typeof Xt.URL.createObjectURL=="function")return Xt.URL&&Xt.URL.createObjectURL(Za(Pr()))||void 0;qe.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var j="",Y=Pr();try{j=ix(Y)}catch{j=ix(unescape(encodeURIComponent(Y)))}return"data:application/pdf;filename="+S.filename+";base64,"+j;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Xt)==="[object Window]"){var tt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",bt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';S.pdfObjectUrl&&(tt=S.pdfObjectUrl,bt="");var St='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+tt+'"'+bt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(S)+");<\/script></body></html>",Et=Xt.open();return Et!==null&&Et.document.write(St),Et}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Xt)==="[object Window]"){var jt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(S.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+S.filename+'" width="500px" height="400px" /></body></html>',Kt=Xt.open();if(Kt!==null){Kt.document.write(jt);var ee=this;Kt.document.documentElement.querySelector("#pdfViewer").onload=function(){Kt.document.title=S.filename,Kt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ee.output("bloburl"))}}return Kt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Xt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",S)+'"></iframe></body></html>',ii=Xt.open();if(ii!==null&&(ii.document.write(ke),ii.document.title=S.filename),ii||typeof safari>"u")return ii;break;case"datauri":case"dataurl":return Xt.document.location.href=this.output("datauristring",S);default:return null}},In.foo=function(){try{return In.apply(this,arguments)}catch(j){var m=j.stack||"";~m.indexOf(" at ")&&(m=m.split(" at ")[1]);var S="Error in function "+m.split(`
`)[0].split("<")[0]+": "+j.message;if(!Xt.console)throw new Error(S);Xt.console.error(S,j),Xt.alert&&alert(S)}},In.foo.bar=In,In.foo),Xa=function(m){return Array.isArray(Wa)===!0&&Wa.indexOf(m)>-1};switch(n){case"pt":Zt=1;break;case"mm":Zt=72/25.4;break;case"cm":Zt=72/2.54;break;case"in":Zt=72;break;case"px":Zt=Xa("px_scaling")==1?.75:96/72;break;case"pc":case"em":Zt=12;break;case"ex":Zt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Zt=n}var di=null;yt(),nt();var Wo=f.__private__.getPageInfo=f.getPageInfo=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Jt[m].objId,pageNumber:m,pageContext:Jt[m]}},Uu=f.__private__.getPageInfoByObjId=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var S in Jt)if(Jt[S].objId===m)break;return Wo(S)},Hu=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Jt[V].objId,pageNumber:V,pageContext:Jt[V]}};f.addPage=function(){return vh.apply(this,arguments),this},f.setPage=function(){return xh.apply(this,arguments),pt.call(this,At[V]),this},f.insertPage=function(m){return this.addPage(),this.movePage(V,m),this},f.movePage=function(m,S){var j,Y;if(m>S){j=At[m],Y=Jt[m];for(var tt=m;tt>S;tt--)At[tt]=At[tt-1],Jt[tt]=Jt[tt-1];At[S]=j,Jt[S]=Y,this.setPage(S)}else if(m<S){j=At[m],Y=Jt[m];for(var bt=m;bt<S;bt++)At[bt]=At[bt+1],Jt[bt]=Jt[bt+1];At[S]=j,Jt[S]=Y,this.setPage(S)}return this},f.deletePage=function(){return qo.apply(this,arguments),this},f.__private__.text=f.text=function(m,S,j,Y,tt){var bt,St,Et,jt,Kt,ee,ke,ii,Si,$e=(Y=Y||{}).scope||this;if(typeof m=="number"&&typeof S=="number"&&(typeof j=="string"||Array.isArray(j))){var Di=j;j=S,S=m,m=Di}if(arguments[3]instanceof Gt==0?(Et=arguments[4],jt=arguments[5],Re(ke=arguments[3])==="object"&&ke!==null||(typeof Et=="string"&&(jt=Et,Et=null),typeof ke=="string"&&(jt=ke,ke=null),typeof ke=="number"&&(Et=ke,ke=null),Y={flags:ke,angle:Et,align:jt})):(E("The transform parameter of text() with a Matrix value"),Si=tt),isNaN(S)||isNaN(j)||m==null)throw new Error("Invalid arguments passed to jsPDF.text");if(m.length===0)return $e;var Ci,ji="",Fn=typeof Y.lineHeightFactor=="number"?Y.lineHeightFactor:Ja,ln=$e.internal.scaleFactor;function Nh(Pe){return Pe=Pe.split("	").join(Array(Y.TabLen||9).join(" ")),En(Pe,ke)}function Ws(Pe){for(var ze,gi=Pe.concat(),Li=[],Rr=gi.length;Rr--;)typeof(ze=gi.shift())=="string"?Li.push(ze):Array.isArray(Pe)&&(ze.length===1||ze[1]===void 0&&ze[2]===void 0)?Li.push(ze[0]):Li.push([ze[0],ze[1],ze[2]]);return Li}function rs(Pe,ze){var gi;if(typeof Pe=="string")gi=ze(Pe)[0];else if(Array.isArray(Pe)){for(var Li,Rr,hl=Pe.concat(),Gs=[],Oh=hl.length;Oh--;)typeof(Li=hl.shift())=="string"?Gs.push(ze(Li)[0]):Array.isArray(Li)&&typeof Li[0]=="string"&&(Rr=ze(Li[0],Li[1],Li[2]),Gs.push([Rr[0],Rr[1],Rr[2]]));gi=Gs}return gi}var aa=!1,as=!0;if(typeof m=="string")aa=!0;else if(Array.isArray(m)){var ss=m.concat();St=[];for(var os,Zi=ss.length;Zi--;)(typeof(os=ss.shift())!="string"||Array.isArray(os)&&typeof os[0]!="string")&&(as=!1);aa=as}if(aa===!1)throw new Error('Type of text must be string or Array. "'+m+'" is not recognized.');typeof m=="string"&&(m=m.match(/[\r?\n]/)?m.split(/\r\n|\r|\n/g):[m]);var ls=Dt/$e.internal.scaleFactor,hs=ls*(Fn-1);switch(Y.baseline){case"bottom":j-=hs;break;case"top":j+=ls-hs;break;case"hanging":j+=ls-2*hs;break;case"middle":j+=ls/2-hs}if((ee=Y.maxWidth||0)>0&&(typeof m=="string"?m=$e.splitTextToSize(m,ee):Object.prototype.toString.call(m)==="[object Array]"&&(m=m.reduce(function(Pe,ze){return Pe.concat($e.splitTextToSize(ze,ee))},[]))),bt={text:m,x:S,y:j,options:Y,mutex:{pdfEscape:En,activeFontKey:Ht,fonts:zt,activeFontSize:Dt}},Te.publish("preProcessText",bt),m=bt.text,Et=(Y=bt.options).angle,Si instanceof Gt==0&&Et&&typeof Et=="number"){Et*=Math.PI/180,Y.rotationDirection===0&&(Et=-Et),T===N&&(Et=-Et);var tl=Math.cos(Et),el=Math.sin(Et);Si=new Gt(tl,el,-el,tl,0,0)}else Et&&Et instanceof Gt&&(Si=Et);T!==N||Si||(Si=Tr),(Kt=Y.charSpace||Hs)!==void 0&&(ji+=z(W(Kt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ii=Y.horizontalScale)!==void 0&&(ji+=z(100*ii)+` Tz
`),Y.lang;var ai=-1,Er=Y.renderingMode!==void 0?Y.renderingMode:Y.stroke,$s=$e.internal.getCurrentPageInfo().pageContext;switch(Er){case 0:case!1:case"fill":ai=0;break;case 1:case!0:case"stroke":ai=1;break;case 2:case"fillThenStroke":ai=2;break;case 3:case"invisible":ai=3;break;case 4:case"fillAndAddForClipping":ai=4;break;case 5:case"strokeAndAddPathForClipping":ai=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ai=6;break;case 7:case"addToPathForClipping":ai=7}var Mh=$s.usedRenderingMode!==void 0?$s.usedRenderingMode:-1;ai!==-1?ji+=ai+` Tr
`:Mh!==-1&&(ji+=`0 Tr
`),ai!==-1&&($s.usedRenderingMode=ai),jt=Y.align||"left";var Rn,cs=Dt*Fn,il=$e.internal.pageSize.getWidth(),nl=zt[Ht];Kt=Y.charSpace||Hs,ee=Y.maxWidth||0,ke=Object.assign({autoencode:!0,noBOM:!0},Y.flags);var sa=[],us=function(Pe){return $e.getStringUnitWidth(Pe,{font:nl,charSpace:Kt,fontSize:Dt,doKerning:!1})*Dt/ln};if(Object.prototype.toString.call(m)==="[object Array]"){var bn;St=Ws(m),jt!=="left"&&(Rn=St.map(us));var vn,oa=0;if(jt==="right"){S-=Rn[0],m=[],Zi=St.length;for(var Fr=0;Fr<Zi;Fr++)Fr===0?(vn=Nr(S),bn=Mr(j)):(vn=W(oa-Rn[Fr]),bn=-cs),m.push([St[Fr],vn,bn]),oa=Rn[Fr]}else if(jt==="center"){S-=Rn[0]/2,m=[],Zi=St.length;for(var la=0;la<Zi;la++)la===0?(vn=Nr(S),bn=Mr(j)):(vn=W((oa-Rn[la])/2),bn=-cs),m.push([St[la],vn,bn]),oa=Rn[la]}else if(jt==="left"){m=[],Zi=St.length;for(var rl=0;rl<Zi;rl++)m.push(St[rl])}else if(jt==="justify"&&nl.encoding==="Identity-H"){m=[],Zi=St.length,ee=ee!==0?ee:il;for(var Ys=0,pi=0;pi<Zi;pi++)if(bn=pi===0?Mr(j):-cs,vn=pi===0?Nr(S):Ys,pi<Zi-1){var Ih=W((ee-Rn[pi])/(St[pi].split(" ").length-1)),hr=St[pi].split(" ");m.push([hr[0]+" ",vn,bn]),Ys=0;for(var cr=1;cr<hr.length;cr++){var al=(us(hr[cr-1]+" "+hr[cr])-us(hr[cr]))*ln+Ih;cr==hr.length-1?m.push([hr[cr],al,0]):m.push([hr[cr]+" ",al,0]),Ys-=al}}else m.push([St[pi],vn,bn]);m.push(["",Ys,0])}else{if(jt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(m=[],Zi=St.length,ee=ee!==0?ee:il,pi=0;pi<Zi;pi++){bn=pi===0?Mr(j):-cs,vn=pi===0?Nr(S):0;var sl=St[pi].split(" ").length-1,ol=sl>0?(ee-Rn[pi])/sl:0;pi<Zi-1?sa.push(z(W(ol))):sa.push(0),m.push([St[pi],vn,bn])}}}(typeof Y.R2L=="boolean"?Y.R2L:ce)===!0&&(m=rs(m,function(Pe,ze,gi){return[Pe.split("").reverse().join(""),ze,gi]})),bt={text:m,x:S,y:j,options:Y,mutex:{pdfEscape:En,activeFontKey:Ht,fonts:zt,activeFontSize:Dt}},Te.publish("postProcessText",bt),m=bt.text,Ci=bt.mutex.isHex||!1;var ll=zt[Ht].encoding;ll!=="WinAnsiEncoding"&&ll!=="StandardEncoding"||(m=rs(m,function(Pe,ze,gi){return[Nh(Pe),ze,gi]})),St=Ws(m),m=[];for(var ha,ca,ua,fs=Array.isArray(St[0])?1:0,fa="",ds=function(Pe,ze,gi){var Li="";return gi instanceof Gt?(gi=typeof Y.angle=="number"?Lr(gi,new Gt(1,0,0,1,Pe,ze)):Lr(new Gt(1,0,0,1,Pe,ze),gi),T===N&&(gi=Lr(new Gt(1,0,0,-1,0,0),gi)),Li=gi.join(" ")+` Tm
`):Li=z(Pe)+" "+z(ze)+` Td
`,Li},Bn=0;Bn<St.length;Bn++){switch(fa="",fs){case 1:ua=(Ci?"<":"(")+St[Bn][0]+(Ci?">":")"),ha=parseFloat(St[Bn][1]),ca=parseFloat(St[Bn][2]);break;case 0:ua=(Ci?"<":"(")+St[Bn]+(Ci?">":")"),ha=Nr(S),ca=Mr(j)}sa!==void 0&&sa[Bn]!==void 0&&(fa=sa[Bn]+` Tw
`),Bn===0?m.push(fa+ds(ha,ca,Si)+ua):fs===0?m.push(fa+ua):fs===1&&m.push(fa+ds(ha,ca,Si)+ua)}m=fs===0?m.join(` Tj
T* `):m.join(` Tj
`),m+=` Tj
`;var ur=`BT
/`;return ur+=Ht+" "+Dt+` Tf
`,ur+=z(Dt*Fn)+` TL
`,ur+=Qa+`
`,ur+=ji,ur+=m,U(ur+="ET"),g[Ht]=!0,$e};var qu=f.__private__.clip=f.clip=function(m){return U(m==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return qu("evenodd")},f.__private__.discardPath=f.discardPath=function(){return U("n"),this};var lr=f.__private__.isValidStyle=function(m){var S=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(m)!==-1&&(S=!0),S};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(m){return lr(m)&&(h=m),this};var Ch=f.__private__.getStyle=f.getStyle=function(m){var S=h;switch(m){case"D":case"S":S="S";break;case"F":S="f";break;case"FD":case"DF":S="B";break;case"f":case"f*":case"B":case"B*":S=m}return S},Ah=f.close=function(){return U("h"),this};f.stroke=function(){return U("S"),this},f.fill=function(m){return na("f",m),this},f.fillEvenOdd=function(m){return na("f*",m),this},f.fillStroke=function(m){return na("B",m),this},f.fillStrokeEvenOdd=function(m){return na("B*",m),this};var na=function(m,S){Re(S)==="object"?$u(S,m):U(m)},$o=function(m){m===null||T===N&&m===void 0||(m=Ch(m),U(m))};function Wu(m,S,j,Y,tt){var bt=new Fo(S||this.boundingBox,j||this.xStep,Y||this.yStep,this.gState,tt||this.matrix);bt.stream=this.stream;var St=m+"$$"+this.cloneIndex+++"$$";return Mn(St,bt),bt}var $u=function(m,S){var j=be[m.key],Y=Yt[j];if(Y instanceof Os)U("q"),U(Yu(S)),Y.gState&&f.setGState(Y.gState),U(m.matrix.toString()+" cm"),U("/"+j+" sh"),U("Q");else if(Y instanceof Fo){var tt=new Gt(1,0,0,-1,0,ns());m.matrix&&(tt=tt.multiply(m.matrix||Tr),j=Wu.call(Y,m.key,m.boundingBox,m.xStep,m.yStep,tt).id),U("q"),U("/Pattern cs"),U("/"+j+" scn"),Y.gState&&f.setGState(Y.gState),U(S),U("Q")}},Yu=function(m){switch(m){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Yo=f.moveTo=function(m,S){return U(z(W(m))+" "+z(q(S))+" m"),this},Ka=f.lineTo=function(m,S){return U(z(W(m))+" "+z(q(S))+" l"),this},ra=f.curveTo=function(m,S,j,Y,tt,bt){return U([z(W(m)),z(q(S)),z(W(j)),z(q(Y)),z(W(tt)),z(q(bt)),"c"].join(" ")),this};f.__private__.line=f.line=function(m,S,j,Y,tt){if(isNaN(m)||isNaN(S)||isNaN(j)||isNaN(Y)||!lr(tt))throw new Error("Invalid arguments passed to jsPDF.line");return T===A?this.lines([[j-m,Y-S]],m,S,[1,1],tt||"S"):this.lines([[j-m,Y-S]],m,S,[1,1]).stroke()},f.__private__.lines=f.lines=function(m,S,j,Y,tt,bt){var St,Et,jt,Kt,ee,ke,ii,Si,$e,Di,Ci,ji;if(typeof m=="number"&&(ji=j,j=S,S=m,m=ji),Y=Y||[1,1],bt=bt||!1,isNaN(S)||isNaN(j)||!Array.isArray(m)||!Array.isArray(Y)||!lr(tt)||typeof bt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Yo(S,j),St=Y[0],Et=Y[1],Kt=m.length,Di=S,Ci=j,jt=0;jt<Kt;jt++)(ee=m[jt]).length===2?(Di=ee[0]*St+Di,Ci=ee[1]*Et+Ci,Ka(Di,Ci)):(ke=ee[0]*St+Di,ii=ee[1]*Et+Ci,Si=ee[2]*St+Di,$e=ee[3]*Et+Ci,Di=ee[4]*St+Di,Ci=ee[5]*Et+Ci,ra(ke,ii,Si,$e,Di,Ci));return bt&&Ah(),$o(tt),this},f.path=function(m){for(var S=0;S<m.length;S++){var j=m[S],Y=j.c;switch(j.op){case"m":Yo(Y[0],Y[1]);break;case"l":Ka(Y[0],Y[1]);break;case"c":ra.apply(this,Y);break;case"h":Ah()}}return this},f.__private__.rect=f.rect=function(m,S,j,Y,tt){if(isNaN(m)||isNaN(S)||isNaN(j)||isNaN(Y)||!lr(tt))throw new Error("Invalid arguments passed to jsPDF.rect");return T===A&&(Y=-Y),U([z(W(m)),z(q(S)),z(W(j)),z(W(Y)),"re"].join(" ")),$o(tt),this},f.__private__.triangle=f.triangle=function(m,S,j,Y,tt,bt,St){if(isNaN(m)||isNaN(S)||isNaN(j)||isNaN(Y)||isNaN(tt)||isNaN(bt)||!lr(St))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[j-m,Y-S],[tt-j,bt-Y],[m-tt,S-bt]],m,S,[1,1],St,!0),this},f.__private__.roundedRect=f.roundedRect=function(m,S,j,Y,tt,bt,St){if(isNaN(m)||isNaN(S)||isNaN(j)||isNaN(Y)||isNaN(tt)||isNaN(bt)||!lr(St))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Et=4/3*(Math.SQRT2-1);return tt=Math.min(tt,.5*j),bt=Math.min(bt,.5*Y),this.lines([[j-2*tt,0],[tt*Et,0,tt,bt-bt*Et,tt,bt],[0,Y-2*bt],[0,bt*Et,-tt*Et,bt,-tt,bt],[2*tt-j,0],[-tt*Et,0,-tt,-bt*Et,-tt,-bt],[0,2*bt-Y],[0,-bt*Et,tt*Et,-bt,tt,-bt]],m+tt,S,[1,1],St,!0),this},f.__private__.ellipse=f.ellipse=function(m,S,j,Y,tt){if(isNaN(m)||isNaN(S)||isNaN(j)||isNaN(Y)||!lr(tt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var bt=4/3*(Math.SQRT2-1)*j,St=4/3*(Math.SQRT2-1)*Y;return Yo(m+j,S),ra(m+j,S-St,m+bt,S-Y,m,S-Y),ra(m-bt,S-Y,m-j,S-St,m-j,S),ra(m-j,S+St,m-bt,S+Y,m,S+Y),ra(m+bt,S+Y,m+j,S+St,m+j,S),$o(tt),this},f.__private__.circle=f.circle=function(m,S,j,Y){if(isNaN(m)||isNaN(S)||isNaN(j)||!lr(Y))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(m,S,j,j,Y)},f.setFont=function(m,S,j){return j&&(S=K(S,j)),Ht=yh(m,S,{disableWarning:!1}),this};var Gu=f.__private__.getFont=f.getFont=function(){return zt[yh.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var m,S,j={};for(m in ae)if(ae.hasOwnProperty(m))for(S in j[m]=[],ae[m])ae[m].hasOwnProperty(S)&&j[m].push(S);return j},f.addFont=function(m,S,j,Y,tt){var bt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&bt.indexOf(arguments[3])!==-1?tt=arguments[3]:arguments[3]&&bt.indexOf(arguments[3])==-1&&(j=K(j,Y)),bh.call(this,m,S,j,tt=tt||"Identity-H")};var Ja,Go=t.lineWidth||.200025,Qt=f.__private__.getLineWidth=f.getLineWidth=function(){return Go},Zu=f.__private__.setLineWidth=f.setLineWidth=function(m){return Go=m,U(z(W(m))+" w"),this};f.__private__.setLineDash=Ft.API.setLineDash=Ft.API.setLineDashPattern=function(m,S){if(m=m||[],S=S||0,isNaN(S)||!Array.isArray(m))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return m=m.map(function(j){return z(W(j))}).join(" "),S=z(W(S)),U("["+m+"] "+S+" d"),this};var Xu=f.__private__.getLineHeight=f.getLineHeight=function(){return Dt*Ja};f.__private__.getLineHeight=f.getLineHeight=function(){return Dt*Ja};var Ku=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(m){return typeof(m=m||1.15)=="number"&&(Ja=m),this},Ju=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Ja};Ku(t.lineHeight);var Nr=f.__private__.getHorizontalCoordinate=function(m){return W(m)},Mr=f.__private__.getVerticalCoordinate=function(m){return T===N?m:Jt[V].mediaBox.topRightY-Jt[V].mediaBox.bottomLeftY-W(m)},Qu=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(m){return z(Nr(m))},tf=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(m){return z(Mr(m))},Vs=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return sr(Vs)},f.__private__.setStrokeColor=f.setDrawColor=function(m,S,j,Y){return Vs=Yn({ch1:m,ch2:S,ch3:j,ch4:Y,pdfColorType:"draw",precision:2}),U(Vs),this};var Zo=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return sr(Zo)},f.__private__.setFillColor=f.setFillColor=function(m,S,j,Y){return Zo=Yn({ch1:m,ch2:S,ch3:j,ch4:Y,pdfColorType:"fill",precision:2}),U(Zo),this};var Qa=t.textColor||"0 g",Us=f.__private__.getTextColor=f.getTextColor=function(){return sr(Qa)};f.__private__.setTextColor=f.setTextColor=function(m,S,j,Y){return Qa=Yn({ch1:m,ch2:S,ch3:j,ch4:Y,pdfColorType:"text",precision:3}),this};var Hs=t.charSpace,ef=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Hs||0)};f.__private__.setCharSpace=f.setCharSpace=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Hs=m,this};var Xo=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(m){var S=f.CapJoinStyles[m];if(S===void 0)throw new Error("Line cap style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xo=S,U(S+" J"),this};var Ko=0;f.__private__.setLineJoin=f.setLineJoin=function(m){var S=f.CapJoinStyles[m];if(S===void 0)throw new Error("Line join style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ko=S,U(S+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(m){if(m=m||0,isNaN(m))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return U(z(W(m))+" M"),this},f.GState=Mu,f.setGState=function(m){(m=typeof m=="string"?se[fi[m]]:ts(null,m)).equals(ki)||(U("/"+m.id+" gs"),ki=m)};var ts=function(m,S){if(!m||!fi[m]){var j=!1;for(var Y in se)if(se.hasOwnProperty(Y)&&se[Y].equals(S)){j=!0;break}if(j)S=se[Y];else{var tt="GS"+(Object.keys(se).length+1).toString(10);se[tt]=S,S.id=tt}return m&&(fi[m]=S.id),Te.publish("addGState",S),S}};f.addGState=function(m,S){return ts(m,S),this},f.saveGraphicsState=function(){return U("q"),Be.push({key:Ht,size:Dt,color:Qa}),this},f.restoreGraphicsState=function(){U("Q");var m=Be.pop();return Ht=m.key,Dt=m.size,Qa=m.color,ki=null,this},f.setCurrentTransformationMatrix=function(m){return U(m.toString()+" cm"),this},f.comment=function(m){return U("#"+m),this};var es=function(m,S){var j=m||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return j},set:function(bt){isNaN(bt)||(j=parseFloat(bt))}});var Y=S||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Y},set:function(bt){isNaN(bt)||(Y=parseFloat(bt))}});var tt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return tt},set:function(bt){tt=bt.toString()}}),this},Jo=function(m,S,j,Y){es.call(this,m,S),this.type="rect";var tt=j||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return tt},set:function(St){isNaN(St)||(tt=parseFloat(St))}});var bt=Y||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return bt},set:function(St){isNaN(St)||(bt=parseFloat(St))}}),this},qs=function(){this.page=je,this.currentPage=V,this.pages=At.slice(0),this.pagesContext=Jt.slice(0),this.x=qt,this.y=We,this.matrix=Ae,this.width=kh(V),this.height=Ir(V),this.outputDestination=Mt,this.id="",this.objectNumber=-1};qs.prototype.restore=function(){je=this.page,V=this.currentPage,Jt=this.pagesContext,At=this.pages,qt=this.x,We=this.y,Ae=this.matrix,Dh(V,this.width),Or(V,this.height),Mt=this.outputDestination};var Qo=function(m,S,j,Y,tt){ar.push(new qs),je=V=0,At=[],qt=m,We=S,Ae=tt,Ho([j,Y])};for(var is in f.beginFormObject=function(m,S,j,Y,tt){return Qo(m,S,j,Y,tt),this},f.endFormObject=function(m){return function(S){if(Dr[S])ar.pop().restore();else{var j=new qs,Y="Xo"+(Object.keys(Gi).length+1).toString(10);j.id=Y,Dr[S]=Y,Gi[Y]=j,Te.publish("addFormObject",j),ar.pop().restore()}}(m),this},f.doFormObject=function(m,S){var j=Gi[Dr[m]];return U("q"),U(S.toString()+" cm"),U("/"+j.id+" Do"),U("Q"),this},f.getFormObject=function(m){var S=Gi[Dr[m]];return{x:S.x,y:S.y,width:S.width,height:S.height,matrix:S.matrix}},f.save=function(m,S){return m=m||"generated.pdf",(S=S||{}).returnPromise=S.returnPromise||!1,S.returnPromise===!1?(Is(Za(Pr()),m),typeof Is.unload=="function"&&Xt.setTimeout&&setTimeout(Is.unload,911),this):new Promise(function(j,Y){try{var tt=Is(Za(Pr()),m);typeof Is.unload=="function"&&Xt.setTimeout&&setTimeout(Is.unload,911),j(tt)}catch(bt){Y(bt.message)}})},Ft.API)Ft.API.hasOwnProperty(is)&&(is==="events"&&Ft.API.events.length?function(m,S){var j,Y,tt;for(tt=S.length-1;tt!==-1;tt--)j=S[tt][0],Y=S[tt][1],m.subscribe.apply(m,[j].concat(typeof Y=="function"?[Y]:Y))}(Te,Ft.API.events):f[is]=Ft.API[is]);function kh(m){return Jt[m].mediaBox.topRightX-Jt[m].mediaBox.bottomLeftX}function Dh(m,S){Jt[m].mediaBox.topRightX=S+Jt[m].mediaBox.bottomLeftX}function Ir(m){return Jt[m].mediaBox.topRightY-Jt[m].mediaBox.bottomLeftY}function Or(m,S){Jt[m].mediaBox.topRightY=S+Jt[m].mediaBox.bottomLeftY}var Lh=f.getPageWidth=function(m){return kh(m=m||V)/Zt},Th=f.setPageWidth=function(m,S){Dh(m,S*Zt)},ns=f.getPageHeight=function(m){return Ir(m=m||V)/Zt},Ph=f.setPageHeight=function(m,S){Or(m,S*Zt)};return f.internal={pdfEscape:En,getStyle:Ch,getFont:Gu,getFontSize:Pt,getCharSpace:ef,getTextColor:Us,getLineHeight:Xu,getLineHeightFactor:Ju,getLineWidth:Qt,write:me,getHorizontalCoordinate:Nr,getVerticalCoordinate:Mr,getCoordinateString:Qu,getVerticalCoordinateString:tf,collections:{},newObject:ri,newAdditionalObject:$a,newObjectDeferred:Ei,newObjectDeferredBegin:Bi,getFilters:Gn,putStream:On,events:Te,scaleFactor:Zt,pageSize:{getWidth:function(){return Lh(V)},setWidth:function(m){Th(V,m)},getHeight:function(){return ns(V)},setHeight:function(m){Ph(V,m)}},encryptionOptions:c,encryption:di,getEncryptor:function(m){return c!==null?di.encryptor(m,0):function(S){return S}},output:Zn,getNumberOfPages:_h,pages:At,out:U,f2:D,f3:I,getPageInfo:Wo,getPageInfoByObjId:Uu,getCurrentPageInfo:Hu,getPDFVersion:x,Point:es,Rectangle:Jo,Matrix:Gt,hasHotfix:Xa},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Lh(V)},set:function(m){Th(V,m)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return ns(V)},set:function(m){Ph(V,m)},enumerable:!0,configurable:!0}),function(m){for(var S=0,j=$t.length;S<j;S++){var Y=bh.call(this,m[S][0],m[S][1],m[S][2],$t[S][3],!0);p===!1&&(g[Y]=!0);var tt=m[S][0].split("-");mh({id:Y,fontName:tt[0],fontStyle:tt[1]||""})}Te.publish("addFonts",{fonts:zt,dictionary:ae})}.call(f,$t),Ht="F1",vh(r,i),Te.publish("initialized"),f}Oo.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Oo.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Oo.prototype.hexToBytes=function(t){for(var e=[],i=0;i<t.length;i+=2)e.push(String.fromCharCode(parseInt(t.substr(i,2),16)));return e.join("")},Oo.prototype.processOwnerPassword=function(t,e){return Yp($p(e).substr(0,5),t)},Oo.prototype.encryptor=function(t,e){var i=$p(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return Yp(i,n)}},Mu.prototype.equals=function(t){var e,i="id,objectNumber,equals";if(!t||Re(t)!==Re(this))return!1;var n=0;for(e in this)if(!(i.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&i.indexOf(e)<0&&n--;return n===0},Ft.API={events:[]},Ft.version="3.0.3";var ui=Ft.API,Xp=1,Fs=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Mo=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ie=function(t){return t.toFixed(2)},Ua=function(t){return t.toFixed(5)};ui.__acroform__={};var mn=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},sx=function(t){return t*Xp},Cr=function(t){var e=new Tx,i=Ot.internal.getHeight(t)||0,n=Ot.internal.getWidth(t)||0;return e.BBox=[0,0,Number(ie(n)),Number(ie(i))],e},QD=ui.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},tL=ui.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},eL=ui.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},xi=ui.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return eL(t,e-1)},_i=ui.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return QD(t,e-1)},yi=ui.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return tL(t,e-1)},iL=ui.__acroform__.calculateCoordinates=function(t,e){var i=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,r=t[0],a=t[1],s=t[2],o=t[3],l={};return l.lowerLeft_X=i(r)||0,l.lowerLeft_Y=n(a+o)||0,l.upperRight_X=i(r+s)||0,l.upperRight_Y=n(a)||0,[Number(ie(l.lowerLeft_X)),Number(ie(l.lowerLeft_Y)),Number(ie(l.upperRight_X)),Number(ie(l.upperRight_Y))]},nL=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],i=t._V||t.DV,n=Gp(t,i),r=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+r+" "+ie(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=Cr(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},Gp=function(t,e){var i=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},r=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");r=t.multiline?r.map(function(D){return D.split(`
`)}):r.map(function(D){return[D]});var a=i,s=Ot.internal.getHeight(t)||0;s=s<0?-s:s;var o=Ot.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(D,I,W){if(D+1<r.length){var q=I+" "+r[D+1][0];return Cu(q,t,W).width<=o-4}return!1};a++;t:for(;a>0;){e="",a--;var h,c,p=Cu("3",t,a).height,g=t.multiline?s-a:(s-p)/2,f=g+=2,v=0,x=0,y=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+Cu(e,t,a=12).width+", FieldWidth:"+o+`
`;break}for(var w="",A=0,N=0;N<r.length;N++)if(r.hasOwnProperty(N)){var T=!1;if(r[N].length!==1&&y!==r[N].length-1){if((p+2)*(A+2)+2>s)continue t;w+=r[N][y],T=!0,x=N,N--}else{w=(w+=r[N][y]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var F=parseInt(N),$=l(F,w,a),K=N>=r.length-1;if($&&!K){w+=" ",y=0;continue}if($||K){if(K)x=F;else if(t.multiline&&(p+2)*(A+2)+2>s)continue t}else{if(!t.multiline||(p+2)*(A+2)+2>s)continue t;x=F}}for(var z="",E=v;E<=x;E++){var X=r[E];if(t.multiline){if(E===x){z+=X[y]+" ",y=(y+1)%X.length;continue}if(E===v){z+=X[X.length-1]+" ";continue}}z+=X[0]+" "}switch(z=z.substr(z.length-1)==" "?z.substr(0,z.length-1):z,c=Cu(z,t,a).width,t.textAlign){case"right":h=o-c-2;break;case"center":h=(o-c)/2;break;default:h=2}e+=ie(h)+" "+ie(f)+` Td
`,e+="("+Fs(z)+`) Tj
`,e+=-ie(h)+` 0 Td
`,f=-(a+2),c=0,v=T?x:x+1,A++,w=""}break}return n.text=e,n.fontSize=a,n},Cu=function(t,e,i){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),r=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(i),charSpace:0})*parseFloat(i);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(i),charSpace:0})*parseFloat(i)*1.5,width:r}},rL={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},aL=function(t,e){var i={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===i.type&&n.object===i.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(i)},sL=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(nr.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(rL)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Xp=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Px,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(i){i.internal.events.unsubscribe(i.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete i.internal.acroformPlugin.acroFormDictionaryRoot._eventID,i.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(i){i.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=i.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in n)if(n.hasOwnProperty(r)){var a=n[r];a.objId=void 0,a.hasAnnotation&&aL(a,i)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(i){if(i.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");i.internal.write("/AcroForm "+i.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(i){(function(n,r){var a=!n;for(var s in n||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],h=o.Rect;if(o.Rect&&(o.Rect=iL(o.Rect,r)),r.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Ot.createDefaultAppearanceStream(o),Re(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=h,o.hasAppearanceStream&&!o.appearanceStreamContent){var c=nL(o);l.push({key:"AP",value:"<</N "+c+">>"}),r.internal.acroformPlugin.xForms.push(c)}if(o.appearanceStreamContent){var p="";for(var g in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(g)){var f=o.appearanceStreamContent[g];if(p+="/"+g+" ",p+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var s in f)if(f.hasOwnProperty(s)){var v=f[s];typeof v=="function"&&(v=v.call(r,o)),p+="/"+s+" "+v+" ",r.internal.acroformPlugin.xForms.indexOf(v)>=0||r.internal.acroformPlugin.xForms.push(v)}}else typeof(v=f)=="function"&&(v=v.call(r,o)),p+="/"+s+" "+v,r.internal.acroformPlugin.xForms.indexOf(v)>=0||r.internal.acroformPlugin.xForms.push(v);p+=">>"}l.push({key:"AP",value:`<<
`+p+">>"})}r.internal.putStream({additionalKeyValues:l,objectId:o.objId}),r.internal.out("endobj")}a&&function(x,y){for(var w in x)if(x.hasOwnProperty(w)){var A=w,N=x[w];y.internal.newObjectDeferredBegin(N.objId,!0),Re(N)==="object"&&typeof N.putStream=="function"&&N.putStream(),delete x[A]}}(r.internal.acroformPlugin.xForms,r)})(i,t)}),t.internal.acroformPlugin.isInitialized=!0}},Lx=ui.__acroform__.arrayToPdfArray=function(t,e,i){var n=function(s){return s};if(Array.isArray(t)){for(var r="[",a=0;a<t.length;a++)switch(a!==0&&(r+=" "),Re(t[a])){case"boolean":case"number":case"object":r+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&i&&(n=i.internal.getEncryptor(e)),r+="("+Fs(n(t[a].toString()))+")"):r+=t[a].toString()}return r+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Vp=function(t,e,i){var n=function(r){return r};return e!==void 0&&i&&(n=i.internal.getEncryptor(e)),(t=t||"").toString(),"("+Fs(n(t))+")"},Ar=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ar.prototype.toString=function(){return this.objId+" 0 R"},Ar.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ar.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var i in e)if(Object.getOwnPropertyDescriptor(this,e[i]).configurable===!1){var n=e[i],r=this[n];r&&(Array.isArray(r)?t.push({key:n,value:Lx(r,this.objId,this.scope)}):r instanceof Ar?(r.scope=this.scope,t.push({key:n,value:r.objId+" 0 R"})):typeof r!="function"&&t.push({key:n,value:r}))}return t};var Tx=function(){Ar.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(i){t=i.trim()},get:function(){return t||null}})};mn(Tx,Ar);var Px=function(){Ar.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var i=function(n){return n};return this.scope&&(i=this.scope.internal.getEncryptor(this.objId)),"("+Fs(i(t))+")"}},set:function(i){t=i}})};mn(Px,Ar);var nr=function t(){Ar.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!xi(e,3)},set:function(w){w?this.F=_i(e,3):this.F=yi(e,3)}});var i=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return i},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');i=w}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(w){n=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(w){n[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(w){n[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(w){n[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(w){n[3]=w}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Iu)return;a="FieldObject"+t.FieldNum++}var w=function(A){return A};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+Fs(w(a))+")"},set:function(w){a=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(w){a=w}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(w){s=w}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/Xp:h},set:function(w){h=w}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(w){c=w}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof Iu||this instanceof Es))return Vp(p,this.objId,this.scope)},set:function(w){w=w.toString(),p=w}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Ri==0?Vp(g,this.objId,this.scope):g},set:function(w){w=w.toString(),g=this instanceof Ri==0?w.substr(0,1)==="("?Mo(w.substr(1,w.length-2)):Mo(w):w}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ri==1?Mo(g.substr(1,g.length-1)):g},set:function(w){w=w.toString(),g=this instanceof Ri==1?"/"+w:w}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Ri==0?Vp(f,this.objId,this.scope):f},set:function(w){w=w.toString(),f=this instanceof Ri==0?w.substr(0,1)==="("?Mo(w.substr(1,w.length-2)):Mo(w):w}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ri==1?Mo(f.substr(1,f.length-1)):f},set:function(w){w=w.toString(),f=this instanceof Ri==1?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(w){w=!!w,x=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(w){v=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,1)},set:function(w){w?this.Ff=_i(this.Ff,1):this.Ff=yi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,2)},set:function(w){w?this.Ff=_i(this.Ff,2):this.Ff=yi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,3)},set:function(w){w?this.Ff=_i(this.Ff,3):this.Ff=yi(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');y=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(y){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:y=2;break;case"center":case 1:y=1;break;default:y=0}}})};mn(nr,Ar);var Ro=function(){nr.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(i){t=i}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Lx(e,this.objId,this.scope)},set:function(i){var n,r;r=[],typeof(n=i)=="string"&&(r=function(a,s,o){o||(o=1);for(var l,h=[];l=s.exec(a);)h.push(l[o]);return h}(n,/\((.*?)\)/g)),e=r}}),this.getOptions=function(){return e},this.setOptions=function(i){e=i,this.sort&&e.sort()},this.addOption=function(i){i=(i=i||"").toString(),e.push(i),this.sort&&e.sort()},this.removeOption=function(i,n){for(n=n||!1,i=(i=i||"").toString();e.indexOf(i)!==-1&&(e.splice(e.indexOf(i),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,18)},set:function(i){i?this.Ff=_i(this.Ff,18):this.Ff=yi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,19)},set:function(i){this.combo===!0&&(i?this.Ff=_i(this.Ff,19):this.Ff=yi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,20)},set:function(i){i?(this.Ff=_i(this.Ff,20),e.sort()):this.Ff=yi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,22)},set:function(i){i?this.Ff=_i(this.Ff,22):this.Ff=yi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,23)},set:function(i){i?this.Ff=_i(this.Ff,23):this.Ff=yi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,27)},set:function(i){i?this.Ff=_i(this.Ff,27):this.Ff=yi(this.Ff,27)}}),this.hasAppearanceStream=!1};mn(Ro,nr);var Bo=function(){Ro.call(this),this.fontName="helvetica",this.combo=!1};mn(Bo,Ro);var jo=function(){Bo.call(this),this.combo=!0};mn(jo,Bo);var Lu=function(){jo.call(this),this.edit=!0};mn(Lu,jo);var Ri=function(){nr.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,15)},set:function(i){i?this.Ff=_i(this.Ff,15):this.Ff=yi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,16)},set:function(i){i?this.Ff=_i(this.Ff,16):this.Ff=yi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,17)},set:function(i){i?this.Ff=_i(this.Ff,17):this.Ff=yi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,26)},set:function(i){i?this.Ff=_i(this.Ff,26):this.Ff=yi(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};if(this.scope&&(i=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,r=[];for(n in r.push("<<"),e)r.push("/"+n+" ("+Fs(i(e[n]))+")");return r.push(">>"),r.join(`
`)}},set:function(i){Re(i)==="object"&&(e=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(i){typeof i=="string"&&(e.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}})};mn(Ri,nr);var Tu=function(){Ri.call(this),this.pushButton=!0};mn(Tu,Ri);var zo=function(){Ri.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};mn(zo,Ri);var Iu=function(){var t,e;nr.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(r){e=r}});var i,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(o){return o};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),n)s.push("/"+a+" ("+Fs(r(n[a]))+")");return s.push(">>"),s.join(`
`)},set:function(r){Re(r)==="object"&&(n=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(r){typeof r=="string"&&(n.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return i},set:function(r){i=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return i.substr(1,i.length-1)},set:function(r){i="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ot.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};mn(Iu,nr),zo.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var i=this.Kids[e];i.appearanceStreamContent=t.createAppearanceStream(i.optionName),i.caption=t.getCA()}},zo.prototype.createOption=function(t){var e=new Iu;return e.Parent=this,e.optionName=t,this.Kids.push(e),oL.call(this.scope,e),e};var Pu=function(){Ri.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ot.CheckBox.createAppearanceStream()};mn(Pu,Ri);var Es=function(){nr.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,13)},set:function(e){e?this.Ff=_i(this.Ff,13):this.Ff=yi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,21)},set:function(e){e?this.Ff=_i(this.Ff,21):this.Ff=yi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,23)},set:function(e){e?this.Ff=_i(this.Ff,23):this.Ff=yi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,24)},set:function(e){e?this.Ff=_i(this.Ff,24):this.Ff=yi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,25)},set:function(e){e?this.Ff=_i(this.Ff,25):this.Ff=yi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,26)},set:function(e){e?this.Ff=_i(this.Ff,26):this.Ff=yi(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};mn(Es,nr);var Nu=function(){Es.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,14)},set:function(t){t?this.Ff=_i(this.Ff,14):this.Ff=yi(this.Ff,14)}}),this.password=!0};mn(Nu,Es);var Ot={CheckBox:{createAppearanceStream:function(){return{N:{On:Ot.CheckBox.YesNormal},D:{On:Ot.CheckBox.YesPushDown,Off:Ot.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Cr(t);e.scope=t.scope;var i=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),a=Gp(t,t.caption);return i.push("0.749023 g"),i.push("0 0 "+ie(Ot.internal.getWidth(t))+" "+ie(Ot.internal.getHeight(t))+" re"),i.push("f"),i.push("BMC"),i.push("q"),i.push("0 0 1 rg"),i.push("/"+n+" "+ie(a.fontSize)+" Tf "+r),i.push("BT"),i.push(a.text),i.push("ET"),i.push("Q"),i.push("EMC"),e.stream=i.join(`
`),e},YesNormal:function(t){var e=Cr(t);e.scope=t.scope;var i=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),r=[],a=Ot.internal.getHeight(t),s=Ot.internal.getWidth(t),o=Gp(t,t.caption);return r.push("1 g"),r.push("0 0 "+ie(s)+" "+ie(a)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+ie(s-1)+" "+ie(a-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+i+" "+ie(o.fontSize)+" Tf "+n),r.push(o.text),r.push("ET"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Cr(t);e.scope=t.scope;var i=[];return i.push("0.749023 g"),i.push("0 0 "+ie(Ot.internal.getWidth(t))+" "+ie(Ot.internal.getHeight(t))+" re"),i.push("f"),e.stream=i.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ot.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ot.RadioButton.Circle.YesNormal,e.D[t]=Ot.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Cr(t);e.scope=t.scope;var i=[],n=Ot.internal.getWidth(t)<=Ot.internal.getHeight(t)?Ot.internal.getWidth(t)/4:Ot.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var r=Ot.internal.Bezier_C,a=Number((n*r).toFixed(5));return i.push("q"),i.push("1 0 0 1 "+Ua(Ot.internal.getWidth(t)/2)+" "+Ua(Ot.internal.getHeight(t)/2)+" cm"),i.push(n+" 0 m"),i.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),i.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),i.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),i.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),i.push("f"),i.push("Q"),e.stream=i.join(`
`),e},YesPushDown:function(t){var e=Cr(t);e.scope=t.scope;var i=[],n=Ot.internal.getWidth(t)<=Ot.internal.getHeight(t)?Ot.internal.getWidth(t)/4:Ot.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var r=Number((2*n).toFixed(5)),a=Number((r*Ot.internal.Bezier_C).toFixed(5)),s=Number((n*Ot.internal.Bezier_C).toFixed(5));return i.push("0.749023 g"),i.push("q"),i.push("1 0 0 1 "+Ua(Ot.internal.getWidth(t)/2)+" "+Ua(Ot.internal.getHeight(t)/2)+" cm"),i.push(r+" 0 m"),i.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),i.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),i.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),i.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),i.push("f"),i.push("Q"),i.push("0 g"),i.push("q"),i.push("1 0 0 1 "+Ua(Ot.internal.getWidth(t)/2)+" "+Ua(Ot.internal.getHeight(t)/2)+" cm"),i.push(n+" 0 m"),i.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),i.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),i.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),i.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),i.push("f"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Cr(t);e.scope=t.scope;var i=[],n=Ot.internal.getWidth(t)<=Ot.internal.getHeight(t)?Ot.internal.getWidth(t)/4:Ot.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var r=Number((2*n).toFixed(5)),a=Number((r*Ot.internal.Bezier_C).toFixed(5));return i.push("0.749023 g"),i.push("q"),i.push("1 0 0 1 "+Ua(Ot.internal.getWidth(t)/2)+" "+Ua(Ot.internal.getHeight(t)/2)+" cm"),i.push(r+" 0 m"),i.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),i.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),i.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),i.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),i.push("f"),i.push("Q"),e.stream=i.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ot.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ot.RadioButton.Cross.YesNormal,e.D[t]=Ot.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Cr(t);e.scope=t.scope;var i=[],n=Ot.internal.calculateCross(t);return i.push("q"),i.push("1 1 "+ie(Ot.internal.getWidth(t)-2)+" "+ie(Ot.internal.getHeight(t)-2)+" re"),i.push("W"),i.push("n"),i.push(ie(n.x1.x)+" "+ie(n.x1.y)+" m"),i.push(ie(n.x2.x)+" "+ie(n.x2.y)+" l"),i.push(ie(n.x4.x)+" "+ie(n.x4.y)+" m"),i.push(ie(n.x3.x)+" "+ie(n.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},YesPushDown:function(t){var e=Cr(t);e.scope=t.scope;var i=Ot.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+ie(Ot.internal.getWidth(t))+" "+ie(Ot.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+ie(Ot.internal.getWidth(t)-2)+" "+ie(Ot.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(ie(i.x1.x)+" "+ie(i.x1.y)+" m"),n.push(ie(i.x2.x)+" "+ie(i.x2.y)+" l"),n.push(ie(i.x4.x)+" "+ie(i.x4.y)+" m"),n.push(ie(i.x3.x)+" "+ie(i.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Cr(t);e.scope=t.scope;var i=[];return i.push("0.749023 g"),i.push("0 0 "+ie(Ot.internal.getWidth(t))+" "+ie(Ot.internal.getHeight(t))+" re"),i.push("f"),e.stream=i.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+i}};Ot.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ot.internal.getWidth(t),i=Ot.internal.getHeight(t),n=Math.min(e,i);return{x1:{x:(e-n)/2,y:(i-n)/2+n},x2:{x:(e-n)/2+n,y:(i-n)/2},x3:{x:(e-n)/2,y:(i-n)/2},x4:{x:(e-n)/2+n,y:(i-n)/2+n}}}},Ot.internal.getWidth=function(t){var e=0;return Re(t)==="object"&&(e=sx(t.Rect[2])),e},Ot.internal.getHeight=function(t){var e=0;return Re(t)==="object"&&(e=sx(t.Rect[3])),e};var oL=ui.addField=function(t){if(sL(this,t),!(t instanceof nr))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};ui.AcroFormChoiceField=Ro,ui.AcroFormListBox=Bo,ui.AcroFormComboBox=jo,ui.AcroFormEditBox=Lu,ui.AcroFormButton=Ri,ui.AcroFormPushButton=Tu,ui.AcroFormRadioButton=zo,ui.AcroFormCheckBox=Pu,ui.AcroFormTextField=Es,ui.AcroFormPasswordField=Nu,ui.AcroFormAppearance=Ot,ui.AcroForm={ChoiceField:Ro,ListBox:Bo,ComboBox:jo,EditBox:Lu,Button:Ri,PushButton:Tu,RadioButton:zo,CheckBox:Pu,TextField:Es,PasswordField:Nu,Appearance:Ot},Ft.AcroForm={ChoiceField:Ro,ListBox:Bo,ComboBox:jo,EditBox:Lu,Button:Ri,PushButton:Tu,RadioButton:zo,CheckBox:Pu,TextField:Es,PasswordField:Nu,Appearance:Ot};var ZE=Ft.AcroForm;function Nx(t){return t.reduce(function(e,i,n){return e[i]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var i="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(D,I){var W,q,et,ot,lt,nt=i;if((I=I||i)==="RGBA"||D.data!==void 0&&D.data instanceof Uint8ClampedArray&&"height"in D&&"width"in D)return"RGBA";if($(D))for(lt in n)for(et=n[lt],W=0;W<et.length;W+=1){for(ot=!0,q=0;q<et[W].length;q+=1)if(et[W][q]!==void 0&&et[W][q]!==D[q]){ot=!1;break}if(ot===!0){nt=lt;break}}else for(lt in n)for(et=n[lt],W=0;W<et.length;W+=1){for(ot=!0,q=0;q<et[W].length;q+=1)if(et[W][q]!==void 0&&et[W][q]!==D.charCodeAt(q)){ot=!1;break}if(ot===!0){nt=lt;break}}return nt===i&&I!==i&&(nt=I),nt},a=function D(I){for(var W=this.internal.write,q=this.internal.putStream,et=(0,this.internal.getFilters)();et.indexOf("FlateEncode")!==-1;)et.splice(et.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var ot=[];if(ot.push({key:"Type",value:"/XObject"}),ot.push({key:"Subtype",value:"/Image"}),ot.push({key:"Width",value:I.width}),ot.push({key:"Height",value:I.height}),I.colorSpace===w.INDEXED?ot.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(ot.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===w.DEVICE_CMYK&&ot.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ot.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&ot.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)&&I.transparency.length>0){for(var lt="",nt=0,ht=I.transparency.length;nt<ht;nt++)lt+=I.transparency[nt]+" "+I.transparency[nt]+" ";ot.push({key:"Mask",value:"["+lt+"]"})}I.sMask!==void 0&&ot.push({key:"SMask",value:I.objectId+1+" 0 R"});var kt=I.filter!==void 0?["/"+I.filter]:void 0;if(q({data:I.data,additionalKeyValues:ot,alreadyAppliedFilters:kt,objectId:I.objectId}),W("endobj"),"sMask"in I&&I.sMask!==void 0){var yt,P=(yt=I.sMaskBitsPerComponent)!==null&&yt!==void 0?yt:I.bitsPerComponent,V={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:P,data:I.sMask};"filter"in I&&(V.decodeParameters="/Predictor ".concat(I.predictor," /Colors 1 /BitsPerComponent ").concat(P," /Columns ").concat(I.width),V.filter=I.filter),D.call(this,V)}if(I.colorSpace===w.INDEXED){var H=this.internal.newObject();q({data:z(new Uint8Array(I.palette)),objectId:H}),W("endobj")}},s=function(){var D=this.internal.collections[e+"images"];for(var I in D)a.call(this,D[I])},o=function(){var D,I=this.internal.collections[e+"images"],W=this.internal.write;for(var q in I)W("/I"+(D=I[q]).index,D.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},h=function(){var D=this.internal.collections[e+"images"];return l.call(this),D},c=function(){return Object.keys(this.internal.collections[e+"images"]).length},p=function(D){return typeof t["process"+D.toUpperCase()]=="function"},g=function(D){return Re(D)==="object"&&D.nodeType===1},f=function(D,I){if(D.nodeName==="IMG"&&D.hasAttribute("src")){var W=""+D.getAttribute("src");if(W.indexOf("data:image/")===0)return Du(unescape(W).split("base64,").pop());var q=t.loadFile(W,!0);if(q!==void 0)return q}if(D.nodeName==="CANVAS"){if(D.width===0||D.height===0)throw new Error("Given canvas must have data. Canvas width: "+D.width+", height: "+D.height);var et;switch(I){case"PNG":et="image/png";break;case"WEBP":et="image/webp";break;default:et="image/jpeg"}return Du(D.toDataURL(et,1).split("base64,").pop())}},v=function(D){var I=this.internal.collections[e+"images"];if(I){for(var W in I)if(D===I[W].alias)return I[W]}},x=function(D,I,W){return D||I||(D=-96,I=-96),D<0&&(D=-1*W.width*72/D/this.internal.scaleFactor),I<0&&(I=-1*W.height*72/I/this.internal.scaleFactor),D===0&&(D=I*W.width/W.height),I===0&&(I=D*W.height/W.width),[D,I]},y=function(D,I,W,q,et,ot){var lt=x.call(this,W,q,et),nt=this.internal.getCoordinateString,ht=this.internal.getVerticalCoordinateString,kt=h.call(this);if(W=lt[0],q=lt[1],kt[et.index]=et,ot){ot*=Math.PI/180;var yt=Math.cos(ot),P=Math.sin(ot),V=function(G){return G.toFixed(4)},H=[V(yt),V(P),V(-1*P),V(yt),0,0,"cm"]}this.internal.write("q"),ot?(this.internal.write([1,"0","0",1,nt(D),ht(I+q),"cm"].join(" ")),this.internal.write(H.join(" ")),this.internal.write([nt(W),"0","0",nt(q),"0","0","cm"].join(" "))):this.internal.write([nt(W),"0","0",nt(q),nt(D),ht(I+q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+et.index+" Do"),this.internal.write("Q")},w=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var A=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},N=t.__addimage__.sHashCode=function(D){var I,W,q=0;if(typeof D=="string")for(W=D.length,I=0;I<W;I++)q=(q<<5)-q+D.charCodeAt(I),q|=0;else if($(D))for(W=D.byteLength/2,I=0;I<W;I++)q=(q<<5)-q+D[I],q|=0;return q},T=t.__addimage__.validateStringAsBase64=function(D){(D=D||"").toString().trim();var I=!0;return D.length===0&&(I=!1),D.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(D.substr(0,D.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(D.substr(-2))===!1&&(I=!1),I},F=t.__addimage__.extractImageFromDataUrl=function(D){if(D==null||!(D=D.trim()).startsWith("data:"))return null;var I=D.indexOf(",");return I<0?null:D.substring(0,I).trim().endsWith("base64")?D.substring(I+1):null};t.__addimage__.isArrayBuffer=function(D){return D instanceof ArrayBuffer};var $=t.__addimage__.isArrayBufferView=function(D){return D instanceof Int8Array||D instanceof Uint8Array||D instanceof Uint8ClampedArray||D instanceof Int16Array||D instanceof Uint16Array||D instanceof Int32Array||D instanceof Uint32Array||D instanceof Float32Array||D instanceof Float64Array},K=t.__addimage__.binaryStringToUint8Array=function(D){for(var I=D.length,W=new Uint8Array(I),q=0;q<I;q++)W[q]=D.charCodeAt(q);return W},z=t.__addimage__.arrayBufferToBinaryString=function(D){for(var I="",W=$(D)?D:new Uint8Array(D),q=0;q<W.length;q+=8192)I+=String.fromCharCode.apply(null,W.subarray(q,q+8192));return I};t.addImage=function(){var D,I,W,q,et,ot,lt,nt,ht;if(typeof arguments[1]=="number"?(I=i,W=arguments[1],q=arguments[2],et=arguments[3],ot=arguments[4],lt=arguments[5],nt=arguments[6],ht=arguments[7]):(I=arguments[1],W=arguments[2],q=arguments[3],et=arguments[4],ot=arguments[5],lt=arguments[6],nt=arguments[7],ht=arguments[8]),Re(D=arguments[0])==="object"&&!g(D)&&"imageData"in D){var kt=D;D=kt.imageData,I=kt.format||I||i,W=kt.x||W||0,q=kt.y||q||0,et=kt.w||kt.width||et,ot=kt.h||kt.height||ot,lt=kt.alias||lt,nt=kt.compression||nt,ht=kt.rotation||kt.angle||ht}var yt=this.internal.getFilters();if(nt===void 0&&yt.indexOf("FlateEncode")!==-1&&(nt="SLOW"),isNaN(W)||isNaN(q))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var P=E.call(this,D,I,lt,nt);return y.call(this,W,q,et,ot,P,ht),this};var E=function(D,I,W,q){var et,ot,lt;if(typeof D=="string"&&r(D)===i){D=unescape(D);var nt=X(D,!1);(nt!==""||(nt=t.loadFile(D,!0))!==void 0)&&(D=nt)}if(g(D)&&(D=f(D,I)),I=r(D,I),!p(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((lt=W)==null||lt.length===0)&&(W=function(ht){return typeof ht=="string"||$(ht)?N(ht):$(ht.data)?N(ht.data):null}(D)),(et=v.call(this,W))||(D instanceof Uint8Array||I==="RGBA"||(ot=D,D=K(D)),et=this["process"+I.toUpperCase()](D,c.call(this),W,function(ht){return ht&&typeof ht=="string"&&(ht=ht.toUpperCase()),ht in t.image_compression?ht:A.NONE}(q),ot)),!et)throw new Error("An unknown error occurred whilst processing the image.");return et},X=t.__addimage__.convertBase64ToBinaryString=function(D,I){I=typeof I!="boolean"||I;var W,q="";if(typeof D=="string"){var et;W=(et=F(D))!==null&&et!==void 0?et:D;try{q=Du(W)}catch(ot){if(I)throw T(W)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ot.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return q};t.getImageProperties=function(D){var I,W,q="";if(g(D)&&(D=f(D)),typeof D=="string"&&r(D)===i&&((q=X(D,!1))===""&&(q=t.loadFile(D)||""),D=q),W=r(D),!p(W))throw new Error("addImage does not support files of type '"+W+"', please ensure that a plugin for '"+W+"' support is added.");if(D instanceof Uint8Array||(D=K(D)),!(I=this["process"+W.toUpperCase()](D)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=W,I}})(Ft.API),function(t){var e=function(i){if(i!==void 0&&i!="")return!0};Ft.API.events.push(["addPage",function(i){this.internal.getPageInfo(i.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(i){for(var n,r,a,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(i.objId),h=i.pageContext.annotations,c=!1,p=0;p<h.length&&!c;p++)switch((n=h[p]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var g=0;g<h.length;g++){n=h[g];var f=this.internal.pdfEscape,v=this.internal.getEncryptor(i.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(x.objId),A=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(r="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+f(w(n.contents))+")",a+=" /Popup "+y.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+f(w(A))+") >>",x.content=a;var N=x.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+N,n.open&&(a+=" /Open true"),a+=" >>",y.content=a,this.internal.write(x.objId,"0 R",y.objId,"0 R");break;case"freetext":r="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var T=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+f(v(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+T+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var F=this.annotations._nameMap[n.options.name];n.options.pageNumber=F.page,n.options.top=F.y}else n.options.top||(n.options.top=0);if(r="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+f(v(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var $=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+$+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(i){var n=this.internal.getCurrentPageInfo();switch(i.type){case"link":this.link(i.bounds.x,i.bounds.y,i.bounds.w,i.bounds.h,i);break;case"text":case"freetext":n.pageContext.annotations.push(i)}},t.link=function(i,n,r,a,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(i),y:h(n),w:l(i+r),h:h(n+a)},options:s,type:"link"})},t.textWithLink=function(i,n,r,a){var s,o,l=this.getTextWidth(i),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var c=this.splitTextToSize(i,o).length;s=Math.ceil(h*c)}else o=l,s=h;return this.text(i,n,r,a),r+=.2*h,a.align==="center"&&(n-=l/2),a.align==="right"&&(n-=l),this.link(n,r-h,o,s,a),l},t.getTextWidth=function(i){var n=this.internal.getFontSize();return this.getStringUnitWidth(i)*n/this.internal.scaleFactor}}(Ft.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},i={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(x){return e[x.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},o=t.__arabicParser__.isArabicEndLetter=function(x){return s(x)&&a(x)&&e[x.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(x){return s(x)&&r.indexOf(x.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return s(x)&&a(x)&&e[x.charCodeAt(0)].length>=1};var h=t.__arabicParser__.arabicLetterHasFinalForm=function(x){return s(x)&&a(x)&&e[x.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(x){return s(x)&&a(x)&&e[x.charCodeAt(0)].length>=3};var c=t.__arabicParser__.arabicLetterHasMedialForm=function(x){return s(x)&&a(x)&&e[x.charCodeAt(0)].length==4},p=t.__arabicParser__.resolveLigatures=function(x){var y=0,w=i,A="",N=0;for(y=0;y<x.length;y+=1)w[x.charCodeAt(y)]!==void 0?(N++,typeof(w=w[x.charCodeAt(y)])=="number"&&(A+=String.fromCharCode(w),w=i,N=0),y===x.length-1&&(w=i,A+=x.charAt(y-(N-1)),y-=N-1,N=0)):(w=i,A+=x.charAt(y-N),y-=N,N=0);return A};t.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&n[x.charCodeAt(0)]!==void 0};var g=t.__arabicParser__.getCorrectForm=function(x,y,w){return s(x)?a(x)===!1?-1:!h(x)||!s(y)&&!s(w)||!s(w)&&o(y)||o(x)&&!s(y)||o(x)&&l(y)||o(x)&&o(y)?0:c(x)&&s(y)&&!o(y)&&s(w)&&h(w)?3:o(x)||!s(w)?1:2:-1},f=function(x){var y=0,w=0,A=0,N="",T="",F="",$=(x=x||"").split("\\s+"),K=[];for(y=0;y<$.length;y+=1){for(K.push(""),w=0;w<$[y].length;w+=1)N=$[y][w],T=$[y][w-1],F=$[y][w+1],s(N)?(A=g(N,T,F),K[y]+=A!==-1?String.fromCharCode(e[N.charCodeAt(0)][A]):N):K[y]+=N;K[y]=p(K[y])}return K.join(" ")},v=t.__arabicParser__.processArabic=t.processArabic=function(){var x,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(y)){var A=0;for(w=[],A=0;A<y.length;A+=1)Array.isArray(y[A])?w.push([f(y[A][0]),y[A][1],y[A][2]]):w.push([f(y[A])]);x=w}else x=f(y);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};t.events.push(["preProcessText",v])}(Ft.API),Ft.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var i=void 0;Object.defineProperty(this,"pdf",{get:function(){return i},set:function(o){i=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(i,n){var r;if((i=i||"2d")!=="2d")return null;for(r in n)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=n[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Ft.API),function(t){var e={left:0,top:0,bottom:0,right:0},i=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(x){l=x}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(x){p=x}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(x){g=x}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(x){v=x}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,h){n.call(this);var c=(h=h||{}).fontSize||this.getFontSize(),p=h.font||this.getFont(),g=h.scaleFactor||this.internal.scaleFactor,f=0,v=0,x=0,y=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=h.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(N,T){return N.concat(y.splitTextToSize(T,w))},[])):l=Array.isArray(l)?l:[l];for(var A=0;A<l.length;A++)f<(x=this.getStringUnitWidth(l[A],{font:p})*c)&&(f=x);return f!==0&&(v=l.length),{w:f/=g,h:Math.max((v*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var h=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===l.lineNumber?(l.x=(h.x||0)+(h.width||0),l.y=h.y||0):h.y+h.height+l.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=p.top,f&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=h.y+h.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,i===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};t.table=function(l,h,c,p,g){if(n.call(this),!c)throw new Error("No data for PDF table.");var f,v,x,y,w=[],A=[],N=[],T={},F={},$=[],K=[],z=(g=g||{}).autoSize||!1,E=g.printHeaders!==!1,X=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,D=g.margins||Object.assign({width:this.getPageWidth()},e),I=typeof g.padding=="number"?g.padding:3,W=g.headerBackgroundColor||"#c8c8c8",q=g.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=E,this.internal.__cell__.margins=D,this.internal.__cell__.table_font_size=X,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=W,this.internal.__cell__.headerTextColor=q,this.setFontSize(X),p==null)A=w=Object.keys(c[0]),N=w.map(function(){return"left"});else if(Array.isArray(p)&&Re(p[0])==="object")for(w=p.map(function(kt){return kt.name}),A=p.map(function(kt){return kt.prompt||kt.name||""}),N=p.map(function(kt){return kt.align||"left"}),f=0;f<p.length;f+=1)F[p[f].name]=.7499990551181103*p[f].width;else Array.isArray(p)&&typeof p[0]=="string"&&(A=w=p,N=w.map(function(){return"left"}));if(z||Array.isArray(p)&&typeof p[0]=="string")for(f=0;f<w.length;f+=1){for(T[y=w[f]]=c.map(function(kt){return kt[y]}),this.setFont(void 0,"bold"),$.push(this.getTextDimensions(A[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=T[y],this.setFont(void 0,"normal"),x=0;x<v.length;x+=1)$.push(this.getTextDimensions(v[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);F[y]=Math.max.apply(null,$)+I+I,$=[]}if(E){var et={};for(f=0;f<w.length;f+=1)et[w[f]]={},et[w[f]].text=A[f],et[w[f]].align=N[f];var ot=o.call(this,et,F);K=w.map(function(kt){return new a(l,h,F[kt],ot,et[kt].text,void 0,et[kt].align)}),this.setTableHeaderRow(K),this.printHeaderRow(1,!1)}var lt=p.reduce(function(kt,yt){return kt[yt.name]=yt.align,kt},{});for(f=0;f<c.length;f+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:f,data:c[f]},this);var nt=o.call(this,c[f],F);for(x=0;x<w.length;x+=1){var ht=c[f][w[x]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:f,col:x,data:ht},this),s.call(this,new a(l,h,F[w[x]],nt,ht,f+2,lt[w[x]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=h,this};var o=function(l,h){var c=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(f){var v=l[f];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,h[f]-c-c)},this).map(function(f){return this.getLineHeightFactor()*f.length*p/g+c+c},this).reduce(function(f,v){return Math.max(f,v)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,h){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(i=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){c=this.internal.__cell__.tableHeaderRow[f].clone(),h&&(c.y=this.internal.__cell__.margins.top||0,g.push(c)),c.lineNumber=l;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,c),this.setTextColor(v)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),i=!1}}(Ft.API);var Mx={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Ix=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Zp=Nx(Ix),Ox=[100,200,300,400,500,600,700,800,900],lL=Nx(Ox);function Up(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),i=function(a){return Mx[a=a||"normal"]?a:"normal"}(t.style),n=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(t.weight),r=function(a){return typeof Zp[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:e,style:i,weight:n,stretch:r,src:t.src||[],ref:t.ref||{name:e,style:[r,i,n].join(" ")}}}function ox(t,e,i,n){var r;for(r=i;r>=0&&r<e.length;r+=n)if(t[e[r]])return t[e[r]];for(r=i;r>=0&&r<e.length;r-=n)if(t[e[r]])return t[e[r]]}var hL={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},lx={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function hx(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function cx(t){return t.trimLeft()}function cL(t,e){for(var i=0;i<t.length;){if(t.charAt(i)===e)return[t.substring(0,i),t.substring(i+1)];i+=1}return null}function uL(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Au,ux,fx,Io,ku,dx,px,gx,Hp=["times"];function mx(t,e,i,n,r){var a=4,s=vx;switch(r){case Ft.API.image_compression.FAST:a=1,s=bx;break;case Ft.API.image_compression.MEDIUM:a=6,s=xx;break;case Ft.API.image_compression.SLOW:a=9,s=_x}t=function(l,h,c,p){for(var g,f=l.length/h,v=new Uint8Array(l.length+f),x=[fL,bx,vx,xx,_x],y=0;y<f;y+=1){var w=y*h,A=l.subarray(w,w+h);if(p)v.set(p(A,c,g),w+y);else{for(var N=x.length,T=[],F=0;F<N;F+=1)T[F]=x[F](A,c,g);var $=pL(T.concat());v.set(T[$],w+y)}g=A}return v}(t,e,Math.ceil(i*n/8),s);var o=eu(t,{level:a});return Ft.API.__addimage__.arrayBufferToBinaryString(o)}function fL(t){var e=Array.apply([],t);return e.unshift(0),e}function bx(t,e){var i=t.length,n=[];n[0]=1;for(var r=0;r<i;r+=1){var a=t[r-e]||0;n[r+1]=t[r]-a+256&255}return n}function vx(t,e,i){var n=t.length,r=[];r[0]=2;for(var a=0;a<n;a+=1){var s=i&&i[a]||0;r[a+1]=t[a]-s+256&255}return r}function xx(t,e,i){var n=t.length,r=[];r[0]=3;for(var a=0;a<n;a+=1){var s=t[a-e]||0,o=i&&i[a]||0;r[a+1]=t[a]+256-(s+o>>>1)&255}return r}function _x(t,e,i){var n=t.length,r=[];r[0]=4;for(var a=0;a<n;a+=1){var s=dL(t[a-e]||0,i&&i[a]||0,i&&i[a-e]||0);r[a+1]=t[a]-s+256&255}return r}function dL(t,e,i){if(t===e&&e===i)return t;var n=Math.abs(e-i),r=Math.abs(t-i),a=Math.abs(t+e-i-i);return n<=r&&n<=a?t:r<=a?e:i}function pL(t){var e=t.map(function(i){return i.reduce(function(n,r){return n+Math.abs(r)},0)});return e.indexOf(Math.min.apply(null,e))}function qp(t,e,i){var n=e*i,r=Math.floor(n/8),a=16-(n-8*r+i),s=(1<<i)-1;return Ex(t,r)>>a&s}function yx(t,e,i,n){var r=i*n,a=Math.floor(r/8),s=16-(r-8*a+n),o=(1<<n)-1,l=(e&o)<<s;(function(h,c,p){if(c+1<h.byteLength)h.setUint16(c,p,!1);else{var g=p>>8&255;h.setUint8(c,g)}})(t,a,Ex(t,a)&~(o<<s)&65535|l)}function Ex(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function gL(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var i=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,r=t[e++],a=r>>7,s=1<<1+(7&r);t[e++],t[e++];var o=null,l=null;a&&(o=e,l=s,e+=3*s);var h=!0,c=[],p=0,g=null,f=0,v=null;for(this.width=i,this.height=n;h&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,v=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var x=t[e++];p=t[e++]|t[e++]<<8,g=t[e++],1&x||(g=null),f=x>>2&7,e++;break;case 254:for(;;){if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var y=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,A=t[e++]|t[e++]<<8,N=t[e++]|t[e++]<<8,T=t[e++],F=T>>6&1,$=1<<1+(7&T),K=o,z=l,E=!1;T>>7&&(E=!0,K=e,z=$,e+=3*$);var X=e;for(e++;;){var D;if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}c.push({x:y,y:w,width:A,height:N,has_local_palette:E,palette_offset:K,palette_size:z,data_offset:X,data_length:e-X,transparent_index:g,interlaced:!!F,delay:p,disposal:f});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return v},this.frameInfo=function(I){if(I<0||I>=c.length)throw new Error("Frame index out of range.");return c[I]},this.decodeAndBlitFrameBGRA=function(I,W){var q=this.frameInfo(I),et=q.width*q.height,ot=new Uint8Array(et);wx(t,q.data_offset,ot,et);var lt=q.palette_offset,nt=q.transparent_index;nt===null&&(nt=256);var ht=q.width,kt=i-ht,yt=ht,P=4*(q.y*i+q.x),V=4*((q.y+q.height)*i+q.x),H=P,G=4*kt;q.interlaced===!0&&(G+=4*i*7);for(var Q=8,st=0,ft=ot.length;st<ft;++st){var ct=ot[st];if(yt===0&&(yt=ht,(H+=G)>=V&&(G=4*kt+4*i*(Q-1),H=P+(ht+kt)*(Q<<1),Q>>=1)),ct===nt)H+=4;else{var _t=t[lt+3*ct],At=t[lt+3*ct+1],Nt=t[lt+3*ct+2];W[H++]=Nt,W[H++]=At,W[H++]=_t,W[H++]=255}--yt}},this.decodeAndBlitFrameRGBA=function(I,W){var q=this.frameInfo(I),et=q.width*q.height,ot=new Uint8Array(et);wx(t,q.data_offset,ot,et);var lt=q.palette_offset,nt=q.transparent_index;nt===null&&(nt=256);var ht=q.width,kt=i-ht,yt=ht,P=4*(q.y*i+q.x),V=4*((q.y+q.height)*i+q.x),H=P,G=4*kt;q.interlaced===!0&&(G+=4*i*7);for(var Q=8,st=0,ft=ot.length;st<ft;++st){var ct=ot[st];if(yt===0&&(yt=ht,(H+=G)>=V&&(G=4*kt+4*i*(Q-1),H=P+(ht+kt)*(Q<<1),Q>>=1)),ct===nt)H+=4;else{var _t=t[lt+3*ct],At=t[lt+3*ct+1],Nt=t[lt+3*ct+2];W[H++]=_t,W[H++]=At,W[H++]=Nt,W[H++]=255}--yt}}}function wx(t,e,i,n){for(var r=t[e++],a=1<<r,s=a+1,o=s+1,l=r+1,h=(1<<l)-1,c=0,p=0,g=0,f=t[e++],v=new Int32Array(4096),x=null;;){for(;c<16&&f!==0;)p|=t[e++]<<c,c+=8,f===1?f=t[e++]:--f;if(c<l)break;var y=p&h;if(p>>=l,c-=l,y!==a){if(y===s)break;for(var w=y<o?y:x,A=0,N=w;N>a;)N=v[N]>>8,++A;var T=N;if(g+A+(w!==y?1:0)>n)return void qe.log("Warning, gif stream longer than expected.");i[g++]=T;var F=g+=A;for(w!==y&&(i[g++]=T),N=w;A--;)N=v[N],i[--F]=255&N,N>>=8;x!==null&&o<4096&&(v[o++]=x<<8|T,o>=h+1&&l<12&&(++l,h=h<<1|1)),x=y}else o=s+1,h=(1<<(l=r+1))-1,x=null}return g!==n&&qe.log("Warning, gif stream shorter than expected."),i}function Wp(t){var e,i,n,r,a,s=Math.floor,o=new Array(64),l=new Array(64),h=new Array(64),c=new Array(64),p=new Array(65535),g=new Array(65535),f=new Array(64),v=new Array(64),x=[],y=0,w=7,A=new Array(64),N=new Array(64),T=new Array(64),F=new Array(256),$=new Array(2048),K=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],z=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],D=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],W=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],et=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ot(P,V){for(var H=0,G=0,Q=new Array,st=1;st<=16;st++){for(var ft=1;ft<=P[st];ft++)Q[V[G]]=[],Q[V[G]][0]=H,Q[V[G]][1]=st,G++,H++;H*=2}return Q}function lt(P){for(var V=P[0],H=P[1]-1;H>=0;)V&1<<H&&(y|=1<<w),H--,--w<0&&(y==255?(nt(255),nt(0)):nt(y),w=7,y=0)}function nt(P){x.push(P)}function ht(P){nt(P>>8&255),nt(255&P)}function kt(P,V,H,G,Q){for(var st,ft=Q[0],ct=Q[240],_t=function(Dt,Ut){var Pt,ce,Wt,Ce,ne,re,Oe,ue,Ht,Zt,qt=0;for(Ht=0;Ht<8;++Ht){Pt=Dt[qt],ce=Dt[qt+1],Wt=Dt[qt+2],Ce=Dt[qt+3],ne=Dt[qt+4],re=Dt[qt+5],Oe=Dt[qt+6];var We=Pt+(ue=Dt[qt+7]),Ae=Pt-ue,zt=ce+Oe,ae=ce-Oe,Be=Wt+re,Yt=Wt-re,be=Ce+ne,se=Ce-ne,fi=We+be,ki=We-be,je=zt+Be,Jt=zt-Be;Dt[qt]=fi+je,Dt[qt+4]=fi-je;var Te=.707106781*(Jt+ki);Dt[qt+2]=ki+Te,Dt[qt+6]=ki-Te;var Wa=.382683433*((fi=se+Yt)-(Jt=ae+Ae)),Gi=.5411961*fi+Wa,Dr=1.306562965*Jt+Wa,ar=.707106781*(je=Yt+ae),Gt=Ae+ar,Lr=Ae-ar;Dt[qt+5]=Lr+Gi,Dt[qt+3]=Lr-Gi,Dt[qt+1]=Gt+Dr,Dt[qt+7]=Gt-Dr,qt+=8}for(qt=0,Ht=0;Ht<8;++Ht){Pt=Dt[qt],ce=Dt[qt+8],Wt=Dt[qt+16],Ce=Dt[qt+24],ne=Dt[qt+32],re=Dt[qt+40],Oe=Dt[qt+48];var Tr=Pt+(ue=Dt[qt+56]),Mn=Pt-ue,In=ce+Oe,ri=ce-Oe,Ei=Wt+re,Bi=Wt-re,$a=Ce+ne,ia=Ce-ne,$n=Tr+$a,sr=Tr-$a,Yn=In+Ei,Gn=In-Ei;Dt[qt]=$n+Yn,Dt[qt+32]=$n-Yn;var On=.707106781*(Gn+sr);Dt[qt+16]=sr+On,Dt[qt+48]=sr-On;var Ya=.382683433*(($n=ia+Bi)-(Gn=ri+Mn)),or=.5411961*$n+Ya,Ga=1.306562965*Gn+Ya,Rs=.707106781*(Yn=Bi+ri),Bs=Mn+Rs,js=Mn-Rs;Dt[qt+40]=js+or,Dt[qt+24]=js-or,Dt[qt+8]=Bs+Ga,Dt[qt+56]=Bs-Ga,qt++}for(Ht=0;Ht<64;++Ht)Zt=Dt[Ht]*Ut[Ht],f[Ht]=Zt>0?Zt+.5|0:Zt-.5|0;return f}(P,V),At=0;At<64;++At)v[K[At]]=_t[At];var Nt=v[0]-H;H=v[0],Nt==0?lt(G[0]):(lt(G[g[st=32767+Nt]]),lt(p[st]));for(var Mt=63;Mt>0&&v[Mt]==0;)Mt--;if(Mt==0)return lt(ft),H;for(var pt,U=1;U<=Mt;){for(var me=U;v[U]==0&&U<=Mt;)++U;var he=U-me;if(he>=16){pt=he>>4;for(var $t=1;$t<=pt;++$t)lt(ct);he&=15}st=32767+v[U],lt(Q[(he<<4)+g[st]]),lt(p[st]),U++}return Mt!=63&&lt(ft),H}function yt(P){P=Math.min(Math.max(P,1),100),a!=P&&(function(V){for(var H=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],G=0;G<64;G++){var Q=s((H[G]*V+50)/100);Q=Math.min(Math.max(Q,1),255),o[K[G]]=Q}for(var st=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ft=0;ft<64;ft++){var ct=s((st[ft]*V+50)/100);ct=Math.min(Math.max(ct,1),255),l[K[ft]]=ct}for(var _t=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],At=0,Nt=0;Nt<8;Nt++)for(var Mt=0;Mt<8;Mt++)h[At]=1/(o[K[At]]*_t[Nt]*_t[Mt]*8),c[At]=1/(l[K[At]]*_t[Nt]*_t[Mt]*8),At++}(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),a=P)}this.encode=function(P,V){V&&yt(V),x=new Array,y=0,w=7,ht(65496),ht(65504),ht(16),nt(74),nt(70),nt(73),nt(70),nt(0),nt(1),nt(1),nt(0),ht(1),ht(1),nt(0),nt(0),function(){ht(65499),ht(132),nt(0);for(var ce=0;ce<64;ce++)nt(o[ce]);nt(1);for(var Wt=0;Wt<64;Wt++)nt(l[Wt])}(),function(ce,Wt){ht(65472),ht(17),nt(8),ht(Wt),ht(ce),nt(3),nt(1),nt(17),nt(0),nt(2),nt(17),nt(1),nt(3),nt(17),nt(1)}(P.width,P.height),function(){ht(65476),ht(418),nt(0);for(var ce=0;ce<16;ce++)nt(z[ce+1]);for(var Wt=0;Wt<=11;Wt++)nt(E[Wt]);nt(16);for(var Ce=0;Ce<16;Ce++)nt(X[Ce+1]);for(var ne=0;ne<=161;ne++)nt(D[ne]);nt(1);for(var re=0;re<16;re++)nt(I[re+1]);for(var Oe=0;Oe<=11;Oe++)nt(W[Oe]);nt(17);for(var ue=0;ue<16;ue++)nt(q[ue+1]);for(var Ht=0;Ht<=161;Ht++)nt(et[Ht])}(),ht(65498),ht(12),nt(3),nt(1),nt(0),nt(2),nt(17),nt(3),nt(17),nt(0),nt(63),nt(0);var H=0,G=0,Q=0;y=0,w=7,this.encode.displayName="_encode_";for(var st,ft,ct,_t,At,Nt,Mt,pt,U,me=P.data,he=P.width,$t=P.height,Dt=4*he,Ut=0;Ut<$t;){for(st=0;st<Dt;){for(At=Dt*Ut+st,Mt=-1,pt=0,U=0;U<64;U++)Nt=At+(pt=U>>3)*Dt+(Mt=4*(7&U)),Ut+pt>=$t&&(Nt-=Dt*(Ut+1+pt-$t)),st+Mt>=Dt&&(Nt-=st+Mt-Dt+4),ft=me[Nt++],ct=me[Nt++],_t=me[Nt++],A[U]=($[ft]+$[ct+256|0]+$[_t+512|0]>>16)-128,N[U]=($[ft+768|0]+$[ct+1024|0]+$[_t+1280|0]>>16)-128,T[U]=($[ft+1280|0]+$[ct+1536|0]+$[_t+1792|0]>>16)-128;H=kt(A,h,H,e,n),G=kt(N,c,G,i,r),Q=kt(T,c,Q,i,r),st+=32}Ut+=8}if(w>=0){var Pt=[];Pt[1]=w+1,Pt[0]=(1<<w+1)-1,lt(Pt)}return ht(65497),new Uint8Array(x)},t=t||50,function(){for(var P=String.fromCharCode,V=0;V<256;V++)F[V]=P(V)}(),e=ot(z,E),i=ot(I,W),n=ot(X,D),r=ot(q,et),function(){for(var P=1,V=2,H=1;H<=15;H++){for(var G=P;G<V;G++)g[32767+G]=H,p[32767+G]=[],p[32767+G][1]=H,p[32767+G][0]=G;for(var Q=-(V-1);Q<=-P;Q++)g[32767+Q]=H,p[32767+Q]=[],p[32767+Q][1]=H,p[32767+Q][0]=V-1+Q;P<<=1,V<<=1}}(),function(){for(var P=0;P<256;P++)$[P]=19595*P,$[P+256|0]=38470*P,$[P+512|0]=7471*P+32768,$[P+768|0]=-11059*P,$[P+1024|0]=-21709*P,$[P+1280|0]=32768*P+8421375,$[P+1536|0]=-27439*P,$[P+1792|0]=-5329*P}(),yt(t)}function ir(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Sx(t){function e(E){if(!E)throw Error("assert :P")}function i(E,X,D){for(var I=0;4>I;I++)if(E[X+I]!=D.charCodeAt(I))return!0;return!1}function n(E,X,D,I,W){for(var q=0;q<W;q++)E[X+q]=D[I+q]}function r(E,X,D,I){for(var W=0;W<I;W++)E[X+W]=D}function a(E){return new Int32Array(E)}function s(E,X){for(var D=[],I=0;I<E;I++)D.push(new X);return D}function o(E,X){var D=[];return function I(W,q,et){for(var ot=et[q],lt=0;lt<ot&&(W.push(et.length>q+1?[]:new X),!(et.length<q+1));lt++)I(W[lt],q+1,et)}(D,0,E),D}var l=function(){var E=this;function X(u,d){for(var b=1<<d-1>>>0;u&b;)b>>>=1;return b?(u&b-1)+b:u}function D(u,d,b,_,C){e(!(_%b));do u[d+(_-=b)]=C;while(0<_)}function I(u,d,b,_,C){if(e(2328>=C),512>=C)var k=a(512);else if((k=a(C))==null)return 0;return function(L,M,O,R,Z,at){var B,J,it=M,gt=1<<O,rt=a(16),mt=a(16);for(e(Z!=0),e(R!=null),e(L!=null),e(0<O),J=0;J<Z;++J){if(15<R[J])return 0;++rt[R[J]]}if(rt[0]==Z)return 0;for(mt[1]=0,B=1;15>B;++B){if(rt[B]>1<<B)return 0;mt[B+1]=mt[B]+rt[B]}for(J=0;J<Z;++J)B=R[J],0<R[J]&&(at[mt[B]++]=J);if(mt[15]==1)return(R=new W).g=0,R.value=at[0],D(L,it,1,gt,R),gt;var vt,Ct=-1,wt=gt-1,Vt=0,It=1,fe=1,Rt=1<<O;for(J=0,B=1,Z=2;B<=O;++B,Z<<=1){if(It+=fe<<=1,0>(fe-=rt[B]))return 0;for(;0<rt[B];--rt[B])(R=new W).g=B,R.value=at[J++],D(L,it+Vt,Z,Rt,R),Vt=X(Vt,B)}for(B=O+1,Z=2;15>=B;++B,Z<<=1){if(It+=fe<<=1,0>(fe-=rt[B]))return 0;for(;0<rt[B];--rt[B]){if(R=new W,(Vt&wt)!=Ct){for(it+=Rt,vt=1<<(Ct=B)-O;15>Ct&&!(0>=(vt-=rt[Ct]));)++Ct,vt<<=1;gt+=Rt=1<<(vt=Ct-O),L[M+(Ct=Vt&wt)].g=vt+O,L[M+Ct].value=it-M-Ct}R.g=B-O,R.value=at[J++],D(L,it+(Vt>>O),Z,Rt,R),Vt=X(Vt,B)}}return It!=2*mt[15]-1?0:gt}(u,d,b,_,C,k)}function W(){this.value=this.g=0}function q(){this.value=this.g=0}function et(){this.G=s(5,W),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(us,q)}function ot(u,d,b,_){e(u!=null),e(d!=null),e(2147483648>_),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=d,u.pa=b,u.Jd=d,u.Yc=b+_,u.Zc=4<=_?b+_-4+1:b,ft(u)}function lt(u,d){for(var b=0;0<d--;)b|=_t(u,128)<<d;return b}function nt(u,d){var b=lt(u,d);return ct(u)?-b:b}function ht(u,d,b,_){var C,k=0;for(e(u!=null),e(d!=null),e(4294967288>_),u.Sb=_,u.Ra=0,u.u=0,u.h=0,4<_&&(_=4),C=0;C<_;++C)k+=d[b+C]<<8*C;u.Ra=k,u.bb=_,u.oa=d,u.pa=b}function kt(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<oa-8>>>0,++u.bb,u.u-=8;G(u)&&(u.h=1,u.u=0)}function yt(u,d){if(e(0<=d),!u.h&&d<=vn){var b=H(u)&bn[d];return u.u+=d,kt(u),b}return u.h=1,u.u=0}function P(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function V(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(u){return u.Ra>>>(u.u&oa-1)>>>0}function G(u){return e(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>oa}function Q(u,d){u.u=d,u.h=G(u)}function st(u){u.u>=Fr&&(e(u.u>=Fr),kt(u))}function ft(u){e(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(e(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function ct(u){return lt(u,1)}function _t(u,d){var b=u.Ca;0>u.b&&ft(u);var _=u.b,C=b*d>>>8,k=(u.I>>>_>C)+0;for(k?(b-=C,u.I-=C+1<<_>>>0):b=C+1,_=b,C=0;256<=_;)C+=8,_>>=8;return _=7^C+la[_],u.b-=_,u.Ca=(b<<_)-1,k}function At(u,d,b){u[d+0]=b>>24&255,u[d+1]=b>>16&255,u[d+2]=b>>8&255,u[d+3]=255&b}function Nt(u,d){return u[d+0]|u[d+1]<<8}function Mt(u,d){return Nt(u,d)|u[d+2]<<16}function pt(u,d){return Nt(u,d)|Nt(u,d+2)<<16}function U(u,d){var b=1<<d;return e(u!=null),e(0<d),u.X=a(b),u.X==null?0:(u.Mb=32-d,u.Xa=d,1)}function me(u,d){e(u!=null),e(d!=null),e(u.Xa==d.Xa),n(d.X,0,u.X,0,1<<d.Xa)}function he(){this.X=[],this.Xa=this.Mb=0}function $t(u,d,b,_){e(b!=null),e(_!=null);var C=b[0],k=_[0];return C==0&&(C=(u*k+d/2)/d),k==0&&(k=(d*C+u/2)/u),0>=C||0>=k?0:(b[0]=C,_[0]=k,1)}function Dt(u,d){return u+(1<<d)-1>>>d}function Ut(u,d){return((4278255360&u)+(4278255360&d)>>>0&4278255360)+((16711935&u)+(16711935&d)>>>0&16711935)>>>0}function Pt(u,d){E[d]=function(b,_,C,k,L,M,O){var R;for(R=0;R<L;++R){var Z=E[u](M[O+R-1],C,k+R);M[O+R]=Ut(b[_+R],Z)}}}function ce(){this.ud=this.hd=this.jd=0}function Wt(u,d){return((4278124286&(u^d))>>>1)+(u&d)>>>0}function Ce(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function ne(u,d){return Ce(u+(u-d+.5>>1))}function re(u,d,b){return Math.abs(d-b)-Math.abs(u-b)}function Oe(u,d,b,_,C,k,L){for(_=k[L-1],b=0;b<C;++b)k[L+b]=_=Ut(u[d+b],_)}function ue(u,d,b,_,C){var k;for(k=0;k<b;++k){var L=u[d+k],M=L>>8&255,O=16711935&(O=(O=16711935&L)+((M<<16)+M));_[C+k]=(4278255360&L)+O>>>0}}function Ht(u,d){d.jd=255&u,d.hd=u>>8&255,d.ud=u>>16&255}function Zt(u,d,b,_,C,k){var L;for(L=0;L<_;++L){var M=d[b+L],O=M>>>8,R=M,Z=255&(Z=(Z=M>>>16)+((u.jd<<24>>24)*(O<<24>>24)>>>5));R=255&(R=(R+=(u.hd<<24>>24)*(O<<24>>24)>>>5)+((u.ud<<24>>24)*(Z<<24>>24)>>>5)),C[k+L]=(4278255360&M)+(Z<<16)+R}}function qt(u,d,b,_,C){E[d]=function(k,L,M,O,R,Z,at,B,J){for(O=at;O<B;++O)for(at=0;at<J;++at)R[Z++]=C(M[_(k[L++])])},E[u]=function(k,L,M,O,R,Z,at){var B=8>>k.b,J=k.Ea,it=k.K[0],gt=k.w;if(8>B)for(k=(1<<k.b)-1,gt=(1<<B)-1;L<M;++L){var rt,mt=0;for(rt=0;rt<J;++rt)rt&k||(mt=_(O[R++])),Z[at++]=C(it[mt&gt]),mt>>=B}else E["VP8LMapColor"+b](O,R,it,gt,Z,at,L,M,J)}}function We(u,d,b,_,C){for(b=d+b;d<b;){var k=u[d++];_[C++]=k>>16&255,_[C++]=k>>8&255,_[C++]=255&k}}function Ae(u,d,b,_,C){for(b=d+b;d<b;){var k=u[d++];_[C++]=k>>16&255,_[C++]=k>>8&255,_[C++]=255&k,_[C++]=k>>24&255}}function zt(u,d,b,_,C){for(b=d+b;d<b;){var k=(L=u[d++])>>16&240|L>>12&15,L=240&L|L>>28&15;_[C++]=k,_[C++]=L}}function ae(u,d,b,_,C){for(b=d+b;d<b;){var k=(L=u[d++])>>16&248|L>>13&7,L=L>>5&224|L>>3&31;_[C++]=k,_[C++]=L}}function Be(u,d,b,_,C){for(b=d+b;d<b;){var k=u[d++];_[C++]=255&k,_[C++]=k>>8&255,_[C++]=k>>16&255}}function Yt(u,d,b,_,C,k){if(k==0)for(b=d+b;d<b;)At(_,((k=u[d++])[0]>>24|k[1]>>8&65280|k[2]<<8&16711680|k[3]<<24)>>>0),C+=32;else n(_,C,u,d,b)}function be(u,d){E[d][0]=E[u+"0"],E[d][1]=E[u+"1"],E[d][2]=E[u+"2"],E[d][3]=E[u+"3"],E[d][4]=E[u+"4"],E[d][5]=E[u+"5"],E[d][6]=E[u+"6"],E[d][7]=E[u+"7"],E[d][8]=E[u+"8"],E[d][9]=E[u+"9"],E[d][10]=E[u+"10"],E[d][11]=E[u+"11"],E[d][12]=E[u+"12"],E[d][13]=E[u+"13"],E[d][14]=E[u+"0"],E[d][15]=E[u+"0"]}function se(u){return u==af||u==sf||u==zh||u==of}function fi(){this.eb=[],this.size=this.A=this.fb=0}function ki(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function je(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new fi,this.f.kb=new ki,this.sd=null}function Jt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Te(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Wa(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function Gi(u,d){var b=u.T,_=d.ba.f.RGBA,C=_.eb,k=_.fb+u.ka*_.A,L=zn[d.ba.S],M=u.y,O=u.O,R=u.f,Z=u.N,at=u.ea,B=u.W,J=d.cc,it=d.dc,gt=d.Mc,rt=d.Nc,mt=u.ka,vt=u.ka+u.T,Ct=u.U,wt=Ct+1>>1;for(mt==0?L(M,O,null,null,R,Z,at,B,R,Z,at,B,C,k,null,null,Ct):(L(d.ec,d.fc,M,O,J,it,gt,rt,R,Z,at,B,C,k-_.A,C,k,Ct),++b);mt+2<vt;mt+=2)J=R,it=Z,gt=at,rt=B,Z+=u.Rc,B+=u.Rc,k+=2*_.A,L(M,(O+=2*u.fa)-u.fa,M,O,J,it,gt,rt,R,Z,at,B,C,k-_.A,C,k,Ct);return O+=u.fa,u.j+vt<u.o?(n(d.ec,d.fc,M,O,Ct),n(d.cc,d.dc,R,Z,wt),n(d.Mc,d.Nc,at,B,wt),b--):1&vt||L(M,O,null,null,R,Z,at,B,R,Z,at,B,C,k+_.A,null,null,Ct),b}function Dr(u,d,b){var _=u.F,C=[u.J];if(_!=null){var k=u.U,L=d.ba.S,M=L==jh||L==zh;d=d.ba.f.RGBA;var O=[0],R=u.ka;O[0]=u.T,u.Kb&&(R==0?--O[0]:(--R,C[0]-=u.width),u.j+u.ka+u.T==u.o&&(O[0]=u.o-u.j-R));var Z=d.eb;R=d.fb+R*d.A,u=d0(_,C[0],u.width,k,O,Z,R+(M?0:3),d.A),e(b==O),u&&se(L)&&cl(Z,R,M,k,O,d.A)}return 0}function ar(u){var d=u.ma,b=d.ba.S,_=11>b,C=b==Rh||b==Bh||b==jh||b==rf||b==12||se(b);if(d.memory=null,d.Ib=null,d.Jb=null,d.Nd=null,!il(d.Oa,u,C?11:12))return 0;if(C&&se(b)&&Nh(),u.da)alert("todo:use_scaling");else{if(_){if(d.Ib=Wa,u.Kb){if(b=u.U+1>>1,d.memory=a(u.U+2*b),d.memory==null)return 0;d.ec=d.memory,d.fc=0,d.cc=d.ec,d.dc=d.fc+u.U,d.Mc=d.cc,d.Nc=d.dc+b,d.Ib=Gi,Nh()}}else alert("todo:EmitYUV");C&&(d.Jb=Dr,_&&Fn())}if(_&&!P0){for(u=0;256>u;++u)S_[u]=89858*(u-128)+Uh>>Vh,k_[u]=-22014*(u-128)+Uh,A_[u]=-45773*(u-128),C_[u]=113618*(u-128)+Uh>>Vh;for(u=fl;u<cf;++u)d=76283*(u-16)+Uh>>Vh,D_[u-fl]=ai(d,255),L_[u-fl]=ai(d+8>>4,15);P0=1}return 1}function Gt(u){var d=u.ma,b=u.U,_=u.T;return e(!(1&u.ka)),0>=b||0>=_?0:(b=d.Ib(u,d),d.Jb!=null&&d.Jb(u,d,b),d.Dc+=b,1)}function Lr(u){u.ma.memory=null}function Tr(u,d,b,_){return yt(u,8)!=47?0:(d[0]=yt(u,14)+1,b[0]=yt(u,14)+1,_[0]=yt(u,1),yt(u,3)!=0?0:!u.h)}function Mn(u,d){if(4>u)return u+1;var b=u-2>>1;return(2+(1&u)<<b)+yt(d,b)+1}function In(u,d){return 120<d?d-120:1<=(b=((b=h_[d-1])>>4)*u+(8-(15&b)))?b:1;var b}function ri(u,d,b){var _=H(b),C=u[d+=255&_].g-8;return 0<C&&(Q(b,b.u+8),_=H(b),d+=u[d].value,d+=_&(1<<C)-1),Q(b,b.u+u[d].g),u[d].value}function Ei(u,d,b){return b.g+=u.g,b.value+=u.value<<d>>>0,e(8>=b.g),u.g}function Bi(u,d,b){var _=u.xc;return e((d=_==0?0:u.vc[u.md*(b>>_)+(d>>_)])<u.Wb),u.Ya[d]}function $a(u,d,b,_){var C=u.ab,k=u.c*d,L=u.C;d=L+d;var M=b,O=_;for(_=u.Ta,b=u.Ua;0<C--;){var R=u.gc[C],Z=L,at=d,B=M,J=O,it=(O=_,M=b,R.Ea);switch(e(Z<at),e(at<=R.nc),R.hc){case 2:pi(B,J,(at-Z)*it,O,M);break;case 0:var gt=Z,rt=at,mt=O,vt=M,Ct=(Rt=R).Ea;gt==0&&(rl(B,J,null,null,1,mt,vt),Oe(B,J+1,0,0,Ct-1,mt,vt+1),J+=Ct,vt+=Ct,++gt);for(var wt=1<<Rt.b,Vt=wt-1,It=Dt(Ct,Rt.b),fe=Rt.K,Rt=Rt.w+(gt>>Rt.b)*It;gt<rt;){var ve=fe,Ti=Rt,de=1;for(Ys(B,J,mt,vt-Ct,1,mt,vt);de<Ct;){var Bt=(de&~Vt)+wt;Bt>Ct&&(Bt=Ct),(0,sl[ve[Ti++]>>8&15])(B,J+ +de,mt,vt+de-Ct,Bt-de,mt,vt+de),de=Bt}J+=Ct,vt+=Ct,++gt&Vt||(Rt+=It)}at!=R.nc&&n(O,M-it,O,M+(at-Z-1)*it,it);break;case 1:for(it=B,rt=J,Ct=(B=R.Ea)-(vt=B&~(mt=(J=1<<R.b)-1)),gt=Dt(B,R.b),wt=R.K,R=R.w+(Z>>R.b)*gt;Z<at;){for(Vt=wt,It=R,fe=new ce,Rt=rt+vt,ve=rt+B;rt<Rt;)Ht(Vt[It++],fe),ol(fe,it,rt,J,O,M),rt+=J,M+=J;rt<ve&&(Ht(Vt[It++],fe),ol(fe,it,rt,Ct,O,M),rt+=Ct,M+=Ct),++Z&mt||(R+=gt)}break;case 3:if(B==O&&J==M&&0<R.b){for(rt=O,B=it=M+(at-Z)*it-(vt=(at-Z)*Dt(R.Ea,R.b)),J=O,mt=M,gt=[],vt=(Ct=vt)-1;0<=vt;--vt)gt[vt]=J[mt+vt];for(vt=Ct-1;0<=vt;--vt)rt[B+vt]=gt[vt];Ih(R,Z,at,O,it,O,M)}else Ih(R,Z,at,B,J,O,M)}M=_,O=b}O!=b&&n(_,b,M,O,k)}function ia(u,d){var b=u.V,_=u.Ba+u.c*u.C,C=d-u.C;if(e(d<=u.l.o),e(16>=C),0<C){var k=u.l,L=u.Ta,M=u.Ua,O=k.width;if($a(u,C,b,_),C=M=[M],e((b=u.C)<(_=d)),e(k.v<k.va),_>k.o&&(_=k.o),b<k.j){var R=k.j-b;b=k.j,C[0]+=R*O}if(b>=_?b=0:(C[0]+=4*k.v,k.ka=b-k.j,k.U=k.va-k.v,k.T=_-b,b=1),b){if(M=M[0],11>(b=u.ca).S){var Z=b.f.RGBA,at=(_=b.S,C=k.U,k=k.T,R=Z.eb,Z.A),B=k;for(Z=Z.fb+u.Ma*Z.A;0<B--;){var J=L,it=M,gt=C,rt=R,mt=Z;switch(_){case Fh:ll(J,it,gt,rt,mt);break;case Rh:ha(J,it,gt,rt,mt);break;case af:ha(J,it,gt,rt,mt),cl(rt,mt,0,gt,1,0);break;case _0:fs(J,it,gt,rt,mt);break;case Bh:Yt(J,it,gt,rt,mt,1);break;case sf:Yt(J,it,gt,rt,mt,1),cl(rt,mt,0,gt,1,0);break;case jh:Yt(J,it,gt,rt,mt,0);break;case zh:Yt(J,it,gt,rt,mt,0),cl(rt,mt,1,gt,1,0);break;case rf:ca(J,it,gt,rt,mt);break;case of:ca(J,it,gt,rt,mt),f0(rt,mt,gt,1,0);break;case y0:ua(J,it,gt,rt,mt);break;default:e(0)}M+=O,Z+=at}u.Ma+=k}else alert("todo:EmitRescaledRowsYUVA");e(u.Ma<=b.height)}}u.C=d,e(u.C<=u.i)}function $n(u){var d;if(0<u.ua)return 0;for(d=0;d<u.Wb;++d){var b=u.Ya[d].G,_=u.Ya[d].H;if(0<b[1][_[1]+0].g||0<b[2][_[2]+0].g||0<b[3][_[3]+0].g)return 0}return 1}function sr(u,d,b,_,C,k){if(u.Z!=0){var L=u.qd,M=u.rd;for(e(pa[u.Z]!=null);d<b;++d)pa[u.Z](L,M,_,C,_,C,k),L=_,M=C,C+=k;u.qd=L,u.rd=M}}function Yn(u,d){var b=u.l.ma,_=b.Z==0||b.Z==1?u.l.j:u.C;if(_=u.C<_?_:u.C,e(d<=u.l.o),d>_){var C=u.l.width,k=b.ca,L=b.tb+C*_,M=u.V,O=u.Ba+u.c*_,R=u.gc;e(u.ab==1),e(R[0].hc==3),cr(R[0],_,d,M,O,k,L),sr(b,_,d,k,L,C)}u.C=u.Ma=d}function Gn(u,d,b,_,C,k,L){var M=u.$/_,O=u.$%_,R=u.m,Z=u.s,at=b+u.$,B=at;C=b+_*C;var J=b+_*k,it=280+Z.ua,gt=u.Pb?M:16777216,rt=0<Z.ua?Z.Wa:null,mt=Z.wc,vt=at<J?Bi(Z,O,M):null;e(u.C<k),e(J<=C);var Ct=!1;t:for(;;){for(;Ct||at<J;){var wt=0;if(M>=gt){var Vt=at-b;e((gt=u).Pb),gt.wd=gt.m,gt.xd=Vt,0<gt.s.ua&&me(gt.s.Wa,gt.s.vb),gt=M+u_}if(O&mt||(vt=Bi(Z,O,M)),e(vt!=null),vt.Qb&&(d[at]=vt.qb,Ct=!0),!Ct)if(st(R),vt.jc){wt=R,Vt=d;var It=at,fe=vt.pd[H(wt)&us-1];e(vt.jc),256>fe.g?(Q(wt,wt.u+fe.g),Vt[It]=fe.value,wt=0):(Q(wt,wt.u+fe.g-256),e(256<=fe.value),wt=fe.value),wt==0&&(Ct=!0)}else wt=ri(vt.G[0],vt.H[0],R);if(R.h)break;if(Ct||256>wt){if(!Ct)if(vt.nd)d[at]=(vt.qb|wt<<8)>>>0;else{if(st(R),Ct=ri(vt.G[1],vt.H[1],R),st(R),Vt=ri(vt.G[2],vt.H[2],R),It=ri(vt.G[3],vt.H[3],R),R.h)break;d[at]=(It<<24|Ct<<16|wt<<8|Vt)>>>0}if(Ct=!1,++at,++O>=_&&(O=0,++M,L!=null&&M<=k&&!(M%16)&&L(u,M),rt!=null))for(;B<at;)wt=d[B++],rt.X[(506832829*wt&4294967295)>>>rt.Mb]=wt}else if(280>wt){if(wt=Mn(wt-256,R),Vt=ri(vt.G[4],vt.H[4],R),st(R),Vt=In(_,Vt=Mn(Vt,R)),R.h)break;if(at-b<Vt||C-at<wt)break t;for(It=0;It<wt;++It)d[at+It]=d[at+It-Vt];for(at+=wt,O+=wt;O>=_;)O-=_,++M,L!=null&&M<=k&&!(M%16)&&L(u,M);if(e(at<=C),O&mt&&(vt=Bi(Z,O,M)),rt!=null)for(;B<at;)wt=d[B++],rt.X[(506832829*wt&4294967295)>>>rt.Mb]=wt}else{if(!(wt<it))break t;for(Ct=wt-280,e(rt!=null);B<at;)wt=d[B++],rt.X[(506832829*wt&4294967295)>>>rt.Mb]=wt;wt=at,e(!(Ct>>>(Vt=rt).Xa)),d[wt]=Vt.X[Ct],Ct=!0}Ct||e(R.h==G(R))}if(u.Pb&&R.h&&at<C)e(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&me(u.s.vb,u.s.Wa);else{if(R.h)break t;L?.(u,M>k?k:M),u.a=0,u.$=at-b}return 1}return u.a=3,0}function On(u){e(u!=null),u.vc=null,u.yc=null,u.Ya=null;var d=u.Wa;d!=null&&(d.X=null),u.vb=null,e(u!=null)}function Ya(){var u=new jt;return u==null?null:(u.a=0,u.xb=C0,be("Predictor","VP8LPredictors"),be("Predictor","VP8LPredictors_C"),be("PredictorAdd","VP8LPredictorsAdd"),be("PredictorAdd","VP8LPredictorsAdd_C"),pi=ue,ol=Zt,ll=We,ha=Ae,ca=zt,ua=ae,fs=Be,E.VP8LMapColor32b=hr,E.VP8LMapColor8b=al,u)}function or(u,d,b,_,C){var k=1,L=[u],M=[d],O=_.m,R=_.s,Z=null,at=0;t:for(;;){if(b)for(;k&&yt(O,1);){var B=L,J=M,it=_,gt=1,rt=it.m,mt=it.gc[it.ab],vt=yt(rt,2);if(it.Oc&1<<vt)k=0;else{switch(it.Oc|=1<<vt,mt.hc=vt,mt.Ea=B[0],mt.nc=J[0],mt.K=[null],++it.ab,e(4>=it.ab),vt){case 0:case 1:mt.b=yt(rt,3)+2,gt=or(Dt(mt.Ea,mt.b),Dt(mt.nc,mt.b),0,it,mt.K),mt.K=mt.K[0];break;case 3:var Ct,wt=yt(rt,8)+1,Vt=16<wt?0:4<wt?1:2<wt?2:3;if(B[0]=Dt(mt.Ea,Vt),mt.b=Vt,Ct=gt=or(wt,1,0,it,mt.K)){var It,fe=wt,Rt=mt,ve=1<<(8>>Rt.b),Ti=a(ve);if(Ti==null)Ct=0;else{var de=Rt.K[0],Bt=Rt.w;for(Ti[0]=Rt.K[0][0],It=1;It<1*fe;++It)Ti[It]=Ut(de[Bt+It],Ti[It-1]);for(;It<4*ve;++It)Ti[It]=0;Rt.K[0]=null,Rt.K[0]=Ti,Ct=1}}gt=Ct;break;case 2:break;default:e(0)}k=gt}}if(L=L[0],M=M[0],k&&yt(O,1)&&!(k=1<=(at=yt(O,4))&&11>=at)){_.a=3;break t}var Lt;if(Lt=k)e:{var mi,oe,_e,Qe=_,zi=L,nn=M,si=at,Xi=b,rn=Qe.m,Pi=Qe.s,we=[null],Me=1,oi=0,Ie=c_[si];i:for(;;){if(Xi&&yt(rn,1)){var Vi=yt(rn,3)+2,Kn=Dt(zi,Vi),bi=Dt(nn,Vi),hn=Kn*bi;if(!or(Kn,bi,0,Qe,we))break i;for(we=we[0],Pi.xc=Vi,mi=0;mi<hn;++mi){var Ve=we[mi]>>8&65535;we[mi]=Ve,Ve>=Me&&(Me=Ve+1)}}if(rn.h)break i;for(oe=0;5>oe;++oe){var Ni=w0[oe];!oe&&0<si&&(Ni+=1<<si),oi<Ni&&(oi=Ni)}var _n=s(Me*Ie,W),an=Me,yn=s(an,et);if(yn==null)var wn=null;else e(65536>=an),wn=yn;var cn=a(oi);if(wn==null||cn==null||_n==null){Qe.a=1;break i}var Sn=_n;for(mi=_e=0;mi<Me;++mi){var Ye=wn[mi],Cn=Ye.G,Jn=Ye.H,ps=0,jr=1,Ui=0;for(oe=0;5>oe;++oe){Ni=w0[oe],Cn[oe]=Sn,Jn[oe]=_e,!oe&&0<si&&(Ni+=1<<si);r:{var qh,uf=Ni,Wh=Qe,dl=cn,N_=Sn,M_=_e,ff=0,ga=Wh.m,I_=yt(ga,1);if(r(dl,0,0,uf),I_){var O_=yt(ga,1)+1,E_=yt(ga,1),I0=yt(ga,E_==0?1:8);dl[I0]=1,O_==2&&(dl[I0=yt(ga,8)]=1);var $h=1}else{var O0=a(19),E0=yt(ga,4)+4;if(19<E0){Wh.a=3;var Yh=0;break r}for(qh=0;qh<E0;++qh)O0[l_[qh]]=yt(ga,3);var df=void 0,pl=void 0,F0=Wh,F_=O0,Gh=uf,R0=dl,pf=0,ma=F0.m,B0=8,j0=s(128,W);n:for(;I(j0,0,7,F_,19);){if(yt(ma,1)){var R_=2+2*yt(ma,3);if((df=2+yt(ma,R_))>Gh)break n}else df=Gh;for(pl=0;pl<Gh&&df--;){st(ma);var z0=j0[0+(127&H(ma))];Q(ma,ma.u+z0.g);var Zs=z0.value;if(16>Zs)R0[pl++]=Zs,Zs!=0&&(B0=Zs);else{var B_=Zs==16,V0=Zs-16,j_=s_[V0],U0=yt(ma,a_[V0])+j_;if(pl+U0>Gh)break n;for(var z_=B_?B0:0;0<U0--;)R0[pl++]=z_}}pf=1;break n}pf||(F0.a=3),$h=pf}($h=$h&&!ga.h)&&(ff=I(N_,M_,8,dl,uf)),$h&&ff!=0?Yh=ff:(Wh.a=3,Yh=0)}if(Yh==0)break i;if(jr&&o_[oe]==1&&(jr=Sn[_e].g==0),ps+=Sn[_e].g,_e+=Yh,3>=oe){var gl,gf=cn[0];for(gl=1;gl<Ni;++gl)cn[gl]>gf&&(gf=cn[gl]);Ui+=gf}}if(Ye.nd=jr,Ye.Qb=0,jr&&(Ye.qb=(Cn[3][Jn[3]+0].value<<24|Cn[1][Jn[1]+0].value<<16|Cn[2][Jn[2]+0].value)>>>0,ps==0&&256>Cn[0][Jn[0]+0].value&&(Ye.Qb=1,Ye.qb+=Cn[0][Jn[0]+0].value<<8)),Ye.jc=!Ye.Qb&&6>Ui,Ye.jc){var Zh,zr=Ye;for(Zh=0;Zh<us;++Zh){var ba=Zh,va=zr.pd[ba],Xh=zr.G[0][zr.H[0]+ba];256<=Xh.value?(va.g=Xh.g+256,va.value=Xh.value):(va.g=0,va.value=0,ba>>=Ei(Xh,8,va),ba>>=Ei(zr.G[1][zr.H[1]+ba],16,va),ba>>=Ei(zr.G[2][zr.H[2]+ba],0,va),Ei(zr.G[3][zr.H[3]+ba],24,va))}}}Pi.vc=we,Pi.Wb=Me,Pi.Ya=wn,Pi.yc=_n,Lt=1;break e}Lt=0}if(!(k=Lt)){_.a=3;break t}if(0<at){if(R.ua=1<<at,!U(R.Wa,at)){_.a=1,k=0;break t}}else R.ua=0;var mf=_,H0=L,V_=M,bf=mf.s,vf=bf.xc;if(mf.c=H0,mf.i=V_,bf.md=Dt(H0,vf),bf.wc=vf==0?-1:(1<<vf)-1,b){_.xb=v_;break t}if((Z=a(L*M))==null){_.a=1,k=0;break t}k=(k=Gn(_,Z,0,L,M,M,null))&&!O.h;break t}return k?(C!=null?C[0]=Z:(e(Z==null),e(b)),_.$=0,b||On(R)):On(R),k}function Ga(u,d){var b=u.c*u.i,_=b+d+16*d;return e(u.c<=d),u.V=a(_),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+b+d,1)}function Rs(u,d){var b=u.C,_=d-b,C=u.V,k=u.Ba+u.c*b;for(e(d<=u.l.o);0<_;){var L=16<_?16:_,M=u.l.ma,O=u.l.width,R=O*L,Z=M.ca,at=M.tb+O*b,B=u.Ta,J=u.Ua;$a(u,L,C,k),p0(B,J,Z,at,R),sr(M,b,b+L,Z,at,O),_-=L,C+=L*u.c,b+=L}e(b==d),u.C=u.Ma=d}function Bs(){this.ub=this.yd=this.td=this.Rb=0}function js(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function zu(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Uo(){this.Yb=function(){var u=[];return function d(b,_,C){for(var k=C[_],L=0;L<k&&(b.push(C.length>_+1?[]:0),!(C.length<_+1));L++)d(b[L],_+1,C)}(u,0,[3,11]),u}()}function mh(){this.jb=a(3),this.Wc=o([4,8],Uo),this.Xc=o([4,17],Uo)}function bh(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function En(){this.ld=this.La=this.dd=this.tc=0}function Ho(){this.Na=this.la=0}function vh(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function qo(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function xh(){this.uc=this.M=this.Nb=0,this.wa=Array(new En),this.Y=0,this.ya=Array(new qo),this.aa=0,this.l=new zs}function _h(){this.y=a(16),this.f=a(8),this.ea=a(8)}function yh(){this.cb=this.a=0,this.sc="",this.m=new P,this.Od=new Bs,this.Kc=new js,this.ed=new bh,this.Qa=new zu,this.Ic=this.$c=this.Aa=0,this.D=new xh,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,P),this.ia=0,this.pb=s(4,vh),this.Pa=new mh,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new _h),this.Hd=0,this.rb=Array(new Ho),this.sb=0,this.wa=Array(new En),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new qo),this.L=this.aa=0,this.gd=o([4,2],En),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function zs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Vu(){var u=new yh;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,ul||(ul=Pr)),u}function wi(u,d,b){return u.a==0&&(u.a=d,u.sc=b,u.cb=0),0}function wh(u,d,b){return 3<=b&&u[d+0]==157&&u[d+1]==1&&u[d+2]==42}function Sh(u,d){if(u==null)return 0;if(u.a=0,u.sc="OK",d==null)return wi(u,2,"null VP8Io passed to VP8GetHeaders()");var b=d.data,_=d.w,C=d.ha;if(4>C)return wi(u,7,"Truncated header.");var k=b[_+0]|b[_+1]<<8|b[_+2]<<16,L=u.Od;if(L.Rb=!(1&k),L.td=k>>1&7,L.yd=k>>4&1,L.ub=k>>5,3<L.td)return wi(u,3,"Incorrect keyframe parameters.");if(!L.yd)return wi(u,4,"Frame not displayable.");_+=3,C-=3;var M=u.Kc;if(L.Rb){if(7>C)return wi(u,7,"cannot parse picture header");if(!wh(b,_,C))return wi(u,3,"Bad code word");M.c=16383&(b[_+4]<<8|b[_+3]),M.Td=b[_+4]>>6,M.i=16383&(b[_+6]<<8|b[_+5]),M.Ud=b[_+6]>>6,_+=7,C-=7,u.za=M.c+15>>4,u.Ub=M.i+15>>4,d.width=M.c,d.height=M.i,d.Da=0,d.j=0,d.v=0,d.va=d.width,d.o=d.height,d.da=0,d.ib=d.width,d.hb=d.height,d.U=d.width,d.T=d.height,r((k=u.Pa).jb,0,255,k.jb.length),e((k=u.Qa)!=null),k.Cb=0,k.Bb=0,k.Fb=1,r(k.Zb,0,0,k.Zb.length),r(k.Lb,0,0,k.Lb)}if(L.ub>C)return wi(u,7,"bad partition length");ot(k=u.m,b,_,L.ub),_+=L.ub,C-=L.ub,L.Rb&&(M.Ld=ct(k),M.Kd=ct(k)),M=u.Qa;var O,R=u.Pa;if(e(k!=null),e(M!=null),M.Cb=ct(k),M.Cb){if(M.Bb=ct(k),ct(k)){for(M.Fb=ct(k),O=0;4>O;++O)M.Zb[O]=ct(k)?nt(k,7):0;for(O=0;4>O;++O)M.Lb[O]=ct(k)?nt(k,6):0}if(M.Bb)for(O=0;3>O;++O)R.jb[O]=ct(k)?lt(k,8):255}else M.Bb=0;if(k.Ka)return wi(u,3,"cannot parse segment header");if((M=u.ed).zd=ct(k),M.Tb=lt(k,6),M.wb=lt(k,3),M.Pc=ct(k),M.Pc&&ct(k)){for(R=0;4>R;++R)ct(k)&&(M.vd[R]=nt(k,6));for(R=0;4>R;++R)ct(k)&&(M.od[R]=nt(k,6))}if(u.L=M.Tb==0?0:M.zd?1:2,k.Ka)return wi(u,3,"cannot parse filter header");var Z=C;if(C=O=_,_=O+Z,M=Z,u.Xb=(1<<lt(u.m,2))-1,Z<3*(R=u.Xb))b=7;else{for(O+=3*R,M-=3*R,Z=0;Z<R;++Z){var at=b[C+0]|b[C+1]<<8|b[C+2]<<16;at>M&&(at=M),ot(u.Jc[+Z],b,O,at),O+=at,M-=at,C+=3}ot(u.Jc[+R],b,O,M),b=O<_?0:5}if(b!=0)return wi(u,b,"cannot parse partitions");for(b=lt(O=u.m,7),C=ct(O)?nt(O,4):0,_=ct(O)?nt(O,4):0,M=ct(O)?nt(O,4):0,R=ct(O)?nt(O,4):0,O=ct(O)?nt(O,4):0,Z=u.Qa,at=0;4>at;++at){if(Z.Cb){var B=Z.Zb[at];Z.Fb||(B+=b)}else{if(0<at){u.pb[at]=u.pb[0];continue}B=b}var J=u.pb[at];J.Sc[0]=lf[ai(B+C,127)],J.Sc[1]=hf[ai(B+0,127)],J.Eb[0]=2*lf[ai(B+_,127)],J.Eb[1]=101581*hf[ai(B+M,127)]>>16,8>J.Eb[1]&&(J.Eb[1]=8),J.Qc[0]=lf[ai(B+R,117)],J.Qc[1]=hf[ai(B+O,127)],J.lc=B+O}if(!L.Rb)return wi(u,4,"Not a key frame.");for(ct(k),L=u.Pa,b=0;4>b;++b){for(C=0;8>C;++C)for(_=0;3>_;++_)for(M=0;11>M;++M)R=_t(k,m_[b][C][_][M])?lt(k,8):p_[b][C][_][M],L.Wc[b][C].Yb[_][M]=R;for(C=0;17>C;++C)L.Xc[b][C]=L.Wc[b][b_[C]]}return u.kc=ct(k),u.kc&&(u.Bd=lt(k,8)),u.cb=1}function Pr(u,d,b,_,C,k,L){var M=d[C].Yb[b];for(b=0;16>C;++C){if(!_t(u,M[b+0]))return C;for(;!_t(u,M[b+1]);)if(M=d[++C].Yb[0],b=0,C==16)return 16;var O=d[C+1].Yb;if(_t(u,M[b+2])){var R=u,Z=0;if(_t(R,(B=M)[(at=b)+3]))if(_t(R,B[at+6])){for(M=0,at=2*(Z=_t(R,B[at+8]))+(B=_t(R,B[at+9+Z])),Z=0,B=f_[at];B[M];++M)Z+=Z+_t(R,B[M]);Z+=3+(8<<at)}else _t(R,B[at+7])?(Z=7+2*_t(R,165),Z+=_t(R,145)):Z=5+_t(R,159);else Z=_t(R,B[at+4])?3+_t(R,B[at+5]):2;M=O[2]}else Z=1,M=O[1];O=L+d_[C],0>(R=u).b&&ft(R);var at,B=R.b,J=(at=R.Ca>>1)-(R.I>>B)>>31;--R.b,R.Ca+=J,R.Ca|=1,R.I-=(at+1&J)<<B,k[O]=((Z^J)-J)*_[(0<C)+0]}return 16}function Za(u){var d=u.rb[u.sb-1];d.la=0,d.Na=0,r(u.zc,0,0,u.zc.length),u.ja=0}function Zn(u,d,b,_,C){C=u[d+b+32*_]+(C>>3),u[d+b+32*_]=-256&C?0>C?0:255:C}function Xa(u,d,b,_,C,k){Zn(u,d,0,b,_+C),Zn(u,d,1,b,_+k),Zn(u,d,2,b,_-k),Zn(u,d,3,b,_-C)}function di(u){return(20091*u>>16)+u}function Wo(u,d,b,_){var C,k=0,L=a(16);for(C=0;4>C;++C){var M=u[d+0]+u[d+8],O=u[d+0]-u[d+8],R=(35468*u[d+4]>>16)-di(u[d+12]),Z=di(u[d+4])+(35468*u[d+12]>>16);L[k+0]=M+Z,L[k+1]=O+R,L[k+2]=O-R,L[k+3]=M-Z,k+=4,d++}for(C=k=0;4>C;++C)M=(u=L[k+0]+4)+L[k+8],O=u-L[k+8],R=(35468*L[k+4]>>16)-di(L[k+12]),Zn(b,_,0,0,M+(Z=di(L[k+4])+(35468*L[k+12]>>16))),Zn(b,_,1,0,O+R),Zn(b,_,2,0,O-R),Zn(b,_,3,0,M-Z),k++,_+=32}function Uu(u,d,b,_){var C=u[d+0]+4,k=35468*u[d+4]>>16,L=di(u[d+4]),M=35468*u[d+1]>>16;Xa(b,_,0,C+L,u=di(u[d+1]),M),Xa(b,_,1,C+k,u,M),Xa(b,_,2,C-k,u,M),Xa(b,_,3,C-L,u,M)}function Hu(u,d,b,_,C){Wo(u,d,b,_),C&&Wo(u,d+16,b,_+4)}function qu(u,d,b,_){ds(u,d+0,b,_,1),ds(u,d+32,b,_+128,1)}function lr(u,d,b,_){var C;for(u=u[d+0]+4,C=0;4>C;++C)for(d=0;4>d;++d)Zn(b,_,d,C,u)}function Ch(u,d,b,_){u[d+0]&&Pe(u,d+0,b,_),u[d+16]&&Pe(u,d+16,b,_+4),u[d+32]&&Pe(u,d+32,b,_+128),u[d+48]&&Pe(u,d+48,b,_+128+4)}function Ah(u,d,b,_){var C,k=a(16);for(C=0;4>C;++C){var L=u[d+0+C]+u[d+12+C],M=u[d+4+C]+u[d+8+C],O=u[d+4+C]-u[d+8+C],R=u[d+0+C]-u[d+12+C];k[0+C]=L+M,k[8+C]=L-M,k[4+C]=R+O,k[12+C]=R-O}for(C=0;4>C;++C)L=(u=k[0+4*C]+3)+k[3+4*C],M=k[1+4*C]+k[2+4*C],O=k[1+4*C]-k[2+4*C],R=u-k[3+4*C],b[_+0]=L+M>>3,b[_+16]=R+O>>3,b[_+32]=L-M>>3,b[_+48]=R-O>>3,_+=64}function na(u,d,b){var _,C=d-32,k=xn,L=255-u[C-1];for(_=0;_<b;++_){var M,O=k,R=L+u[d-1];for(M=0;M<b;++M)u[d+M]=O[R+u[C+M]];d+=32}}function $o(u,d){na(u,d,4)}function Wu(u,d){na(u,d,8)}function $u(u,d){na(u,d,16)}function Yu(u,d){var b;for(b=0;16>b;++b)n(u,d+32*b,u,d-32,16)}function Yo(u,d){var b;for(b=16;0<b;--b)r(u,d,u[d-1],16),d+=32}function Ka(u,d,b){var _;for(_=0;16>_;++_)r(d,b+32*_,u,16)}function ra(u,d){var b,_=16;for(b=0;16>b;++b)_+=u[d-1+32*b]+u[d+b-32];Ka(_>>5,u,d)}function Gu(u,d){var b,_=8;for(b=0;16>b;++b)_+=u[d-1+32*b];Ka(_>>4,u,d)}function Ja(u,d){var b,_=8;for(b=0;16>b;++b)_+=u[d+b-32];Ka(_>>4,u,d)}function Go(u,d){Ka(128,u,d)}function Qt(u,d,b){return u+2*d+b+2>>2}function Zu(u,d){var b,_=d-32;for(_=new Uint8Array([Qt(u[_-1],u[_+0],u[_+1]),Qt(u[_+0],u[_+1],u[_+2]),Qt(u[_+1],u[_+2],u[_+3]),Qt(u[_+2],u[_+3],u[_+4])]),b=0;4>b;++b)n(u,d+32*b,_,0,_.length)}function Xu(u,d){var b=u[d-1],_=u[d-1+32],C=u[d-1+64],k=u[d-1+96];At(u,d+0,16843009*Qt(u[d-1-32],b,_)),At(u,d+32,16843009*Qt(b,_,C)),At(u,d+64,16843009*Qt(_,C,k)),At(u,d+96,16843009*Qt(C,k,k))}function Ku(u,d){var b,_=4;for(b=0;4>b;++b)_+=u[d+b-32]+u[d-1+32*b];for(_>>=3,b=0;4>b;++b)r(u,d+32*b,_,4)}function Ju(u,d){var b=u[d-1+0],_=u[d-1+32],C=u[d-1+64],k=u[d-1-32],L=u[d+0-32],M=u[d+1-32],O=u[d+2-32],R=u[d+3-32];u[d+0+96]=Qt(_,C,u[d-1+96]),u[d+1+96]=u[d+0+64]=Qt(b,_,C),u[d+2+96]=u[d+1+64]=u[d+0+32]=Qt(k,b,_),u[d+3+96]=u[d+2+64]=u[d+1+32]=u[d+0+0]=Qt(L,k,b),u[d+3+64]=u[d+2+32]=u[d+1+0]=Qt(M,L,k),u[d+3+32]=u[d+2+0]=Qt(O,M,L),u[d+3+0]=Qt(R,O,M)}function Nr(u,d){var b=u[d+1-32],_=u[d+2-32],C=u[d+3-32],k=u[d+4-32],L=u[d+5-32],M=u[d+6-32],O=u[d+7-32];u[d+0+0]=Qt(u[d+0-32],b,_),u[d+1+0]=u[d+0+32]=Qt(b,_,C),u[d+2+0]=u[d+1+32]=u[d+0+64]=Qt(_,C,k),u[d+3+0]=u[d+2+32]=u[d+1+64]=u[d+0+96]=Qt(C,k,L),u[d+3+32]=u[d+2+64]=u[d+1+96]=Qt(k,L,M),u[d+3+64]=u[d+2+96]=Qt(L,M,O),u[d+3+96]=Qt(M,O,O)}function Mr(u,d){var b=u[d-1+0],_=u[d-1+32],C=u[d-1+64],k=u[d-1-32],L=u[d+0-32],M=u[d+1-32],O=u[d+2-32],R=u[d+3-32];u[d+0+0]=u[d+1+64]=k+L+1>>1,u[d+1+0]=u[d+2+64]=L+M+1>>1,u[d+2+0]=u[d+3+64]=M+O+1>>1,u[d+3+0]=O+R+1>>1,u[d+0+96]=Qt(C,_,b),u[d+0+64]=Qt(_,b,k),u[d+0+32]=u[d+1+96]=Qt(b,k,L),u[d+1+32]=u[d+2+96]=Qt(k,L,M),u[d+2+32]=u[d+3+96]=Qt(L,M,O),u[d+3+32]=Qt(M,O,R)}function Qu(u,d){var b=u[d+0-32],_=u[d+1-32],C=u[d+2-32],k=u[d+3-32],L=u[d+4-32],M=u[d+5-32],O=u[d+6-32],R=u[d+7-32];u[d+0+0]=b+_+1>>1,u[d+1+0]=u[d+0+64]=_+C+1>>1,u[d+2+0]=u[d+1+64]=C+k+1>>1,u[d+3+0]=u[d+2+64]=k+L+1>>1,u[d+0+32]=Qt(b,_,C),u[d+1+32]=u[d+0+96]=Qt(_,C,k),u[d+2+32]=u[d+1+96]=Qt(C,k,L),u[d+3+32]=u[d+2+96]=Qt(k,L,M),u[d+3+64]=Qt(L,M,O),u[d+3+96]=Qt(M,O,R)}function tf(u,d){var b=u[d-1+0],_=u[d-1+32],C=u[d-1+64],k=u[d-1+96];u[d+0+0]=b+_+1>>1,u[d+2+0]=u[d+0+32]=_+C+1>>1,u[d+2+32]=u[d+0+64]=C+k+1>>1,u[d+1+0]=Qt(b,_,C),u[d+3+0]=u[d+1+32]=Qt(_,C,k),u[d+3+32]=u[d+1+64]=Qt(C,k,k),u[d+3+64]=u[d+2+64]=u[d+0+96]=u[d+1+96]=u[d+2+96]=u[d+3+96]=k}function Vs(u,d){var b=u[d-1+0],_=u[d-1+32],C=u[d-1+64],k=u[d-1+96],L=u[d-1-32],M=u[d+0-32],O=u[d+1-32],R=u[d+2-32];u[d+0+0]=u[d+2+32]=b+L+1>>1,u[d+0+32]=u[d+2+64]=_+b+1>>1,u[d+0+64]=u[d+2+96]=C+_+1>>1,u[d+0+96]=k+C+1>>1,u[d+3+0]=Qt(M,O,R),u[d+2+0]=Qt(L,M,O),u[d+1+0]=u[d+3+32]=Qt(b,L,M),u[d+1+32]=u[d+3+64]=Qt(_,b,L),u[d+1+64]=u[d+3+96]=Qt(C,_,b),u[d+1+96]=Qt(k,C,_)}function Zo(u,d){var b;for(b=0;8>b;++b)n(u,d+32*b,u,d-32,8)}function Qa(u,d){var b;for(b=0;8>b;++b)r(u,d,u[d-1],8),d+=32}function Us(u,d,b){var _;for(_=0;8>_;++_)r(d,b+32*_,u,8)}function Hs(u,d){var b,_=8;for(b=0;8>b;++b)_+=u[d+b-32]+u[d-1+32*b];Us(_>>4,u,d)}function ef(u,d){var b,_=4;for(b=0;8>b;++b)_+=u[d+b-32];Us(_>>3,u,d)}function Xo(u,d){var b,_=4;for(b=0;8>b;++b)_+=u[d-1+32*b];Us(_>>3,u,d)}function Ko(u,d){Us(128,u,d)}function ts(u,d,b){var _=u[d-b],C=u[d+0],k=3*(C-_)+nf[1020+u[d-2*b]-u[d+b]],L=Eh[112+(k+4>>3)];u[d-b]=xn[255+_+Eh[112+(k+3>>3)]],u[d+0]=xn[255+C-L]}function es(u,d,b,_){var C=u[d+0],k=u[d+b];return jn[255+u[d-2*b]-u[d-b]]>_||jn[255+k-C]>_}function Jo(u,d,b,_){return 4*jn[255+u[d-b]-u[d+0]]+jn[255+u[d-2*b]-u[d+b]]<=_}function qs(u,d,b,_,C){var k=u[d-3*b],L=u[d-2*b],M=u[d-b],O=u[d+0],R=u[d+b],Z=u[d+2*b],at=u[d+3*b];return 4*jn[255+M-O]+jn[255+L-R]>_?0:jn[255+u[d-4*b]-k]<=C&&jn[255+k-L]<=C&&jn[255+L-M]<=C&&jn[255+at-Z]<=C&&jn[255+Z-R]<=C&&jn[255+R-O]<=C}function Qo(u,d,b,_){var C=2*_+1;for(_=0;16>_;++_)Jo(u,d+_,b,C)&&ts(u,d+_,b)}function is(u,d,b,_){var C=2*_+1;for(_=0;16>_;++_)Jo(u,d+_*b,1,C)&&ts(u,d+_*b,1)}function kh(u,d,b,_){var C;for(C=3;0<C;--C)Qo(u,d+=4*b,b,_)}function Dh(u,d,b,_){var C;for(C=3;0<C;--C)is(u,d+=4,b,_)}function Ir(u,d,b,_,C,k,L,M){for(k=2*k+1;0<C--;){if(qs(u,d,b,k,L))if(es(u,d,b,M))ts(u,d,b);else{var O=u,R=d,Z=b,at=O[R-2*Z],B=O[R-Z],J=O[R+0],it=O[R+Z],gt=O[R+2*Z],rt=27*(vt=nf[1020+3*(J-B)+nf[1020+at-it]])+63>>7,mt=18*vt+63>>7,vt=9*vt+63>>7;O[R-3*Z]=xn[255+O[R-3*Z]+vt],O[R-2*Z]=xn[255+at+mt],O[R-Z]=xn[255+B+rt],O[R+0]=xn[255+J-rt],O[R+Z]=xn[255+it-mt],O[R+2*Z]=xn[255+gt-vt]}d+=_}}function Or(u,d,b,_,C,k,L,M){for(k=2*k+1;0<C--;){if(qs(u,d,b,k,L))if(es(u,d,b,M))ts(u,d,b);else{var O=u,R=d,Z=b,at=O[R-Z],B=O[R+0],J=O[R+Z],it=Eh[112+(4+(gt=3*(B-at))>>3)],gt=Eh[112+(gt+3>>3)],rt=it+1>>1;O[R-2*Z]=xn[255+O[R-2*Z]+rt],O[R-Z]=xn[255+at+gt],O[R+0]=xn[255+B-it],O[R+Z]=xn[255+J-rt]}d+=_}}function Lh(u,d,b,_,C,k){Ir(u,d,b,1,16,_,C,k)}function Th(u,d,b,_,C,k){Ir(u,d,1,b,16,_,C,k)}function ns(u,d,b,_,C,k){var L;for(L=3;0<L;--L)Or(u,d+=4*b,b,1,16,_,C,k)}function Ph(u,d,b,_,C,k){var L;for(L=3;0<L;--L)Or(u,d+=4,1,b,16,_,C,k)}function m(u,d,b,_,C,k,L,M){Ir(u,d,C,1,8,k,L,M),Ir(b,_,C,1,8,k,L,M)}function S(u,d,b,_,C,k,L,M){Ir(u,d,1,C,8,k,L,M),Ir(b,_,1,C,8,k,L,M)}function j(u,d,b,_,C,k,L,M){Or(u,d+4*C,C,1,8,k,L,M),Or(b,_+4*C,C,1,8,k,L,M)}function Y(u,d,b,_,C,k,L,M){Or(u,d+4,1,C,8,k,L,M),Or(b,_+4,1,C,8,k,L,M)}function tt(){this.ba=new je,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Te,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function bt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function St(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Et(){this.ua=0,this.Wa=new he,this.vb=new he,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new et,this.yc=new W}function jt(){this.xb=this.a=0,this.l=new zs,this.ca=new je,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new V,this.Pb=0,this.wd=new V,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Et,this.ab=0,this.gc=s(4,St),this.Oc=0}function Kt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new zs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ee(u,d,b,_,C,k,L){for(u=u==null?0:u[d+0],d=0;d<L;++d)C[k+d]=u+b[_+d]&255,u=C[k+d]}function ke(u,d,b,_,C,k,L){var M;if(u==null)ee(null,null,b,_,C,k,L);else for(M=0;M<L;++M)C[k+M]=u[d+M]+b[_+M]&255}function ii(u,d,b,_,C,k,L){if(u==null)ee(null,null,b,_,C,k,L);else{var M,O=u[d+0],R=O,Z=O;for(M=0;M<L;++M)R=Z+(O=u[d+M])-R,Z=b[_+M]+(-256&R?0>R?0:255:R)&255,R=O,C[k+M]=Z}}function Si(u,d,b,_){var C=d.width,k=d.o;if(e(u!=null&&d!=null),0>b||0>=_||b+_>k)return null;if(!u.Cc){if(u.ga==null){var L;if(u.ga=new Kt,(L=u.ga==null)||(L=d.width*d.o,e(u.Gb.length==0),u.Gb=a(L),u.Uc=0,u.Gb==null?L=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,L=1),L=!L),!L){L=u.ga;var M=u.Fa,O=u.P,R=u.qc,Z=u.mb,at=u.nb,B=O+1,J=R-1,it=L.l;if(e(M!=null&&Z!=null&&d!=null),pa[0]=null,pa[1]=ee,pa[2]=ke,pa[3]=ii,L.ca=Z,L.tb=at,L.c=d.width,L.i=d.height,e(0<L.c&&0<L.i),1>=R)d=0;else if(L.$a=3&M[O+0],L.Z=M[O+0]>>2&3,L.Lc=M[O+0]>>4&3,O=M[O+0]>>6&3,0>L.$a||1<L.$a||4<=L.Z||1<L.Lc||O)d=0;else if(it.put=Gt,it.ac=ar,it.bc=Lr,it.ma=L,it.width=d.width,it.height=d.height,it.Da=d.Da,it.v=d.v,it.va=d.va,it.j=d.j,it.o=d.o,L.$a)t:{e(L.$a==1),d=Ya();e:for(;;){if(d==null){d=0;break t}if(e(L!=null),L.mc=d,d.c=L.c,d.i=L.i,d.l=L.l,d.l.ma=L,d.l.width=L.c,d.l.height=L.i,d.a=0,ht(d.m,M,B,J),!or(L.c,L.i,1,d,null)||(d.ab==1&&d.gc[0].hc==3&&$n(d.s)?(L.ic=1,M=d.c*d.i,d.Ta=null,d.Ua=0,d.V=a(M),d.Ba=0,d.V==null?(d.a=1,d=0):d=1):(L.ic=0,d=Ga(d,L.c)),!d))break e;d=1;break t}L.mc=null,d=0}else d=J>=L.c*L.i;L=!d}if(L)return null;u.ga.Lc!=1?u.Ga=0:_=k-b}e(u.ga!=null),e(b+_<=k);t:{if(d=(M=u.ga).c,k=M.l.o,M.$a==0){if(B=u.rc,J=u.Vc,it=u.Fa,O=u.P+1+b*d,R=u.mb,Z=u.nb+b*d,e(O<=u.P+u.qc),M.Z!=0)for(e(pa[M.Z]!=null),L=0;L<_;++L)pa[M.Z](B,J,it,O,R,Z,d),B=R,J=Z,Z+=d,O+=d;else for(L=0;L<_;++L)n(R,Z,it,O,d),B=R,J=Z,Z+=d,O+=d;u.rc=B,u.Vc=J}else{if(e(M.mc!=null),d=b+_,e((L=M.mc)!=null),e(d<=L.i),L.C>=d)d=1;else if(M.ic||Fn(),M.ic){M=L.V,B=L.Ba,J=L.c;var gt=L.i,rt=(it=1,O=L.$/J,R=L.$%J,Z=L.m,at=L.s,L.$),mt=J*gt,vt=J*d,Ct=at.wc,wt=rt<vt?Bi(at,R,O):null;e(rt<=mt),e(d<=gt),e($n(at));e:for(;;){for(;!Z.h&&rt<vt;){if(R&Ct||(wt=Bi(at,R,O)),e(wt!=null),st(Z),256>(gt=ri(wt.G[0],wt.H[0],Z)))M[B+rt]=gt,++rt,++R>=J&&(R=0,++O<=d&&!(O%16)&&Yn(L,O));else{if(!(280>gt)){it=0;break e}gt=Mn(gt-256,Z);var Vt,It=ri(wt.G[4],wt.H[4],Z);if(st(Z),!(rt>=(It=In(J,It=Mn(It,Z)))&&mt-rt>=gt)){it=0;break e}for(Vt=0;Vt<gt;++Vt)M[B+rt+Vt]=M[B+rt+Vt-It];for(rt+=gt,R+=gt;R>=J;)R-=J,++O<=d&&!(O%16)&&Yn(L,O);rt<vt&&R&Ct&&(wt=Bi(at,R,O))}e(Z.h==G(Z))}Yn(L,O>d?d:O);break e}!it||Z.h&&rt<mt?(it=0,L.a=Z.h?5:3):L.$=rt,d=it}else d=Gn(L,L.V,L.Ba,L.c,L.i,d,Rs);if(!d){_=0;break t}}b+_>=k&&(u.Cc=1),_=1}if(!_)return null;if(u.Cc&&((_=u.ga)!=null&&(_.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+b*C}function $e(u,d,b,_,C,k){for(;0<C--;){var L,M=u,O=d+(b?1:0),R=u,Z=d+(b?0:3);for(L=0;L<_;++L){var at=R[Z+4*L];at!=255&&(at*=32897,M[O+4*L+0]=M[O+4*L+0]*at>>23,M[O+4*L+1]=M[O+4*L+1]*at>>23,M[O+4*L+2]=M[O+4*L+2]*at>>23)}d+=k}}function Di(u,d,b,_,C){for(;0<_--;){var k;for(k=0;k<b;++k){var L=u[d+2*k+0],M=15&(R=u[d+2*k+1]),O=4369*M,R=(240&R|R>>4)*O>>16;u[d+2*k+0]=(240&L|L>>4)*O>>16&240|(15&L|L<<4)*O>>16>>4&15,u[d+2*k+1]=240&R|M}d+=C}}function Ci(u,d,b,_,C,k,L,M){var O,R,Z=255;for(R=0;R<C;++R){for(O=0;O<_;++O){var at=u[d+O];k[L+4*O]=at,Z&=at}d+=b,L+=M}return Z!=255}function ji(u,d,b,_,C){var k;for(k=0;k<C;++k)b[_+k]=u[d+k]>>8}function Fn(){cl=$e,f0=Di,d0=Ci,p0=ji}function ln(u,d,b){E[u]=function(_,C,k,L,M,O,R,Z,at,B,J,it,gt,rt,mt,vt,Ct){var wt,Vt=Ct-1>>1,It=M[O+0]|R[Z+0]<<16,fe=at[B+0]|J[it+0]<<16;e(_!=null);var Rt=3*It+fe+131074>>2;for(d(_[C+0],255&Rt,Rt>>16,gt,rt),k!=null&&(Rt=3*fe+It+131074>>2,d(k[L+0],255&Rt,Rt>>16,mt,vt)),wt=1;wt<=Vt;++wt){var ve=M[O+wt]|R[Z+wt]<<16,Ti=at[B+wt]|J[it+wt]<<16,de=It+ve+fe+Ti+524296,Bt=de+2*(ve+fe)>>3;Rt=Bt+It>>1,It=(de=de+2*(It+Ti)>>3)+ve>>1,d(_[C+2*wt-1],255&Rt,Rt>>16,gt,rt+(2*wt-1)*b),d(_[C+2*wt-0],255&It,It>>16,gt,rt+(2*wt-0)*b),k!=null&&(Rt=de+fe>>1,It=Bt+Ti>>1,d(k[L+2*wt-1],255&Rt,Rt>>16,mt,vt+(2*wt-1)*b),d(k[L+2*wt+0],255&It,It>>16,mt,vt+(2*wt+0)*b)),It=ve,fe=Ti}1&Ct||(Rt=3*It+fe+131074>>2,d(_[C+Ct-1],255&Rt,Rt>>16,gt,rt+(Ct-1)*b),k!=null&&(Rt=3*fe+It+131074>>2,d(k[L+Ct-1],255&Rt,Rt>>16,mt,vt+(Ct-1)*b)))}}function Nh(){zn[Fh]=x_,zn[Rh]=A0,zn[_0]=__,zn[Bh]=k0,zn[jh]=D0,zn[rf]=L0,zn[y0]=y_,zn[af]=A0,zn[sf]=k0,zn[zh]=D0,zn[of]=L0}function Ws(u){return u&~w_?0>u?0:255:u>>T0}function rs(u,d){return Ws((19077*u>>8)+(26149*d>>8)-14234)}function aa(u,d,b){return Ws((19077*u>>8)-(6419*d>>8)-(13320*b>>8)+8708)}function as(u,d){return Ws((19077*u>>8)+(33050*d>>8)-17685)}function ss(u,d,b,_,C){_[C+0]=rs(u,b),_[C+1]=aa(u,d,b),_[C+2]=as(u,d)}function os(u,d,b,_,C){_[C+0]=as(u,d),_[C+1]=aa(u,d,b),_[C+2]=rs(u,b)}function Zi(u,d,b,_,C){var k=aa(u,d,b);d=k<<3&224|as(u,d)>>3,_[C+0]=248&rs(u,b)|k>>5,_[C+1]=d}function ls(u,d,b,_,C){var k=240&as(u,d)|15;_[C+0]=240&rs(u,b)|aa(u,d,b)>>4,_[C+1]=k}function hs(u,d,b,_,C){_[C+0]=255,ss(u,d,b,_,C+1)}function tl(u,d,b,_,C){os(u,d,b,_,C),_[C+3]=255}function el(u,d,b,_,C){ss(u,d,b,_,C),_[C+3]=255}function ai(u,d){return 0>u?0:u>d?d:u}function Er(u,d,b){E[u]=function(_,C,k,L,M,O,R,Z,at){for(var B=Z+(-2&at)*b;Z!=B;)d(_[C+0],k[L+0],M[O+0],R,Z),d(_[C+1],k[L+0],M[O+0],R,Z+b),C+=2,++L,++O,Z+=2*b;1&at&&d(_[C+0],k[L+0],M[O+0],R,Z)}}function $s(u,d,b){return b==0?u==0?d==0?6:5:d==0?4:0:b}function Mh(u,d,b,_,C){switch(u>>>30){case 3:ds(d,b,_,C,0);break;case 2:Bn(d,b,_,C);break;case 1:Pe(d,b,_,C)}}function Rn(u,d){var b,_,C=d.M,k=d.Nb,L=u.oc,M=u.pc+40,O=u.oc,R=u.pc+584,Z=u.oc,at=u.pc+600;for(b=0;16>b;++b)L[M+32*b-1]=129;for(b=0;8>b;++b)O[R+32*b-1]=129,Z[at+32*b-1]=129;for(0<C?L[M-1-32]=O[R-1-32]=Z[at-1-32]=129:(r(L,M-32-1,127,21),r(O,R-32-1,127,9),r(Z,at-32-1,127,9)),_=0;_<u.za;++_){var B=d.ya[d.aa+_];if(0<_){for(b=-1;16>b;++b)n(L,M+32*b-4,L,M+32*b+12,4);for(b=-1;8>b;++b)n(O,R+32*b-4,O,R+32*b+4,4),n(Z,at+32*b-4,Z,at+32*b+4,4)}var J=u.Gd,it=u.Hd+_,gt=B.ad,rt=B.Hc;if(0<C&&(n(L,M-32,J[it].y,0,16),n(O,R-32,J[it].f,0,8),n(Z,at-32,J[it].ea,0,8)),B.Za){var mt=L,vt=M-32+16;for(0<C&&(_>=u.za-1?r(mt,vt,J[it].y[15],4):n(mt,vt,J[it+1].y,0,4)),b=0;4>b;b++)mt[vt+128+b]=mt[vt+256+b]=mt[vt+384+b]=mt[vt+0+b];for(b=0;16>b;++b,rt<<=2)mt=L,vt=M+N0[b],Xn[B.Ob[b]](mt,vt),Mh(rt,gt,16*+b,mt,vt)}else if(mt=$s(_,C,B.Ob[0]),da[mt](L,M),rt!=0)for(b=0;16>b;++b,rt<<=2)Mh(rt,gt,16*+b,L,M+N0[b]);for(b=B.Gc,mt=$s(_,C,B.Dd),Br[mt](O,R),Br[mt](Z,at),rt=gt,mt=O,vt=R,255&(B=0|b)&&(170&B?ur(rt,256,mt,vt):ze(rt,256,mt,vt)),B=Z,rt=at,255&(b>>=8)&&(170&b?ur(gt,320,B,rt):ze(gt,320,B,rt)),C<u.Ub-1&&(n(J[it].y,0,L,M+480,16),n(J[it].f,0,O,R+224,8),n(J[it].ea,0,Z,at+224,8)),b=8*k*u.B,J=u.sa,it=u.ta+16*_+16*k*u.R,gt=u.qa,B=u.ra+8*_+b,rt=u.Ha,mt=u.Ia+8*_+b,b=0;16>b;++b)n(J,it+b*u.R,L,M+32*b,16);for(b=0;8>b;++b)n(gt,B+b*u.B,O,R+32*b,8),n(rt,mt+b*u.B,Z,at+32*b,8)}}function cs(u,d,b,_,C,k,L,M,O){var R=[0],Z=[0],at=0,B=O!=null?O.kd:0,J=O??new bt;if(u==null||12>b)return 7;J.data=u,J.w=d,J.ha=b,d=[d],b=[b],J.gb=[J.gb];t:{var it=d,gt=b,rt=J.gb;if(e(u!=null),e(gt!=null),e(rt!=null),rt[0]=0,12<=gt[0]&&!i(u,it[0],"RIFF")){if(i(u,it[0]+8,"WEBP")){rt=3;break t}var mt=pt(u,it[0]+4);if(12>mt||4294967286<mt){rt=3;break t}if(B&&mt>gt[0]-8){rt=7;break t}rt[0]=mt,it[0]+=12,gt[0]-=12}rt=0}if(rt!=0)return rt;for(mt=0<J.gb[0],b=b[0];;){t:{var vt=u;gt=d,rt=b;var Ct=R,wt=Z,Vt=it=[0];if((Rt=at=[at])[0]=0,8>rt[0])rt=7;else{if(!i(vt,gt[0],"VP8X")){if(pt(vt,gt[0]+4)!=10){rt=3;break t}if(18>rt[0]){rt=7;break t}var It=pt(vt,gt[0]+8),fe=1+Mt(vt,gt[0]+12);if(2147483648<=fe*(vt=1+Mt(vt,gt[0]+15))){rt=3;break t}Vt!=null&&(Vt[0]=It),Ct!=null&&(Ct[0]=fe),wt!=null&&(wt[0]=vt),gt[0]+=18,rt[0]-=18,Rt[0]=1}rt=0}}if(at=at[0],it=it[0],rt!=0)return rt;if(gt=!!(2&it),!mt&&at)return 3;if(k!=null&&(k[0]=!!(16&it)),L!=null&&(L[0]=gt),M!=null&&(M[0]=0),L=R[0],it=Z[0],at&&gt&&O==null){rt=0;break}if(4>b){rt=7;break}if(mt&&at||!mt&&!at&&!i(u,d[0],"ALPH")){b=[b],J.na=[J.na],J.P=[J.P],J.Sa=[J.Sa];t:{It=u,rt=d,mt=b;var Rt=J.gb;Ct=J.na,wt=J.P,Vt=J.Sa,fe=22,e(It!=null),e(mt!=null),vt=rt[0];var ve=mt[0];for(e(Ct!=null),e(Vt!=null),Ct[0]=null,wt[0]=null,Vt[0]=0;;){if(rt[0]=vt,mt[0]=ve,8>ve){rt=7;break t}var Ti=pt(It,vt+4);if(4294967286<Ti){rt=3;break t}var de=8+Ti+1&-2;if(fe+=de,0<Rt&&fe>Rt){rt=3;break t}if(!i(It,vt,"VP8 ")||!i(It,vt,"VP8L")){rt=0;break t}if(ve[0]<de){rt=7;break t}i(It,vt,"ALPH")||(Ct[0]=It,wt[0]=vt+8,Vt[0]=Ti),vt+=de,ve-=de}}if(b=b[0],J.na=J.na[0],J.P=J.P[0],J.Sa=J.Sa[0],rt!=0)break}b=[b],J.Ja=[J.Ja],J.xa=[J.xa];t:if(Rt=u,rt=d,mt=b,Ct=J.gb[0],wt=J.Ja,Vt=J.xa,It=rt[0],vt=!i(Rt,It,"VP8 "),fe=!i(Rt,It,"VP8L"),e(Rt!=null),e(mt!=null),e(wt!=null),e(Vt!=null),8>mt[0])rt=7;else{if(vt||fe){if(Rt=pt(Rt,It+4),12<=Ct&&Rt>Ct-12){rt=3;break t}if(B&&Rt>mt[0]-8){rt=7;break t}wt[0]=Rt,rt[0]+=8,mt[0]-=8,Vt[0]=fe}else Vt[0]=5<=mt[0]&&Rt[It+0]==47&&!(Rt[It+4]>>5),wt[0]=mt[0];rt=0}if(b=b[0],J.Ja=J.Ja[0],J.xa=J.xa[0],d=d[0],rt!=0)break;if(4294967286<J.Ja)return 3;if(M==null||gt||(M[0]=J.xa?2:1),L=[L],it=[it],J.xa){if(5>b){rt=7;break}M=L,B=it,gt=k,u==null||5>b?u=0:5<=b&&u[d+0]==47&&!(u[d+4]>>5)?(mt=[0],Rt=[0],Ct=[0],ht(wt=new V,u,d,b),Tr(wt,mt,Rt,Ct)?(M!=null&&(M[0]=mt[0]),B!=null&&(B[0]=Rt[0]),gt!=null&&(gt[0]=Ct[0]),u=1):u=0):u=0}else{if(10>b){rt=7;break}M=it,u==null||10>b||!wh(u,d+3,b-3)?u=0:(B=u[d+0]|u[d+1]<<8|u[d+2]<<16,gt=16383&(u[d+7]<<8|u[d+6]),u=16383&(u[d+9]<<8|u[d+8]),1&B||3<(B>>1&7)||!(B>>4&1)||B>>5>=J.Ja||!gt||!u?u=0:(L&&(L[0]=gt),M&&(M[0]=u),u=1))}if(!u||(L=L[0],it=it[0],at&&(R[0]!=L||Z[0]!=it)))return 3;O!=null&&(O[0]=J,O.offset=d-O.w,e(4294967286>d-O.w),e(O.offset==O.ha-b));break}return rt==0||rt==7&&at&&O==null?(k!=null&&(k[0]|=J.na!=null&&0<J.na.length),_!=null&&(_[0]=L),C!=null&&(C[0]=it),0):rt}function il(u,d,b){var _=d.width,C=d.height,k=0,L=0,M=_,O=C;if(d.Da=u!=null&&0<u.Da,d.Da&&(M=u.cd,O=u.bd,k=u.v,L=u.j,11>b||(k&=-2,L&=-2),0>k||0>L||0>=M||0>=O||k+M>_||L+O>C))return 0;if(d.v=k,d.j=L,d.va=k+M,d.o=L+O,d.U=M,d.T=O,d.da=u!=null&&0<u.da,d.da){if(!$t(M,O,b=[u.ib],k=[u.hb]))return 0;d.ib=b[0],d.hb=k[0]}return d.ob=u!=null&&u.ob,d.Kb=u==null||!u.Sd,d.da&&(d.ob=d.ib<3*_/4&&d.hb<3*C/4,d.Kb=0),1}function nl(u){if(u==null)return 2;if(11>u.S){var d=u.f.RGBA;d.fb+=(u.height-1)*d.A,d.A=-d.A}else d=u.f.kb,u=u.height,d.O+=(u-1)*d.fa,d.fa=-d.fa,d.N+=(u-1>>1)*d.Ab,d.Ab=-d.Ab,d.W+=(u-1>>1)*d.Db,d.Db=-d.Db,d.F!=null&&(d.J+=(u-1)*d.lb,d.lb=-d.lb);return 0}function sa(u,d,b,_){if(_==null||0>=u||0>=d)return 2;if(b!=null){if(b.Da){var C=b.cd,k=b.bd,L=-2&b.v,M=-2&b.j;if(0>L||0>M||0>=C||0>=k||L+C>u||M+k>d)return 2;u=C,d=k}if(b.da){if(!$t(u,d,C=[b.ib],k=[b.hb]))return 2;u=C[0],d=k[0]}}_.width=u,_.height=d;t:{var O=_.width,R=_.height;if(u=_.S,0>=O||0>=R||!(u>=Fh&&13>u))u=2;else{if(0>=_.Rd&&_.sd==null){L=k=C=d=0;var Z=(M=O*M0[u])*R;if(11>u||(k=(R+1)/2*(d=(O+1)/2),u==12&&(L=(C=O)*R)),(R=a(Z+2*k+L))==null){u=1;break t}_.sd=R,11>u?((O=_.f.RGBA).eb=R,O.fb=0,O.A=M,O.size=Z):((O=_.f.kb).y=R,O.O=0,O.fa=M,O.Fd=Z,O.f=R,O.N=0+Z,O.Ab=d,O.Cd=k,O.ea=R,O.W=0+Z+k,O.Db=d,O.Ed=k,u==12&&(O.F=R,O.J=0+Z+2*k),O.Tc=L,O.lb=C)}if(d=1,C=_.S,k=_.width,L=_.height,C>=Fh&&13>C)if(11>C)u=_.f.RGBA,d&=(M=Math.abs(u.A))*(L-1)+k<=u.size,d&=M>=k*M0[C],d&=u.eb!=null;else{u=_.f.kb,M=(k+1)/2,Z=(L+1)/2,O=Math.abs(u.fa),R=Math.abs(u.Ab);var at=Math.abs(u.Db),B=Math.abs(u.lb),J=B*(L-1)+k;d&=O*(L-1)+k<=u.Fd,d&=R*(Z-1)+M<=u.Cd,d=(d&=at*(Z-1)+M<=u.Ed)&O>=k&R>=M&at>=M,d&=u.y!=null,d&=u.f!=null,d&=u.ea!=null,C==12&&(d&=B>=k,d&=J<=u.Tc,d&=u.F!=null)}else d=0;u=d?0:2}}return u!=0||b!=null&&b.fd&&(u=nl(_)),u}var us=64,bn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],vn=24,oa=32,Fr=8,la=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Pt("Predictor0","PredictorAdd0"),E.Predictor0=function(){return 4278190080},E.Predictor1=function(u){return u},E.Predictor2=function(u,d,b){return d[b+0]},E.Predictor3=function(u,d,b){return d[b+1]},E.Predictor4=function(u,d,b){return d[b-1]},E.Predictor5=function(u,d,b){return Wt(Wt(u,d[b+1]),d[b+0])},E.Predictor6=function(u,d,b){return Wt(u,d[b-1])},E.Predictor7=function(u,d,b){return Wt(u,d[b+0])},E.Predictor8=function(u,d,b){return Wt(d[b-1],d[b+0])},E.Predictor9=function(u,d,b){return Wt(d[b+0],d[b+1])},E.Predictor10=function(u,d,b){return Wt(Wt(u,d[b-1]),Wt(d[b+0],d[b+1]))},E.Predictor11=function(u,d,b){var _=d[b+0];return 0>=re(_>>24&255,u>>24&255,(d=d[b-1])>>24&255)+re(_>>16&255,u>>16&255,d>>16&255)+re(_>>8&255,u>>8&255,d>>8&255)+re(255&_,255&u,255&d)?_:u},E.Predictor12=function(u,d,b){var _=d[b+0];return(Ce((u>>24&255)+(_>>24&255)-((d=d[b-1])>>24&255))<<24|Ce((u>>16&255)+(_>>16&255)-(d>>16&255))<<16|Ce((u>>8&255)+(_>>8&255)-(d>>8&255))<<8|Ce((255&u)+(255&_)-(255&d)))>>>0},E.Predictor13=function(u,d,b){var _=d[b-1];return(ne((u=Wt(u,d[b+0]))>>24&255,_>>24&255)<<24|ne(u>>16&255,_>>16&255)<<16|ne(u>>8&255,_>>8&255)<<8|ne(255&u,255&_))>>>0};var rl=E.PredictorAdd0;E.PredictorAdd1=Oe,Pt("Predictor2","PredictorAdd2"),Pt("Predictor3","PredictorAdd3"),Pt("Predictor4","PredictorAdd4"),Pt("Predictor5","PredictorAdd5"),Pt("Predictor6","PredictorAdd6"),Pt("Predictor7","PredictorAdd7"),Pt("Predictor8","PredictorAdd8"),Pt("Predictor9","PredictorAdd9"),Pt("Predictor10","PredictorAdd10"),Pt("Predictor11","PredictorAdd11"),Pt("Predictor12","PredictorAdd12"),Pt("Predictor13","PredictorAdd13");var Ys=E.PredictorAdd2;qt("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),qt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var pi,Ih=E.ColorIndexInverseTransform,hr=E.MapARGB,cr=E.VP8LColorIndexInverseTransformAlpha,al=E.MapAlpha,sl=E.VP8LPredictorsAdd=[];sl.length=16,(E.VP8LPredictors=[]).length=16,(E.VP8LPredictorsAdd_C=[]).length=16,(E.VP8LPredictors_C=[]).length=16;var ol,ll,ha,ca,ua,fs,fa,ds,Bn,ur,Pe,ze,gi,Li,Rr,hl,Gs,Oh,s0,o0,l0,h0,c0,u0,cl,f0,d0,p0,g0=a(511),m0=a(2041),b0=a(225),v0=a(767),x0=0,nf=m0,Eh=b0,xn=v0,jn=g0,Fh=0,Rh=1,_0=2,Bh=3,jh=4,rf=5,y0=6,af=7,sf=8,zh=9,of=10,a_=[2,3,7],s_=[3,3,11],w0=[280,256,256,256,40],o_=[0,1,1,1,0],l_=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],h_=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],c_=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],u_=8,lf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],hf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ul=null,f_=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],d_=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],S0=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],p_=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],g_=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],m_=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],b_=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],da=[],Xn=[],Br=[],v_=1,C0=2,pa=[],zn=[];ln("UpsampleRgbLinePair",ss,3),ln("UpsampleBgrLinePair",os,3),ln("UpsampleRgbaLinePair",el,4),ln("UpsampleBgraLinePair",tl,4),ln("UpsampleArgbLinePair",hs,4),ln("UpsampleRgba4444LinePair",ls,2),ln("UpsampleRgb565LinePair",Zi,2);var x_=E.UpsampleRgbLinePair,__=E.UpsampleBgrLinePair,A0=E.UpsampleRgbaLinePair,k0=E.UpsampleBgraLinePair,D0=E.UpsampleArgbLinePair,L0=E.UpsampleRgba4444LinePair,y_=E.UpsampleRgb565LinePair,Vh=16,Uh=1<<Vh-1,fl=-227,cf=482,T0=6,w_=(256<<T0)-1,P0=0,S_=a(256),C_=a(256),A_=a(256),k_=a(256),D_=a(cf-fl),L_=a(cf-fl);Er("YuvToRgbRow",ss,3),Er("YuvToBgrRow",os,3),Er("YuvToRgbaRow",el,4),Er("YuvToBgraRow",tl,4),Er("YuvToArgbRow",hs,4),Er("YuvToRgba4444Row",ls,2),Er("YuvToRgb565Row",Zi,2);var N0=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Hh=[0,2,8],T_=[8,7,6,4,4,2,2,2,1,1,1,1],P_=1;this.WebPDecodeRGBA=function(u,d,b,_,C){var k=Rh,L=new tt,M=new je;L.ba=M,M.S=k,M.width=[M.width],M.height=[M.height];var O=M.width,R=M.height,Z=new Jt;if(Z==null||u==null)var at=2;else e(Z!=null),at=cs(u,d,b,Z.width,Z.height,Z.Pd,Z.Qd,Z.format,null);if(at!=0?O=0:(O!=null&&(O[0]=Z.width[0]),R!=null&&(R[0]=Z.height[0]),O=1),O){M.width=M.width[0],M.height=M.height[0],_!=null&&(_[0]=M.width),C!=null&&(C[0]=M.height);t:{if(_=new zs,(C=new bt).data=u,C.w=d,C.ha=b,C.kd=1,d=[0],e(C!=null),((u=cs(C.data,C.w,C.ha,null,null,null,d,null,C))==0||u==7)&&d[0]&&(u=4),(d=u)==0){if(e(L!=null),_.data=C.data,_.w=C.w+C.offset,_.ha=C.ha-C.offset,_.put=Gt,_.ac=ar,_.bc=Lr,_.ma=L,C.xa){if((u=Ya())==null){L=1;break t}if(function(B,J){var it=[0],gt=[0],rt=[0];e:for(;;){if(B==null)return 0;if(J==null)return B.a=2,0;if(B.l=J,B.a=0,ht(B.m,J.data,J.w,J.ha),!Tr(B.m,it,gt,rt)){B.a=3;break e}if(B.xb=C0,J.width=it[0],J.height=gt[0],!or(it[0],gt[0],1,B,null))break e;return 1}return e(B.a!=0),0}(u,_)){if(_=(d=sa(_.width,_.height,L.Oa,L.ba))==0){e:{_=u;i:for(;;){if(_==null){_=0;break e}if(e(_.s.yc!=null),e(_.s.Ya!=null),e(0<_.s.Wb),e((b=_.l)!=null),e((C=b.ma)!=null),_.xb!=0){if(_.ca=C.ba,_.tb=C.tb,e(_.ca!=null),!il(C.Oa,b,Bh)){_.a=2;break i}if(!Ga(_,b.width)||b.da)break i;if((b.da||se(_.ca.S))&&Fn(),11>_.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),_.ca.f.kb.F!=null&&Fn()),_.Pb&&0<_.s.ua&&_.s.vb.X==null&&!U(_.s.vb,_.s.Wa.Xa)){_.a=1;break i}_.xb=0}if(!Gn(_,_.V,_.Ba,_.c,_.i,b.o,ia))break i;C.Dc=_.Ma,_=1;break e}e(_.a!=0),_=0}_=!_}_&&(d=u.a)}else d=u.a}else{if((u=new Vu)==null){L=1;break t}if(u.Fa=C.na,u.P=C.P,u.qc=C.Sa,Sh(u,_)){if((d=sa(_.width,_.height,L.Oa,L.ba))==0){if(u.Aa=0,b=L.Oa,e((C=u)!=null),b!=null){if(0<(O=0>(O=b.Md)?0:100<O?255:255*O/100)){for(R=Z=0;4>R;++R)12>(at=C.pb[R]).lc&&(at.ia=O*T_[0>at.lc?0:at.lc]>>3),Z|=at.ia;Z&&(alert("todo:VP8InitRandom"),C.ia=1)}C.Ga=b.Id,100<C.Ga?C.Ga=100:0>C.Ga&&(C.Ga=0)}(function(B,J){if(B==null)return 0;if(J==null)return wi(B,2,"NULL VP8Io parameter in VP8Decode().");if(!B.cb&&!Sh(B,J))return 0;if(e(B.cb),J.ac==null||J.ac(J)){J.ob&&(B.L=0);var it=Hh[B.L];if(B.L==2?(B.yb=0,B.zb=0):(B.yb=J.v-it>>4,B.zb=J.j-it>>4,0>B.yb&&(B.yb=0),0>B.zb&&(B.zb=0)),B.Va=J.o+15+it>>4,B.Hb=J.va+15+it>>4,B.Hb>B.za&&(B.Hb=B.za),B.Va>B.Ub&&(B.Va=B.Ub),0<B.L){var gt=B.ed;for(it=0;4>it;++it){var rt;if(B.Qa.Cb){var mt=B.Qa.Lb[it];B.Qa.Fb||(mt+=gt.Tb)}else mt=gt.Tb;for(rt=0;1>=rt;++rt){var vt=B.gd[it][rt],Ct=mt;if(gt.Pc&&(Ct+=gt.vd[0],rt&&(Ct+=gt.od[0])),0<(Ct=0>Ct?0:63<Ct?63:Ct)){var wt=Ct;0<gt.wb&&(wt=4<gt.wb?wt>>2:wt>>1)>9-gt.wb&&(wt=9-gt.wb),1>wt&&(wt=1),vt.dd=wt,vt.tc=2*Ct+wt,vt.ld=40<=Ct?2:15<=Ct?1:0}else vt.tc=0;vt.La=rt}}}it=0}else wi(B,6,"Frame setup failed"),it=B.a;if(it=it==0){if(it){B.$c=0,0<B.Aa||(B.Ic=P_);e:{it=B.Ic,gt=4*(wt=B.za);var Vt=32*wt,It=wt+1,fe=0<B.L?wt*(0<B.Aa?2:1):0,Rt=(B.Aa==2?2:1)*wt;if((vt=gt+832+(rt=3*(16*it+Hh[B.L])/2*Vt)+(mt=B.Fa!=null&&0<B.Fa.length?B.Kc.c*B.Kc.i:0))!=vt)it=0;else{if(vt>B.Vb){if(B.Vb=0,B.Ec=a(vt),B.Fc=0,B.Ec==null){it=wi(B,1,"no memory during frame initialization.");break e}B.Vb=vt}vt=B.Ec,Ct=B.Fc,B.Ac=vt,B.Bc=Ct,Ct+=gt,B.Gd=s(Vt,_h),B.Hd=0,B.rb=s(It+1,Ho),B.sb=1,B.wa=fe?s(fe,En):null,B.Y=0,B.D.Nb=0,B.D.wa=B.wa,B.D.Y=B.Y,0<B.Aa&&(B.D.Y+=wt),e(!0),B.oc=vt,B.pc=Ct,Ct+=832,B.ya=s(Rt,qo),B.aa=0,B.D.ya=B.ya,B.D.aa=B.aa,B.Aa==2&&(B.D.aa+=wt),B.R=16*wt,B.B=8*wt,wt=(Vt=Hh[B.L])*B.R,Vt=Vt/2*B.B,B.sa=vt,B.ta=Ct+wt,B.qa=B.sa,B.ra=B.ta+16*it*B.R+Vt,B.Ha=B.qa,B.Ia=B.ra+8*it*B.B+Vt,B.$c=0,Ct+=rt,B.mb=mt?vt:null,B.nb=mt?Ct:null,e(Ct+mt<=B.Fc+B.Vb),Za(B),r(B.Ac,B.Bc,0,gt),it=1}}if(it){if(J.ka=0,J.y=B.sa,J.O=B.ta,J.f=B.qa,J.N=B.ra,J.ea=B.Ha,J.Vd=B.Ia,J.fa=B.R,J.Rc=B.B,J.F=null,J.J=0,!x0){for(it=-255;255>=it;++it)g0[255+it]=0>it?-it:it;for(it=-1020;1020>=it;++it)m0[1020+it]=-128>it?-128:127<it?127:it;for(it=-112;112>=it;++it)b0[112+it]=-16>it?-16:15<it?15:it;for(it=-255;510>=it;++it)v0[255+it]=0>it?0:255<it?255:it;x0=1}fa=Ah,ds=Hu,ur=qu,Pe=lr,ze=Ch,Bn=Uu,gi=Lh,Li=Th,Rr=m,hl=S,Gs=ns,Oh=Ph,s0=j,o0=Y,l0=Qo,h0=is,c0=kh,u0=Dh,Xn[0]=Ku,Xn[1]=$o,Xn[2]=Zu,Xn[3]=Xu,Xn[4]=Ju,Xn[5]=Mr,Xn[6]=Nr,Xn[7]=Qu,Xn[8]=Vs,Xn[9]=tf,da[0]=ra,da[1]=$u,da[2]=Yu,da[3]=Yo,da[4]=Gu,da[5]=Ja,da[6]=Go,Br[0]=Hs,Br[1]=Wu,Br[2]=Zo,Br[3]=Qa,Br[4]=Xo,Br[5]=ef,Br[6]=Ko,it=1}else it=0}it&&(it=function(ve,Ti){for(ve.M=0;ve.M<ve.Va;++ve.M){var de,Bt=ve.Jc[ve.M&ve.Xb],Lt=ve.m,mi=ve;for(de=0;de<mi.za;++de){var oe=Lt,_e=mi,Qe=_e.Ac,zi=_e.Bc+4*de,nn=_e.zc,si=_e.ya[_e.aa+de];if(_e.Qa.Bb?si.$b=_t(oe,_e.Pa.jb[0])?2+_t(oe,_e.Pa.jb[2]):_t(oe,_e.Pa.jb[1]):si.$b=0,_e.kc&&(si.Ad=_t(oe,_e.Bd)),si.Za=!_t(oe,145)+0,si.Za){var Xi=si.Ob,rn=0;for(_e=0;4>_e;++_e){var Pi,we=nn[0+_e];for(Pi=0;4>Pi;++Pi){we=g_[Qe[zi+Pi]][we];for(var Me=S0[_t(oe,we[0])];0<Me;)Me=S0[2*Me+_t(oe,we[Me])];we=-Me,Qe[zi+Pi]=we}n(Xi,rn,Qe,zi,4),rn+=4,nn[0+_e]=we}}else we=_t(oe,156)?_t(oe,128)?1:3:_t(oe,163)?2:0,si.Ob[0]=we,r(Qe,zi,we,4),r(nn,0,we,4);si.Dd=_t(oe,142)?_t(oe,114)?_t(oe,183)?1:3:2:0}if(mi.m.Ka)return wi(ve,7,"Premature end-of-partition0 encountered.");for(;ve.ja<ve.za;++ve.ja){if(mi=Bt,oe=(Lt=ve).rb[Lt.sb-1],Qe=Lt.rb[Lt.sb+Lt.ja],de=Lt.ya[Lt.aa+Lt.ja],zi=Lt.kc?de.Ad:0)oe.la=Qe.la=0,de.Za||(oe.Na=Qe.Na=0),de.Hc=0,de.Gc=0,de.ia=0;else{var oi,Ie;if(oe=Qe,Qe=mi,zi=Lt.Pa.Xc,nn=Lt.ya[Lt.aa+Lt.ja],si=Lt.pb[nn.$b],_e=nn.ad,Xi=0,rn=Lt.rb[Lt.sb-1],we=Pi=0,r(_e,Xi,0,384),nn.Za)var Vi=0,Kn=zi[3];else{Me=a(16);var bi=oe.Na+rn.Na;if(bi=ul(Qe,zi[1],bi,si.Eb,0,Me,0),oe.Na=rn.Na=(0<bi)+0,1<bi)fa(Me,0,_e,Xi);else{var hn=Me[0]+3>>3;for(Me=0;256>Me;Me+=16)_e[Xi+Me]=hn}Vi=1,Kn=zi[0]}var Ve=15&oe.la,Ni=15&rn.la;for(Me=0;4>Me;++Me){var _n=1&Ni;for(hn=Ie=0;4>hn;++hn)Ve=Ve>>1|(_n=(bi=ul(Qe,Kn,bi=_n+(1&Ve),si.Sc,Vi,_e,Xi))>Vi)<<7,Ie=Ie<<2|(3<bi?3:1<bi?2:_e[Xi+0]!=0),Xi+=16;Ve>>=4,Ni=Ni>>1|_n<<7,Pi=(Pi<<8|Ie)>>>0}for(Kn=Ve,Vi=Ni>>4,oi=0;4>oi;oi+=2){for(Ie=0,Ve=oe.la>>4+oi,Ni=rn.la>>4+oi,Me=0;2>Me;++Me){for(_n=1&Ni,hn=0;2>hn;++hn)bi=_n+(1&Ve),Ve=Ve>>1|(_n=0<(bi=ul(Qe,zi[2],bi,si.Qc,0,_e,Xi)))<<3,Ie=Ie<<2|(3<bi?3:1<bi?2:_e[Xi+0]!=0),Xi+=16;Ve>>=2,Ni=Ni>>1|_n<<5}we|=Ie<<4*oi,Kn|=Ve<<4<<oi,Vi|=(240&Ni)<<oi}oe.la=Kn,rn.la=Vi,nn.Hc=Pi,nn.Gc=we,nn.ia=43690&we?0:si.ia,zi=!(Pi|we)}if(0<Lt.L&&(Lt.wa[Lt.Y+Lt.ja]=Lt.gd[de.$b][de.Za],Lt.wa[Lt.Y+Lt.ja].La|=!zi),mi.Ka)return wi(ve,7,"Premature end-of-file encountered.")}if(Za(ve),Lt=Ti,mi=1,de=(Bt=ve).D,oe=0<Bt.L&&Bt.M>=Bt.zb&&Bt.M<=Bt.Va,Bt.Aa==0)e:{if(de.M=Bt.M,de.uc=oe,Rn(Bt,de),mi=1,de=(Ie=Bt.D).Nb,oe=(we=Hh[Bt.L])*Bt.R,Qe=we/2*Bt.B,Me=16*de*Bt.R,hn=8*de*Bt.B,zi=Bt.sa,nn=Bt.ta-oe+Me,si=Bt.qa,_e=Bt.ra-Qe+hn,Xi=Bt.Ha,rn=Bt.Ia-Qe+hn,Ni=(Ve=Ie.M)==0,Pi=Ve>=Bt.Va-1,Bt.Aa==2&&Rn(Bt,Ie),Ie.uc)for(_n=(bi=Bt).D.M,e(bi.D.uc),Ie=bi.yb;Ie<bi.Hb;++Ie){Vi=Ie,Kn=_n;var an=(yn=(Ui=bi).D).Nb;oi=Ui.R;var yn=yn.wa[yn.Y+Vi],wn=Ui.sa,cn=Ui.ta+16*an*oi+16*Vi,Sn=yn.dd,Ye=yn.tc;if(Ye!=0)if(e(3<=Ye),Ui.L==1)0<Vi&&h0(wn,cn,oi,Ye+4),yn.La&&u0(wn,cn,oi,Ye),0<Kn&&l0(wn,cn,oi,Ye+4),yn.La&&c0(wn,cn,oi,Ye);else{var Cn=Ui.B,Jn=Ui.qa,ps=Ui.ra+8*an*Cn+8*Vi,jr=Ui.Ha,Ui=Ui.Ia+8*an*Cn+8*Vi;an=yn.ld,0<Vi&&(Li(wn,cn,oi,Ye+4,Sn,an),hl(Jn,ps,jr,Ui,Cn,Ye+4,Sn,an)),yn.La&&(Oh(wn,cn,oi,Ye,Sn,an),o0(Jn,ps,jr,Ui,Cn,Ye,Sn,an)),0<Kn&&(gi(wn,cn,oi,Ye+4,Sn,an),Rr(Jn,ps,jr,Ui,Cn,Ye+4,Sn,an)),yn.La&&(Gs(wn,cn,oi,Ye,Sn,an),s0(Jn,ps,jr,Ui,Cn,Ye,Sn,an))}}if(Bt.ia&&alert("todo:DitherRow"),Lt.put!=null){if(Ie=16*Ve,Ve=16*(Ve+1),Ni?(Lt.y=Bt.sa,Lt.O=Bt.ta+Me,Lt.f=Bt.qa,Lt.N=Bt.ra+hn,Lt.ea=Bt.Ha,Lt.W=Bt.Ia+hn):(Ie-=we,Lt.y=zi,Lt.O=nn,Lt.f=si,Lt.N=_e,Lt.ea=Xi,Lt.W=rn),Pi||(Ve-=we),Ve>Lt.o&&(Ve=Lt.o),Lt.F=null,Lt.J=null,Bt.Fa!=null&&0<Bt.Fa.length&&Ie<Ve&&(Lt.J=Si(Bt,Lt,Ie,Ve-Ie),Lt.F=Bt.mb,Lt.F==null&&Lt.F.length==0)){mi=wi(Bt,3,"Could not decode alpha data.");break e}Ie<Lt.j&&(we=Lt.j-Ie,Ie=Lt.j,e(!(1&we)),Lt.O+=Bt.R*we,Lt.N+=Bt.B*(we>>1),Lt.W+=Bt.B*(we>>1),Lt.F!=null&&(Lt.J+=Lt.width*we)),Ie<Ve&&(Lt.O+=Lt.v,Lt.N+=Lt.v>>1,Lt.W+=Lt.v>>1,Lt.F!=null&&(Lt.J+=Lt.v),Lt.ka=Ie-Lt.j,Lt.U=Lt.va-Lt.v,Lt.T=Ve-Ie,mi=Lt.put(Lt))}de+1!=Bt.Ic||Pi||(n(Bt.sa,Bt.ta-oe,zi,nn+16*Bt.R,oe),n(Bt.qa,Bt.ra-Qe,si,_e+8*Bt.B,Qe),n(Bt.Ha,Bt.Ia-Qe,Xi,rn+8*Bt.B,Qe))}if(!mi)return wi(ve,6,"Output aborted.")}return 1}(B,J)),J.bc!=null&&J.bc(J),it&=1}return it?(B.cb=0,it):0})(u,_)||(d=u.a)}}else d=u.a}d==0&&L.Oa!=null&&L.Oa.fd&&(d=nl(L.ba))}L=d}k=L!=0?null:11>k?M.f.RGBA.eb:M.f.kb.y}else k=null;return k};var M0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(E,X){for(var D="",I=0;I<4;I++)D+=String.fromCharCode(E[X++]);return D}function c(E,X){return E[X+0]|E[X+1]<<8}function p(E,X){return(E[X+0]|E[X+1]<<8|E[X+2]<<16)>>>0}function g(E,X){return(E[X+0]|E[X+1]<<8|E[X+2]<<16|E[X+3]<<24)>>>0}new l;var f=[0],v=[0],x=[],y=new l,w=t,A=function(E,X){var D={},I=0,W=!1,q=0,et=0;if(D.frames=[],!function(P,V){for(var H=0;H<4;H++)if(P[V+H]!="RIFF".charCodeAt(H))return!0;return!1}(E,X)){for(g(E,X+=4),X+=8;X<E.length;){var ot=h(E,X),lt=g(E,X+=4);X+=4;var nt=lt+(1&lt);switch(ot){case"VP8 ":case"VP8L":D.frames[I]===void 0&&(D.frames[I]={}),(yt=D.frames[I]).src_off=W?et:X-8,yt.src_size=q+lt+8,I++,W&&(W=!1,q=0,et=0);break;case"VP8X":(yt=D.header={}).feature_flags=E[X];var ht=X+4;yt.canvas_width=1+p(E,ht),ht+=3,yt.canvas_height=1+p(E,ht),ht+=3;break;case"ALPH":W=!0,q=nt+8,et=X-8;break;case"ANIM":(yt=D.header).bgcolor=g(E,X),ht=X+4,yt.loop_count=c(E,ht),ht+=2;break;case"ANMF":var kt,yt;(yt=D.frames[I]={}).offset_x=2*p(E,X),X+=3,yt.offset_y=2*p(E,X),X+=3,yt.width=1+p(E,X),X+=3,yt.height=1+p(E,X),X+=3,yt.duration=p(E,X),X+=3,kt=E[X++],yt.dispose=1&kt,yt.blend=kt>>1&1}ot!="ANMF"&&(X+=nt)}return D}}(w,0);A.response=w,A.rgbaoutput=!0,A.dataurl=!1;var N=A.header?A.header:null,T=A.frames?A.frames:null;if(N){N.loop_counter=N.loop_count,f=[N.canvas_height],v=[N.canvas_width];for(var F=0;F<T.length&&T[F].blend!=0;F++);}var $=T[0],K=y.WebPDecodeRGBA(w,$.src_off,$.src_size,v,f);$.rgba=K,$.imgwidth=v[0],$.imgheight=f[0];for(var z=0;z<v[0]*f[0]*4;z++)x[z]=K[z];return this.width=v,this.height=f,this.data=x,this}(function(t){var e,i,n,r,a,s,o,l,h,c=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new l,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new s,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new s,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,i=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,h=new c}]);var p=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var V=P;Object.defineProperty(this,"pdf",{get:function(){return V}});var H=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return H},set:function(pt){H=!!pt}});var G=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return G},set:function(pt){G=!!pt}});var Q=0;Object.defineProperty(this,"posX",{get:function(){return Q},set:function(pt){isNaN(pt)||(Q=pt)}});var st=0;Object.defineProperty(this,"posY",{get:function(){return st},set:function(pt){isNaN(pt)||(st=pt)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(pt){var U;typeof pt=="number"?U=[pt,pt,pt,pt]:((U=new Array(4))[0]=pt[0],U[1]=pt.length>=2?pt[1]:U[0],U[2]=pt.length>=3?pt[2]:U[0],U[3]=pt.length>=4?pt[3]:U[1]),h.margin=U}});var ft=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ft},set:function(pt){ft=pt}});var ct=0;Object.defineProperty(this,"lastBreak",{get:function(){return ct},set:function(pt){ct=pt}});var _t=[];Object.defineProperty(this,"pageBreaks",{get:function(){return _t},set:function(pt){_t=pt}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(pt){pt instanceof c&&(h=pt)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(pt){h.path=pt}});var At=[];Object.defineProperty(this,"ctxStack",{get:function(){return At},set:function(pt){At=pt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(pt){var U;U=g(pt),this.ctx.fillStyle=U.style,this.ctx.isFillTransparent=U.a===0,this.ctx.fillOpacity=U.a,this.pdf.setFillColor(U.r,U.g,U.b,{a:U.a}),this.pdf.setTextColor(U.r,U.g,U.b,{a:U.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(pt){var U=g(pt);this.ctx.strokeStyle=U.style,this.ctx.isStrokeTransparent=U.a===0,this.ctx.strokeOpacity=U.a,U.a===0?this.pdf.setDrawColor(255,255,255):(U.a,this.pdf.setDrawColor(U.r,U.g,U.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(pt){["butt","round","square"].indexOf(pt)!==-1&&(this.ctx.lineCap=pt,this.pdf.setLineCap(pt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(pt){isNaN(pt)||(this.ctx.lineWidth=pt,this.pdf.setLineWidth(pt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(pt){["bevel","round","miter"].indexOf(pt)!==-1&&(this.ctx.lineJoin=pt,this.pdf.setLineJoin(pt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(pt){isNaN(pt)||(this.ctx.miterLimit=pt,this.pdf.setMiterLimit(pt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(pt){this.ctx.textBaseline=pt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(pt){["right","end","center","left","start"].indexOf(pt)!==-1&&(this.ctx.textAlign=pt)}});var Nt=null,Mt=null;Object.defineProperty(this,"fontFaces",{get:function(){return Mt},set:function(pt){Nt=null,Mt=pt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(pt){var U;if(this.ctx.font=pt,(U=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(pt))!==null){var me=U[1];U[2];var he=U[3],$t=U[4];U[5];var Dt=U[6],Ut=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec($t)[2];$t=Math.floor(Ut==="px"?parseFloat($t)*this.pdf.internal.scaleFactor:Ut==="em"?parseFloat($t)*this.pdf.getFontSize():parseFloat($t)*this.pdf.internal.scaleFactor),this.pdf.setFontSize($t);var Pt=function(Zt){var qt,We,Ae=[],zt=Zt.trim();if(zt==="")return Hp;if(zt in lx)return[lx[zt]];for(;zt!=="";){switch(We=null,qt=(zt=cx(zt)).charAt(0)){case'"':case"'":We=cL(zt.substring(1),qt);break;default:We=uL(zt)}if(We===null||(Ae.push(We[0]),(zt=cx(We[1]))!==""&&zt.charAt(0)!==","))return Hp;zt=zt.replace(/^,/,"")}return Ae}(Dt);if(this.fontFaces){var ce=function(Zt,qt){if(Nt===null){var We=function(Ae){var zt=[];return Object.keys(Ae).forEach(function(ae){Ae[ae].forEach(function(Be){var Yt=null;switch(Be){case"bold":Yt={family:ae,weight:"bold"};break;case"italic":Yt={family:ae,style:"italic"};break;case"bolditalic":Yt={family:ae,weight:"bold",style:"italic"};break;case"":case"normal":Yt={family:ae}}Yt!==null&&(Yt.ref={name:ae,style:Be},zt.push(Yt))})}),zt}(Zt.getFontList());Nt=function(Ae){for(var zt={},ae=0;ae<Ae.length;++ae){var Be=Up(Ae[ae]),Yt=Be.family,be=Be.stretch,se=Be.style,fi=Be.weight;zt[Yt]=zt[Yt]||{},zt[Yt][be]=zt[Yt][be]||{},zt[Yt][be][se]=zt[Yt][be][se]||{},zt[Yt][be][se][fi]=Be}return zt}(We.concat(qt))}return Nt}(this.pdf,this.fontFaces),Wt=Pt.map(function(Zt){return{family:Zt,stretch:"normal",weight:he,style:me}}),Ce=function(Zt,qt,We){for(var Ae=(We=We||{}).defaultFontFamily||"times",zt=Object.assign({},hL,We.genericFontFamilies||{}),ae=null,Be=null,Yt=0;Yt<qt.length;++Yt)if(zt[(ae=Up(qt[Yt])).family]&&(ae.family=zt[ae.family]),Zt.hasOwnProperty(ae.family)){Be=Zt[ae.family];break}if(!(Be=Be||Zt[Ae]))throw new Error("Could not find a font-family for the rule '"+hx(ae)+"' and default family '"+Ae+"'.");if(Be=function(be,se){if(se[be])return se[be];var fi=Zp[be],ki=fi<=Zp.normal?-1:1,je=ox(se,Ix,fi,ki);if(!je)throw new Error("Could not find a matching font-stretch value for "+be);return je}(ae.stretch,Be),Be=function(be,se){if(se[be])return se[be];for(var fi=Mx[be],ki=0;ki<fi.length;++ki)if(se[fi[ki]])return se[fi[ki]];throw new Error("Could not find a matching font-style for "+be)}(ae.style,Be),!(Be=function(be,se){if(se[be])return se[be];if(be===400&&se[500])return se[500];if(be===500&&se[400])return se[400];var fi=lL[be],ki=ox(se,Ox,fi,be<400?-1:1);if(!ki)throw new Error("Could not find a matching font-weight for value "+be);return ki}(ae.weight,Be)))throw new Error("Failed to resolve a font for the rule '"+hx(ae)+"'.");return Be}(ce,Wt);this.pdf.setFont(Ce.ref.name,Ce.ref.style)}else{var ne="";(he==="bold"||parseInt(he,10)>=700||me==="bold")&&(ne="bold"),me==="italic"&&(ne+="italic"),ne.length===0&&(ne="normal");for(var re="",Oe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ue=0;ue<Pt.length;ue++){if(this.pdf.internal.getFont(Pt[ue],ne,{noFallback:!0,disableWarning:!0})!==void 0){re=Pt[ue];break}if(ne==="bolditalic"&&this.pdf.internal.getFont(Pt[ue],"bold",{noFallback:!0,disableWarning:!0})!==void 0)re=Pt[ue],ne="bold";else if(this.pdf.internal.getFont(Pt[ue],"normal",{noFallback:!0,disableWarning:!0})!==void 0){re=Pt[ue],ne="normal";break}}if(re===""){for(var Ht=0;Ht<Pt.length;Ht++)if(Oe[Pt[Ht]]){re=Oe[Pt[Ht]];break}}re=re===""?"Times":re,this.pdf.setFont(re,ne)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(pt){this.ctx.globalCompositeOperation=pt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(pt){this.ctx.globalAlpha=pt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(pt){this.ctx.lineDashOffset=pt,yt.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(pt){this.ctx.lineDash=pt,yt.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(pt){this.ctx.ignoreClearRect=!!pt}})};p.prototype.setLineDash=function(P){this.lineDash=P},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){T.call(this,"fill",!1)},p.prototype.stroke=function(){T.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(P,V){if(isNaN(P)||isNaN(V))throw qe.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var H=this.ctx.transform.applyToPoint(new s(P,V));this.path.push({type:"mt",x:H.x,y:H.y}),this.ctx.lastPoint=new s(P,V)},p.prototype.closePath=function(){var P=new s(0,0),V=0;for(V=this.path.length-1;V!==-1;V--)if(this.path[V].type==="begin"&&Re(this.path[V+1])==="object"&&typeof this.path[V+1].x=="number"){P=new s(this.path[V+1].x,this.path[V+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(P.x,P.y)},p.prototype.lineTo=function(P,V){if(isNaN(P)||isNaN(V))throw qe.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var H=this.ctx.transform.applyToPoint(new s(P,V));this.path.push({type:"lt",x:H.x,y:H.y}),this.ctx.lastPoint=new s(H.x,H.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),T.call(this,null,!0)},p.prototype.quadraticCurveTo=function(P,V,H,G){if(isNaN(H)||isNaN(G)||isNaN(P)||isNaN(V))throw qe.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Q=this.ctx.transform.applyToPoint(new s(H,G)),st=this.ctx.transform.applyToPoint(new s(P,V));this.path.push({type:"qct",x1:st.x,y1:st.y,x:Q.x,y:Q.y}),this.ctx.lastPoint=new s(Q.x,Q.y)},p.prototype.bezierCurveTo=function(P,V,H,G,Q,st){if(isNaN(Q)||isNaN(st)||isNaN(P)||isNaN(V)||isNaN(H)||isNaN(G))throw qe.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ft=this.ctx.transform.applyToPoint(new s(Q,st)),ct=this.ctx.transform.applyToPoint(new s(P,V)),_t=this.ctx.transform.applyToPoint(new s(H,G));this.path.push({type:"bct",x1:ct.x,y1:ct.y,x2:_t.x,y2:_t.y,x:ft.x,y:ft.y}),this.ctx.lastPoint=new s(ft.x,ft.y)},p.prototype.arc=function(P,V,H,G,Q,st){if(isNaN(P)||isNaN(V)||isNaN(H)||isNaN(G)||isNaN(Q))throw qe.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(st=!!st,!this.ctx.transform.isIdentity){var ft=this.ctx.transform.applyToPoint(new s(P,V));P=ft.x,V=ft.y;var ct=this.ctx.transform.applyToPoint(new s(0,H)),_t=this.ctx.transform.applyToPoint(new s(0,0));H=Math.sqrt(Math.pow(ct.x-_t.x,2)+Math.pow(ct.y-_t.y,2))}Math.abs(Q-G)>=2*Math.PI&&(G=0,Q=2*Math.PI),this.path.push({type:"arc",x:P,y:V,radius:H,startAngle:G,endAngle:Q,counterclockwise:st})},p.prototype.arcTo=function(P,V,H,G,Q){throw new Error("arcTo not implemented.")},p.prototype.rect=function(P,V,H,G){if(isNaN(P)||isNaN(V)||isNaN(H)||isNaN(G))throw qe.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,V),this.lineTo(P+H,V),this.lineTo(P+H,V+G),this.lineTo(P,V+G),this.lineTo(P,V),this.lineTo(P+H,V),this.lineTo(P,V)},p.prototype.fillRect=function(P,V,H,G){if(isNaN(P)||isNaN(V)||isNaN(H)||isNaN(G))throw qe.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var Q={};this.lineCap!=="butt"&&(Q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,V,H,G),this.fill(),Q.hasOwnProperty("lineCap")&&(this.lineCap=Q.lineCap),Q.hasOwnProperty("lineJoin")&&(this.lineJoin=Q.lineJoin)}},p.prototype.strokeRect=function(P,V,H,G){if(isNaN(P)||isNaN(V)||isNaN(H)||isNaN(G))throw qe.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(P,V,H,G),this.stroke())},p.prototype.clearRect=function(P,V,H,G){if(isNaN(P)||isNaN(V)||isNaN(H)||isNaN(G))throw qe.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,V,H,G))},p.prototype.save=function(P){P=typeof P!="boolean"||P;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("q");if(this.pdf.setPage(V),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var G=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=G}},p.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("Q");this.pdf.setPage(V),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(P){var V,H,G,Q;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))V=0,H=0,G=0,Q=0;else{var st=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(st!==null)V=parseInt(st[1]),H=parseInt(st[2]),G=parseInt(st[3]),Q=1;else if((st=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)V=parseInt(st[1]),H=parseInt(st[2]),G=parseInt(st[3]),Q=parseFloat(st[4]);else{if(Q=1,typeof P=="string"&&P.charAt(0)!=="#"){var ft=new Ax(P);P=ft.ok?ft.toHex():"#000000"}P.length===4?(V=P.substring(1,2),V+=V,H=P.substring(2,3),H+=H,G=P.substring(3,4),G+=G):(V=P.substring(1,3),H=P.substring(3,5),G=P.substring(5,7)),V=parseInt(V,16),H=parseInt(H,16),G=parseInt(G,16)}}return{r:V,g:H,b:G,a:Q,style:P}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(P,V,H,G){if(isNaN(V)||isNaN(H)||typeof P!="string")throw qe.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(G=isNaN(G)?void 0:G,!f.call(this)){var Q=nt(this.ctx.transform.rotation),st=this.ctx.transform.scaleX;I.call(this,{text:P,x:V,y:H,scale:st,angle:Q,align:this.textAlign,maxWidth:G})}},p.prototype.strokeText=function(P,V,H,G){if(isNaN(V)||isNaN(H)||typeof P!="string")throw qe.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){G=isNaN(G)?void 0:G;var Q=nt(this.ctx.transform.rotation),st=this.ctx.transform.scaleX;I.call(this,{text:P,x:V,y:H,scale:st,renderingMode:"stroke",angle:Q,align:this.textAlign,maxWidth:G})}},p.prototype.measureText=function(P){if(typeof P!="string")throw qe.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var V=this.pdf,H=this.pdf.internal.scaleFactor,G=V.internal.getFontSize(),Q=V.getStringUnitWidth(P)*G/V.internal.scaleFactor;return new function(st){var ft=(st=st||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ft}}),this}({width:Q*=Math.round(96*H/72*1e4)/1e4})},p.prototype.scale=function(P,V){if(isNaN(P)||isNaN(V))throw qe.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var H=new l(P,0,0,V,0,0);this.ctx.transform=this.ctx.transform.multiply(H)},p.prototype.rotate=function(P){if(isNaN(P))throw qe.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var V=new l(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(V)},p.prototype.translate=function(P,V){if(isNaN(P)||isNaN(V))throw qe.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var H=new l(1,0,0,1,P,V);this.ctx.transform=this.ctx.transform.multiply(H)},p.prototype.transform=function(P,V,H,G,Q,st){if(isNaN(P)||isNaN(V)||isNaN(H)||isNaN(G)||isNaN(Q)||isNaN(st))throw qe.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ft=new l(P,V,H,G,Q,st);this.ctx.transform=this.ctx.transform.multiply(ft)},p.prototype.setTransform=function(P,V,H,G,Q,st){P=isNaN(P)?1:P,V=isNaN(V)?0:V,H=isNaN(H)?0:H,G=isNaN(G)?1:G,Q=isNaN(Q)?0:Q,st=isNaN(st)?0:st,this.ctx.transform=new l(P,V,H,G,Q,st)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(P,V,H,G,Q,st,ft,ct,_t){var At=this.pdf.getImageProperties(P),Nt=1,Mt=1,pt=1,U=1;G!==void 0&&ct!==void 0&&(pt=ct/G,U=_t/Q,Nt=At.width/G*ct/G,Mt=At.height/Q*_t/Q),st===void 0&&(st=V,ft=H,V=0,H=0),G!==void 0&&ct===void 0&&(ct=G,_t=Q),G===void 0&&ct===void 0&&(ct=At.width,_t=At.height);for(var me,he=this.ctx.transform.decompose(),$t=nt(he.rotate.shx),Dt=new l,Ut=(Dt=(Dt=(Dt=Dt.multiply(he.translate)).multiply(he.skew)).multiply(he.scale)).applyToRectangle(new o(st-V*pt,ft-H*U,G*Nt,Q*Mt)),Pt=y.call(this,Ut),ce=[],Wt=0;Wt<Pt.length;Wt+=1)ce.indexOf(Pt[Wt])===-1&&ce.push(Pt[Wt]);if(N(ce),this.autoPaging)for(var Ce=ce[0],ne=ce[ce.length-1],re=Ce;re<ne+1;re++){this.pdf.setPage(re);var Oe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ue=re===1?this.posY+this.margin[0]:this.margin[0],Ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Zt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],qt=re===1?0:Ht+(re-2)*Zt;if(this.ctx.clip_path.length!==0){var We=this.path;me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(me,this.posX+this.margin[3],-qt+ue+this.ctx.prevPageLastElemOffset),F.call(this,"fill",!0),this.path=We}var Ae=JSON.parse(JSON.stringify(Ut));Ae=A([Ae],this.posX+this.margin[3],-qt+ue+this.ctx.prevPageLastElemOffset)[0];var zt=(re>Ce||re<ne)&&x.call(this);zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Oe,Zt,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",Ae.x,Ae.y,Ae.w,Ae.h,null,null,$t),zt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(P,"JPEG",Ut.x,Ut.y,Ut.w,Ut.h,null,null,$t)};var y=function(P,V,H){var G=[];V=V||this.pdf.internal.pageSize.width,H=H||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Q=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":G.push(Math.floor((P.y+Q)/H)+1);break;case"arc":G.push(Math.floor((P.y+Q-P.radius)/H)+1),G.push(Math.floor((P.y+Q+P.radius)/H)+1);break;case"qct":var st=ht(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);G.push(Math.floor((st.y+Q)/H)+1),G.push(Math.floor((st.y+st.h+Q)/H)+1);break;case"bct":var ft=kt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);G.push(Math.floor((ft.y+Q)/H)+1),G.push(Math.floor((ft.y+ft.h+Q)/H)+1);break;case"rect":G.push(Math.floor((P.y+Q)/H)+1),G.push(Math.floor((P.y+P.h+Q)/H)+1)}for(var ct=0;ct<G.length;ct+=1)for(;this.pdf.internal.getNumberOfPages()<G[ct];)w.call(this);return G},w=function(){var P=this.fillStyle,V=this.strokeStyle,H=this.font,G=this.lineCap,Q=this.lineWidth,st=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=V,this.font=H,this.lineCap=G,this.lineWidth=Q,this.lineJoin=st},A=function(P,V,H){for(var G=0;G<P.length;G++)switch(P[G].type){case"bct":P[G].x2+=V,P[G].y2+=H;case"qct":P[G].x1+=V,P[G].y1+=H;default:P[G].x+=V,P[G].y+=H}return P},N=function(P){return P.sort(function(V,H){return V-H})},T=function(P,V){for(var H,G,Q=this.fillStyle,st=this.strokeStyle,ft=this.lineCap,ct=this.lineWidth,_t=Math.abs(ct*this.ctx.transform.scaleX),At=this.lineJoin,Nt=JSON.parse(JSON.stringify(this.path)),Mt=JSON.parse(JSON.stringify(this.path)),pt=[],U=0;U<Mt.length;U++)if(Mt[U].x!==void 0)for(var me=y.call(this,Mt[U]),he=0;he<me.length;he+=1)pt.indexOf(me[he])===-1&&pt.push(me[he]);for(var $t=0;$t<pt.length;$t++)for(;this.pdf.internal.getNumberOfPages()<pt[$t];)w.call(this);if(N(pt),this.autoPaging)for(var Dt=pt[0],Ut=pt[pt.length-1],Pt=Dt;Pt<Ut+1;Pt++){this.pdf.setPage(Pt),this.fillStyle=Q,this.strokeStyle=st,this.lineCap=ft,this.lineWidth=_t,this.lineJoin=At;var ce=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Wt=Pt===1?this.posY+this.margin[0]:this.margin[0],Ce=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ne=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],re=Pt===1?0:Ce+(Pt-2)*ne;if(this.ctx.clip_path.length!==0){var Oe=this.path;H=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(H,this.posX+this.margin[3],-re+Wt+this.ctx.prevPageLastElemOffset),F.call(this,P,!0),this.path=Oe}if(G=JSON.parse(JSON.stringify(Nt)),this.path=A(G,this.posX+this.margin[3],-re+Wt+this.ctx.prevPageLastElemOffset),V===!1||Pt===0){var ue=(Pt>Dt||Pt<Ut)&&x.call(this);ue&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ce,ne,null).clip().discardPath()),F.call(this,P,V),ue&&this.pdf.restoreGraphicsState()}this.lineWidth=ct}else this.lineWidth=_t,F.call(this,P,V),this.lineWidth=ct;this.path=Nt},F=function(P,V){if((P!=="stroke"||V||!v.call(this))&&(P==="stroke"||V||!f.call(this))){for(var H,G,Q=[],st=this.path,ft=0;ft<st.length;ft++){var ct=st[ft];switch(ct.type){case"begin":Q.push({begin:!0});break;case"close":Q.push({close:!0});break;case"mt":Q.push({start:ct,deltas:[],abs:[]});break;case"lt":var _t=Q.length;if(st[ft-1]&&!isNaN(st[ft-1].x)&&(H=[ct.x-st[ft-1].x,ct.y-st[ft-1].y],_t>0)){for(;_t>=0;_t--)if(Q[_t-1].close!==!0&&Q[_t-1].begin!==!0){Q[_t-1].deltas.push(H),Q[_t-1].abs.push(ct);break}}break;case"bct":H=[ct.x1-st[ft-1].x,ct.y1-st[ft-1].y,ct.x2-st[ft-1].x,ct.y2-st[ft-1].y,ct.x-st[ft-1].x,ct.y-st[ft-1].y],Q[Q.length-1].deltas.push(H);break;case"qct":var At=st[ft-1].x+2/3*(ct.x1-st[ft-1].x),Nt=st[ft-1].y+2/3*(ct.y1-st[ft-1].y),Mt=ct.x+2/3*(ct.x1-ct.x),pt=ct.y+2/3*(ct.y1-ct.y),U=ct.x,me=ct.y;H=[At-st[ft-1].x,Nt-st[ft-1].y,Mt-st[ft-1].x,pt-st[ft-1].y,U-st[ft-1].x,me-st[ft-1].y],Q[Q.length-1].deltas.push(H);break;case"arc":Q.push({deltas:[],abs:[],arc:!0}),Array.isArray(Q[Q.length-1].abs)&&Q[Q.length-1].abs.push(ct)}}G=V?null:P==="stroke"?"stroke":"fill";for(var he=!1,$t=0;$t<Q.length;$t++)if(Q[$t].arc)for(var Dt=Q[$t].abs,Ut=0;Ut<Dt.length;Ut++){var Pt=Dt[Ut];Pt.type==="arc"?z.call(this,Pt.x,Pt.y,Pt.radius,Pt.startAngle,Pt.endAngle,Pt.counterclockwise,void 0,V,!he):W.call(this,Pt.x,Pt.y),he=!0}else if(Q[$t].close===!0)this.pdf.internal.out("h"),he=!1;else if(Q[$t].begin!==!0){var ce=Q[$t].start.x,Wt=Q[$t].start.y;q.call(this,Q[$t].deltas,ce,Wt),he=!0}G&&E.call(this,G),V&&X.call(this)}},$=function(P){var V=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,H=V*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-H;case"top":return P+V-H;case"hanging":return P+V-2*H;case"middle":return P+V/2-H;default:return P}},K=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(V,H){this.colorStops.push([V,H])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var z=function(P,V,H,G,Q,st,ft,ct,_t){for(var At=ot.call(this,H,G,Q,st),Nt=0;Nt<At.length;Nt++){var Mt=At[Nt];Nt===0&&(_t?D.call(this,Mt.x1+P,Mt.y1+V):W.call(this,Mt.x1+P,Mt.y1+V)),et.call(this,P,V,Mt.x2,Mt.y2,Mt.x3,Mt.y3,Mt.x4,Mt.y4)}ct?X.call(this):E.call(this,ft)},E=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},X=function(){this.pdf.clip(),this.pdf.discardPath()},D=function(P,V){this.pdf.internal.out(i(P)+" "+n(V)+" m")},I=function(P){var V;switch(P.align){case"right":case"end":V="right";break;case"center":V="center";break;default:V="left"}var H=this.pdf.getTextDimensions(P.text),G=$.call(this,P.y),Q=K.call(this,G)-H.h,st=this.ctx.transform.applyToPoint(new s(P.x,G)),ft=this.ctx.transform.decompose(),ct=new l;ct=(ct=(ct=ct.multiply(ft.translate)).multiply(ft.skew)).multiply(ft.scale);for(var _t,At,Nt,Mt=this.ctx.transform.applyToRectangle(new o(P.x,G,H.w,H.h)),pt=ct.applyToRectangle(new o(P.x,Q,H.w,H.h)),U=y.call(this,pt),me=[],he=0;he<U.length;he+=1)me.indexOf(U[he])===-1&&me.push(U[he]);if(N(me),this.autoPaging)for(var $t=me[0],Dt=me[me.length-1],Ut=$t;Ut<Dt+1;Ut++){this.pdf.setPage(Ut);var Pt=Ut===1?this.posY+this.margin[0]:this.margin[0],ce=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Wt=this.pdf.internal.pageSize.height-this.margin[2],Ce=Wt-this.margin[0],ne=this.pdf.internal.pageSize.width-this.margin[1],re=ne-this.margin[3],Oe=Ut===1?0:ce+(Ut-2)*Ce;if(this.ctx.clip_path.length!==0){var ue=this.path;_t=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(_t,this.posX+this.margin[3],-1*Oe+Pt),F.call(this,"fill",!0),this.path=ue}var Ht=A([JSON.parse(JSON.stringify(pt))],this.posX+this.margin[3],-Oe+Pt+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(At=this.pdf.internal.getFontSize(),this.pdf.setFontSize(At*P.scale),Nt=this.lineWidth,this.lineWidth=Nt*P.scale);var Zt=this.autoPaging!=="text";if(Zt||Ht.y+Ht.h<=Wt){if(Zt||Ht.y>=Pt&&Ht.x<=ne){var qt=Zt?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||ne-Ht.x)[0],We=A([JSON.parse(JSON.stringify(Mt))],this.posX+this.margin[3],-Oe+Pt+this.ctx.prevPageLastElemOffset)[0],Ae=Zt&&(Ut>$t||Ut<Dt)&&x.call(this);Ae&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],re,Ce,null).clip().discardPath()),this.pdf.text(qt,We.x,We.y,{angle:P.angle,align:V,renderingMode:P.renderingMode}),Ae&&this.pdf.restoreGraphicsState()}}else Ht.y<Wt&&(this.ctx.prevPageLastElemOffset+=Wt-Ht.y);P.scale>=.01&&(this.pdf.setFontSize(At),this.lineWidth=Nt)}else P.scale>=.01&&(At=this.pdf.internal.getFontSize(),this.pdf.setFontSize(At*P.scale),Nt=this.lineWidth,this.lineWidth=Nt*P.scale),this.pdf.text(P.text,st.x+this.posX,st.y+this.posY,{angle:P.angle,align:V,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(At),this.lineWidth=Nt)},W=function(P,V,H,G){H=H||0,G=G||0,this.pdf.internal.out(i(P+H)+" "+n(V+G)+" l")},q=function(P,V,H){return this.pdf.lines(P,V,H,null,null)},et=function(P,V,H,G,Q,st,ft,ct){this.pdf.internal.out([e(r(H+P)),e(a(G+V)),e(r(Q+P)),e(a(st+V)),e(r(ft+P)),e(a(ct+V)),"c"].join(" "))},ot=function(P,V,H,G){for(var Q=2*Math.PI,st=Math.PI/2;V>H;)V-=Q;var ft=Math.abs(H-V);ft<Q&&G&&(ft=Q-ft);for(var ct=[],_t=G?-1:1,At=V;ft>1e-5;){var Nt=At+_t*Math.min(ft,st);ct.push(lt.call(this,P,At,Nt)),ft-=Math.abs(Nt-At),At=Nt}return ct},lt=function(P,V,H){var G=(H-V)/2,Q=P*Math.cos(G),st=P*Math.sin(G),ft=Q,ct=-st,_t=ft*ft+ct*ct,At=_t+ft*Q+ct*st,Nt=4/3*(Math.sqrt(2*_t*At)-At)/(ft*st-ct*Q),Mt=ft-Nt*ct,pt=ct+Nt*ft,U=Mt,me=-pt,he=G+V,$t=Math.cos(he),Dt=Math.sin(he);return{x1:P*Math.cos(V),y1:P*Math.sin(V),x2:Mt*$t-pt*Dt,y2:Mt*Dt+pt*$t,x3:U*$t-me*Dt,y3:U*Dt+me*$t,x4:P*Math.cos(H),y4:P*Math.sin(H)}},nt=function(P){return 180*P/Math.PI},ht=function(P,V,H,G,Q,st){var ft=P+.5*(H-P),ct=V+.5*(G-V),_t=Q+.5*(H-Q),At=st+.5*(G-st),Nt=Math.min(P,Q,ft,_t),Mt=Math.max(P,Q,ft,_t),pt=Math.min(V,st,ct,At),U=Math.max(V,st,ct,At);return new o(Nt,pt,Mt-Nt,U-pt)},kt=function(P,V,H,G,Q,st,ft,ct){var _t,At,Nt,Mt,pt,U,me,he,$t,Dt,Ut,Pt,ce,Wt,Ce=H-P,ne=G-V,re=Q-H,Oe=st-G,ue=ft-Q,Ht=ct-st;for(At=0;At<41;At++)$t=(me=(Nt=P+(_t=At/40)*Ce)+_t*((pt=H+_t*re)-Nt))+_t*(pt+_t*(Q+_t*ue-pt)-me),Dt=(he=(Mt=V+_t*ne)+_t*((U=G+_t*Oe)-Mt))+_t*(U+_t*(st+_t*Ht-U)-he),At==0?(Ut=$t,Pt=Dt,ce=$t,Wt=Dt):(Ut=Math.min(Ut,$t),Pt=Math.min(Pt,Dt),ce=Math.max(ce,$t),Wt=Math.max(Wt,Dt));return new o(Math.round(Ut),Math.round(Pt),Math.round(ce-Ut),Math.round(Wt-Pt))},yt=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,V,H=(P=this.ctx.lineDash,V=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:V}));this.prevLineDash!==H&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=H)}}})(Ft.API),function(t){var e=function(s){var o,l,h,c,p,g,f,v,x,y;for(/[^\x00-\xFF]/.test(s),l=[],h=0,c=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;c>h;h+=4)(p=(s.charCodeAt(h)<<24)+(s.charCodeAt(h+1)<<16)+(s.charCodeAt(h+2)<<8)+s.charCodeAt(h+3))!==0?(g=(p=((p=((p=((p=(p-(y=p%85))/85)-(x=p%85))/85)-(v=p%85))/85)-(f=p%85))/85)%85,l.push(g+33,f+33,v+33,x+33,y+33)):l.push(122);return function(w,A){for(var N=A;N>0;N--)w.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},i=function(s){var o,l,h,c,p,g=String,f="length",v=255,x="charCodeAt",y="slice",w="replace";for(s[y](-2),s=s[y](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),h=[],c=0,p=(s+=o="uuuuu"[y](s[f]%5||5))[f];p>c;c+=5)l=52200625*(s[x](c)-33)+614125*(s[x](c+1)-33)+7225*(s[x](c+2)-33)+85*(s[x](c+3)-33)+(s[x](c+4)-33),h.push(v&l>>24,v&l>>16,v&l>>8,v&l);return function(A,N){for(var T=N;T>0;T--)A.pop()}(h,o[f]),g.fromCharCode.apply(g,h)},n=function(s){return s.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var l="",h=0;h<s.length;h+=2)l+=String.fromCharCode("0x"+(s[h]+s[h+1]));return l},a=function(s){for(var o=new Uint8Array(s.length),l=s.length;l--;)o[l]=s.charCodeAt(l);return(o=eu(o)).reduce(function(h,c){return h+String.fromCharCode(c)},"")};t.processDataByFilters=function(s,o){var l=0,h=s||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":h=i(h),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=e(h),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=r(h),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=n(h),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=a(h),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:h,reverseChain:c.reverse().join(" ")}}}(Ft.API),function(t){t.loadFile=function(e,i,n){return function(r,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,h,c){var p=new XMLHttpRequest,g=0,f=function(v){var x=v.length,y=[],w=String.fromCharCode;for(g=0;g<x;g+=1)y.push(w(255&v.charCodeAt(g)));return y.join("")};if(p.open("GET",l,!h),p.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(p.onload=function(){p.status===200?c(f(this.responseText)):c(void 0)}),p.send(null),h&&p.status===200)return f(p.responseText)}(r,a,s)}catch{}return o}(e,i,n)},t.loadImageFile=t.loadFile}(Ft.API),function(t){function e(){return(Xt.html2canvas?Promise.resolve(Xt.html2canvas):import("./chunk-PHCYKGSN.js")).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function i(){return(Xt.DOMPurify?Promise.resolve(Xt.DOMPurify):import("./chunk-MJAV6IYW.js")).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=Re(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},r=function(o,l){var h=document.createElement(o);for(var c in l.className&&(h.className=l.className),l.innerHTML&&l.dompurify&&(h.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)h.style[c]=l.style[c];return h},a=function o(l,h){for(var c=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),p=l.firstChild;p;p=p.nextSibling)h!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||c.appendChild(o(p,h));return l.nodeType===1&&(l.nodeName==="CANVAS"?(c.width=l.width,c.height=l.height,c.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(c.value=l.value),c.addEventListener("load",function(){c.scrollTop=l.scrollTop,c.scrollLeft=l.scrollLeft},!0)),c},s=function o(l){var h=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),h);return(c=c.setProgress(1,o,1,[o])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,l){return o.__proto__=l||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(h){switch(n(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(i).then(function(h){return this.set({src:r("div",{innerHTML:o,dompurify:h})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,l(this.prop.container,h)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var h=this.opt.jsPDF,c=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=c,c)for(var f=0;f<c.length;++f){var v=c[f],x=v.src.find(function(y){return y.format==="truetype"});x&&h.addFont(x.url,v.ref.name,v.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,h.context2d.save(!0),l(this.prop.container,g)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,l,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},s.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(h){if(h in s.template.prop)return function(){this.prop[h]=o[h]};switch(h){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[h]=o[h]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(o,l){return this.then(function(){var h=o in s.template.prop?this.prop[o]:this.opt[o];return l?l(h):h})},s.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function l(h,c){return Math.floor(h*c/72*96)}return this.then(function(){(o=o||Ft.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,l,h,c){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),h!=null&&(this.progress.n=h),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,l,h,c){return this.setProgress(o?this.progress.val+o:null,l||null,h?this.progress.n+h:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(o,l){var h=this;return this.thenCore(o,l,function(c,p){return h.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(g){return h.updateProgress(null,c),g}).then(c,p).then(function(g){return h.updateProgress(1),g})})},s.prototype.thenCore=function(o,l,h){h=h||Promise.prototype.then;var c=this;o&&(o=o.bind(c)),l&&(l=l.bind(c));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?c:s.convert(Object.assign({},c),Promise.prototype),g=h.call(p,o,l);return s.convert(g,c.__proto__)},s.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},s.prototype.thenList=function(o){var l=this;return o.forEach(function(h){l=l.thenCore(h)}),l},s.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return s.convert(l,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Ft.getPageSize=function(o,l,h){if(Re(o)==="object"){var c=o;o=c.orientation,l=c.unit||l,h=c.format||h}l=l||"mm",h=h||"a4",o=(""+(o||"P")).toLowerCase();var p,g=(""+h).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+l}var v,x=0,y=0;if(f.hasOwnProperty(g))x=f[g][1]/p,y=f[g][0]/p;else try{x=h[1],y=h[0]}catch{throw new Error("Invalid format: "+h)}if(o==="p"||o==="portrait")o="p",y>x&&(v=y,y=x,x=v);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",x>y&&(v=y,y=x,x=v)}return{width:y,height:x,unit:l,k:p,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Up):null;var h=new s(l);return l.worker?h:h.from(o).doCallback()}}(Ft.API),Ft.API.addJS=function(t){return fx=t,this.internal.events.subscribe("postPutResources",function(){Au=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Au+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),ux=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+fx+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Au!==void 0&&ux!==void 0&&this.internal.out("/Names <</JavaScript "+Au+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var i=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=i.outline.render().split(/\r\n/),a=0;a<r.length;a++){var s=r[a],o=n.exec(s);if(o!=null){var l=o[1];i.internal.newObjectDeferredBegin(l,!1)}i.internal.write(s)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,c=[];for(a=0;a<h;a++){var p=i.internal.newObject();c.push(p);var g=i.internal.getPageInfo(a+1);i.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var f=i.internal.newObject();for(i.internal.write("<< /Names [ "),a=0;a<c.length;a++)i.internal.write("(page_"+(a+1)+")"+c[a]+" 0 R");i.internal.write(" ] >>","endobj"),e=i.internal.newObject(),i.internal.write("<< /Dests "+f+" 0 R"),i.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var i=this;i.outline.root.children.length>0&&(i.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&i.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var i=this;i.outline={createNamedDestinations:!1,root:{children:[]}},i.outline.add=function(n,r,a){var s={title:r,options:a,children:[]};return n==null&&(n=this.root),n.children.push(s),s},i.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=i,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},i.outline.genIds_r=function(n){n.id=i.internal.newObjectDeferred();for(var r=0;r<n.children.length;r++)this.genIds_r(n.children[r])},i.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},i.outline.renderItems=function(n){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var s=n.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=i.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var h=0;h<n.children.length;h++)this.renderItems(n.children[h])},i.outline.line=function(n){this.ctx.val+=n+`\r
`},i.outline.makeRef=function(n){return n.id+" 0 R"},i.outline.makeString=function(n){return"("+i.internal.pdfEscape(n)+")"},i.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},i.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},i.outline.count_r=function(n,r){for(var a=0;a<r.children.length;a++)n.count++,this.count_r(n,r.children[a]);return n.count}}])}(Ft.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(i,n,r,a,s,o){var l,h=this.decode.DCT_DECODE,c=null;if(typeof i=="string"||this.__addimage__.isArrayBuffer(i)||this.__addimage__.isArrayBufferView(i)){switch(i=s||i,i=this.__addimage__.isArrayBuffer(i)?new Uint8Array(i):i,l=function(p){for(var g,f=256*p.charCodeAt(4)+p.charCodeAt(5),v=p.length,x={width:0,height:0,numcomponents:1},y=4;y<v;y+=2){if(y+=f,e.indexOf(p.charCodeAt(y+1))!==-1){g=256*p.charCodeAt(y+5)+p.charCodeAt(y+6),x={width:256*p.charCodeAt(y+7)+p.charCodeAt(y+8),height:g,numcomponents:p.charCodeAt(y+9)};break}f=256*p.charCodeAt(y+2)+p.charCodeAt(y+3)}return x}(i=this.__addimage__.isArrayBufferView(i)?this.__addimage__.arrayBufferToBinaryString(i):i),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}c={data:i,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:h,index:n,alias:r}}return c}}(Ft.API),Ft.API.processPNG=function(t,e,i,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var r,a=tx(t,{checkCrc:!0}),s=a.width,o=a.height,l=a.channels,h=a.palette,c=a.depth;r=h&&l===1?function(z){for(var E=z.width,X=z.height,D=z.data,I=z.palette,W=z.depth,q=!1,et=[],ot=[],lt=void 0,nt=!1,ht=0,kt=0;kt<I.length;kt++){var yt=tp(I[kt],4),P=yt[0],V=yt[1],H=yt[2],G=yt[3];et.push(P,V,H),G!=null&&(G===0?(ht++,ot.length<1&&ot.push(kt)):G<255&&(nt=!0))}if(nt||ht>1){q=!0,ot=void 0;var Q=E*X;lt=new Uint8Array(Q);for(var st=new DataView(D.buffer),ft=0;ft<Q;ft++){var ct=qp(st,ft,W),_t=tp(I[ct],4)[3];lt[ft]=_t}}else ht===0&&(ot=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:q?8:void 0,colorBytes:D,alphaBytes:lt,needSMask:q,palette:et,mask:ot}}(a):l===2||l===4?function(z){for(var E=z.data,X=z.width,D=z.height,I=z.channels,W=z.depth,q=I===2?"DeviceGray":"DeviceRGB",et=I-1,ot=X*D,lt=et,nt=ot*lt,ht=1*ot,kt=Math.ceil(nt*W/8),yt=Math.ceil(ht*W/8),P=new Uint8Array(kt),V=new Uint8Array(yt),H=new DataView(E.buffer),G=new DataView(P.buffer),Q=new DataView(V.buffer),st=!1,ft=0;ft<ot;ft++){for(var ct=ft*I,_t=0;_t<lt;_t++)yx(G,qp(H,ct+_t,W),ft*lt+_t,W);var At=qp(H,ct+lt,W);At<(1<<W)-1&&(st=!0),yx(Q,At,1*ft,W)}return{colorSpace:q,colorsPerPixel:et,sMaskBitsPerComponent:st?W:void 0,colorBytes:P,alphaBytes:V,needSMask:st}}(a):function(z){var E=z.data,X=z.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:X,colorsPerPixel:X==="DeviceGray"?1:3,colorBytes:E instanceof Uint16Array?function(D){for(var I=D.length,W=new Uint8Array(2*I),q=new DataView(W.buffer,W.byteOffset,W.byteLength),et=0;et<I;et++)q.setUint16(2*et,D[et],!1);return W}(E):E,needSMask:!1}}(a);var p,g,f,v=r,x=v.colorSpace,y=v.colorsPerPixel,w=v.sMaskBitsPerComponent,A=v.colorBytes,N=v.alphaBytes,T=v.needSMask,F=v.palette,$=v.mask,K=null;return n!==Ft.API.image_compression.NONE&&typeof eu=="function"?(K=function(z){var E;switch(z){case Ft.API.image_compression.FAST:E=11;break;case Ft.API.image_compression.MEDIUM:E=13;break;case Ft.API.image_compression.SLOW:E=14;break;default:E=12}return E}(n),p=this.decode.FLATE_DECODE,g="/Predictor ".concat(K," /Colors ").concat(y," /BitsPerComponent ").concat(c," /Columns ").concat(s),t=mx(A,Math.ceil(s*y*c/8),y,c,n),T&&(f=mx(N,Math.ceil(s*w/8),1,w,n))):(p=void 0,g=void 0,t=A,T&&(f=N)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:i,data:t,index:e,filter:p,decodeParameters:g,transparency:$,palette:F,sMask:f,predictor:K,width:s,height:o,bitsPerComponent:c,sMaskBitsPerComponent:w,colorSpace:x}}},function(t){t.processGIF89A=function(e,i,n,r){var a=new gL(e),s=a.width,o=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var h={data:l,width:s,height:o},c=new Wp(100).encode(h,100);return t.processJPEG.call(this,c,i,n,r)},t.processGIF87A=t.processGIF89A}(Ft.API),ir.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var i=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:r,green:n,blue:i,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ir.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(i){qe.log("bit decode error:"+i)}},ir.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),i=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<e;r++)for(var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*r*4,o=0;o<8&&8*r+o<this.width;o++){var l=this.palette[a>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}i!==0&&(this.pos+=4-i)}},ir.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,i=this.height-1;i>=0;i--){for(var n=this.bottom_up?i:this.height-1-i,r=0;r<t;r++){var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*r*4,o=a>>4,l=15&a,h=this.palette[o];if(this.data[s]=h.blue,this.data[s+1]=h.green,this.data[s+2]=h.red,this.data[s+3]=255,2*r+1>=this.width)break;h=this.palette[l],this.data[s+4]=h.blue,this.data[s+4+1]=h.green,this.data[s+4+2]=h.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},ir.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),a=i*this.width*4+4*n;if(r<this.palette.length){var s=this.palette[r];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},ir.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),i=this.height-1;i>=0;i--){for(var n=this.bottom_up?i:this.height-1-i,r=0;r<this.width;r++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,o=(a>>5&e)/e*255|0,l=(a>>10&e)/e*255|0,h=a>>15?255:0,c=n*this.width*4+4*r;this.data[c]=l,this.data[c+1]=o,this.data[c+2]=s,this.data[c+3]=h}this.pos+=t}},ir.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),i=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,l=(s>>5&i)/i*255|0,h=(s>>11)/e*255|0,c=r*this.width*4+4*a;this.data[c]=h,this.data[c+1]=l,this.data[c+2]=o,this.data[c+3]=255}this.pos+=t}},ir.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*i;this.data[s]=a,this.data[s+1]=r,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},ir.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*i;this.data[o]=a,this.data[o+1]=r,this.data[o+2]=n,this.data[o+3]=s}},ir.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,i,n,r){var a=new ir(e,!1),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},h=new Wp(100).encode(l,100);return t.processJPEG.call(this,h,i,n,r)}}(Ft.API),Sx.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,i,n,r){var a=new Sx(e),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},h=new Wp(100).encode(l,100);return t.processJPEG.call(this,h,i,n,r)}}(Ft.API),Ft.API.processRGBA=function(t,e,i){for(var n=t.data,r=n.length,a=new Uint8Array(r/4*3),s=new Uint8Array(r/4),o=0,l=0,h=0;h<r;h+=4){var c=n[h],p=n[h+1],g=n[h+2],f=n[h+3];a[o++]=c,a[o++]=p,a[o++]=g,s[l++]=f}var v=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:v,index:e,alias:i,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Ft.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Io=Ft.API,ku=Io.getCharWidthsArray=function(t,e){var i,n,r=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:r.metadata.Unicode.widths,l=o.fof?o.fof:1,h=e.kerning?e.kerning:r.metadata.Unicode.kerning,c=h.fof?h.fof:1,p=e.doKerning!==!1,g=0,f=t.length,v=0,x=o[0]||l,y=[];for(i=0;i<f;i++)n=t.charCodeAt(i),typeof r.metadata.widthOfString=="function"?y.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(n))+s*(1e3/a)||0)/1e3):(g=p&&Re(h[n])==="object"&&!isNaN(parseInt(h[n][v],10))?h[n][v]/c:0,y.push((o[n]||x)/l+g)),v=n;return y},dx=Io.getStringUnitWidth=function(t,e){var i=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),r=e.charSpace||this.internal.getCharSpace();return Io.processArabic&&(t=Io.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,i,r)/i:ku.apply(this,arguments).reduce(function(a,s){return a+s},0)},px=function(t,e,i,n){for(var r=[],a=0,s=t.length,o=0;a!==s&&o+e[a]<i;)o+=e[a],a++;r.push(t.slice(0,a));var l=a;for(o=0;a!==s;)o+e[a]>n&&(r.push(t.slice(l,a)),o=0,l=a),o+=e[a],a++;return l!==a&&r.push(t.slice(l,a)),r},gx=function(t,e,i){i||(i={});var n,r,a,s,o,l,h,c=[],p=[c],g=i.textIndent||0,f=0,v=0,x=t.split(" "),y=ku.apply(this,[" ",i])[0];if(l=i.lineIndent===-1?x[0].length+2:i.lineIndent||0){var w=Array(l).join(" "),A=[];x.map(function(T){(T=T.split(/\s*\n/)).length>1?A=A.concat(T.map(function(F,$){return($&&F.length?`
`:"")+F})):A.push(T[0])}),x=A,l=dx.apply(this,[w,i])}for(a=0,s=x.length;a<s;a++){var N=0;if(n=x[a],l&&n[0]==`
`&&(n=n.substr(1),N=1),g+f+(v=(r=ku.apply(this,[n,i])).reduce(function(T,F){return T+F},0))>e||N){if(v>e){for(o=px.apply(this,[n,r,e-(g+f),e]),c.push(o.shift()),c=[o.pop()];o.length;)p.push([o.shift()]);v=r.slice(n.length-(c[0]?c[0].length:0)).reduce(function(T,F){return T+F},0)}else c=[n];p.push(c),g=v+l,f=y}else c.push(n),g+=f+v,f=y}return h=l?function(T,F){return(F?w:"")+T.join(" ")}:function(T){return T.join(" ")},p.map(h)},Io.splitTextToSize=function(t,e,i){var n,r=(i=i||{}).fontSize||this.internal.getFontSize(),a=function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var p=this.internal.getFont(c.fontName,c.fontStyle),g="Unicode";return p.metadata[g]?{widths:p.metadata[g].widths||{0:1},kerning:p.metadata[g].kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,i);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/r;a.textIndent=i.textIndent?1*i.textIndent*this.internal.scaleFactor/r:0,a.lineIndent=i.lineIndent;var o,l,h=[];for(o=0,l=n.length;o<l;o++)h=h.concat(gx.apply(this,[n[o],s,a]));return h},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",i="klmnopqrstuvwxyz",n={},r={},a=0;a<16;a++)n[i[a]]=e[a],r[e[a]]=i[a];var s=function(g){return"0x"+parseInt(g,10).toString(16)},o=t.__fontmetrics__.compress=function(g){var f,v,x,y,w=["{"];for(var A in g){if(f=g[A],isNaN(parseInt(A,10))?v="'"+A+"'":(A=parseInt(A,10),v=(v=s(A).slice(2)).slice(0,-1)+r[v.slice(-1)]),typeof f=="number")f<0?(x=s(f).slice(3),y="-"):(x=s(f).slice(2),y=""),x=y+x.slice(0,-1)+r[x.slice(-1)];else{if(Re(f)!=="object")throw new Error("Don't know what to do with value type "+Re(f)+".");x=o(f)}w.push(v+x)}return w.push("}"),w.join("")},l=t.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,v,x,y,w={},A=1,N=w,T=[],F="",$="",K=g.length-1,z=1;z<K;z+=1)(y=g[z])=="'"?f?(x=f.join(""),f=void 0):f=[]:f?f.push(y):y=="{"?(T.push([N,x]),N={},x=void 0):y=="}"?((v=T.pop())[0][v[1]]=N,x=void 0,N=v[0]):y=="-"?A=-1:x===void 0?n.hasOwnProperty(y)?(F+=n[y],x=parseInt(F,16)*A,A=1,F=""):F+=y:n.hasOwnProperty(y)?($+=n[y],N[x]=parseInt($,16)*A,A=1,x=void 0,$=""):$+=y;return w},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},p={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(g){var f=g.font,v=p.Unicode[f.postScriptName];v&&(f.metadata.Unicode={},f.metadata.Unicode.widths=v.widths,f.metadata.Unicode.kerning=v.kerning);var x=c.Unicode[f.postScriptName];x&&(f.metadata.Unicode.encoding=x,f.encoding=x.codePages[0])}])}(Ft.API),function(t){var e=function(i){for(var n=i.length,r=new Uint8Array(n),a=0;a<n;a++)r[a]=i.charCodeAt(a);return r};t.API.events.push(["addFont",function(i){var n=void 0,r=i.font,a=i.instance;if(!r.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(n=a.existsFileInVFS(r.postScriptName)===!1?a.loadFile(r.postScriptName):a.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(Du(o)),s.metadata=t.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(r,n)}}])}(Ft),Ft.API.addSvgAsImage=function(t,e,i,n,r,a,s,o){if(isNaN(e)||isNaN(i))throw qe.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(r))throw qe.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=r;var h=l.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,l.width,l.height);var c={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return(Xt.canvg?Promise.resolve(Xt.canvg):import("./chunk-GOA7YXFL.js")).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(h,t,c)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(c)}).then(function(){p.addImage(l.toDataURL("image/jpeg",1),e,i,n,r,s,o)})},Ft.API.putTotalPages=function(t){var e,i=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),i=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),i=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var r=0;r<this.internal.pages[n].length;r++)this.internal.pages[n][r]=this.internal.pages[n][r].replace(e,i);return this},Ft.API.viewerPreferences=function(t,e){var i;t=t||{},e=e||!1;var n,r,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],h=0,c=0,p=0;function g(v,x){var y,w=!1;for(y=0;y<v.length;y+=1)v[y]===x&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),i=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var f=o.length;for(p=0;p<f;p+=1)i[o[p]].value=i[o[p]].defaultValue,i[o[p]].explicitSet=!1}if(Re(t)==="object"){for(r in t)if(a=t[r],g(o,r)&&a!==void 0){if(i[r].type==="boolean"&&typeof a=="boolean")i[r].value=a;else if(i[r].type==="name"&&g(i[r].valueSet,a))i[r].value=a;else if(i[r].type==="integer"&&Number.isInteger(a))i[r].value=a;else if(i[r].type==="array"){for(h=0;h<a.length;h+=1)if(n=!0,a[h].length===1&&typeof a[h][0]=="number")l.push(String(a[h]-1));else if(a[h].length>1){for(c=0;c<a[h].length;c+=1)typeof a[h][c]!="number"&&(n=!1);n===!0&&l.push([a[h][0]-1,a[h][1]-1].join(" "))}i[r].value="["+l.join(" ")+"]"}else i[r].value=i[r].defaultValue;i[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,x=[];for(v in i)i[v].explicitSet===!0&&(i[v].type==="name"?x.push("/"+v+" /"+i[v].value):x.push("/"+v+" "+i[v].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=i,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),h=a.length+s.length+o.length+r.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(r+a+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},i=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",i),this.internal.events.subscribe("postPutResources",e)),this}}(Ft.API),function(t){var e=t.API,i=e.pdfEscape16=function(a,s){for(var o,l=s.metadata.Unicode.widths,h=["","0","00","000","0000"],c=[""],p=0,g=a.length;p<g;++p){if(o=s.metadata.characterToGlyph(a.charCodeAt(p)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=a.charCodeAt(p),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return c.join("");o=o.toString(16),c.push(h[4-o.length],o)}return c.join("")},n=function(a){var s,o,l,h,c,p,g;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],p=0,g=(o=Object.keys(a).sort(function(f,v){return f-v})).length;p<g;p++)s=o[p],l.length>=100&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(h=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+h+">"));return l.length&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),c+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,h=s.newObject,c=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var p=o.metadata.Unicode.widths,g=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),f="",v=0;v<g.length;v++)f+=String.fromCharCode(g[v]);var x=h();c({data:f,addLength1:!0,objectId:x}),l("endobj");var y=h();c({data:n(o.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var w=h();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Eo(o.fontName)),l("/FontFile2 "+x+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var A=h();l("<<"),l("/Type /Font"),l("/BaseFont /"+Eo(o.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+t.API.PDFObject.convert(p)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=h(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+y+" 0 R"),l("/BaseFont /"+Eo(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+A+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,h=s.newObject,c=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var p=o.metadata.rawData,g="",f=0;f<p.length;f++)g+=String.fromCharCode(p[f]);var v=h();c({data:g,addLength1:!0,objectId:v}),l("endobj");var x=h();c({data:n(o.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var y=h();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+v+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Eo(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=h();for(var w=0;w<o.metadata.hmtx.widths.length;w++)o.metadata.hmtx.widths[w]=parseInt(o.metadata.hmtx.widths[w]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+Eo(o.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]);var r=function(a){var s,o=a.text||"",l=a.x,h=a.y,c=a.options||{},p=a.mutex||{},g=p.pdfEscape,f=p.activeFontKey,v=p.fonts,x=f,y="",w=0,A="",N=v[x].encoding;if(v[x].encoding!=="Identity-H")return{text:o,x:l,y:h,options:c,mutex:p};for(A=o,x=f,Array.isArray(o)&&(A=o[0]),w=0;w<A.length;w+=1)v[x].metadata.hasOwnProperty("cmap")&&(s=v[x].metadata.cmap.unicode.codeMap[A[w].charCodeAt(0)]),s||A[w].charCodeAt(0)<256&&v[x].metadata.hasOwnProperty("Unicode")?y+=A[w]:y+="";var T="";return parseInt(x.slice(1))<14||N==="WinAnsiEncoding"?T=g(y,x).split("").map(function(F){return F.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(T=i(y,v[x])),p.isHex=!0,{text:T,x:l,y:h,options:c,mutex:p}};e.events.push(["postProcessText",function(a){var s=a.text||"",o=[],l={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var h=0;for(h=0;h<s.length;h+=1)Array.isArray(s[h])&&s[h].length===3?o.push([r(Object.assign({},l,{text:s[h][0]})).text,s[h][1],s[h][2]]):o.push(r(Object.assign({},l,{text:s[h]})).text);a.text=o}else a.text=r(Object.assign({},l,{text:s})).text}])}(Ft),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(i){return e.call(this),this.internal.vFS[i]!==void 0},t.addFileToVFS=function(i,n){return e.call(this),this.internal.vFS[i]=n,this},t.getFileFromVFS=function(i){return e.call(this),this.internal.vFS[i]!==void 0?this.internal.vFS[i]:null}}(Ft.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var r,a,s,o,l,h,c,p=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),A=!1,N=0;this.__bidiEngine__={};var T=function(D){var I=D.charCodeAt(),W=I>>8,q=x[W];return q!==void 0?p[256*q+(255&I)]:W===252||W===253?"AL":w.test(W)?"L":W===8?"R":"N"},F=function(D){for(var I,W=0;W<D.length;W++){if((I=T(D.charAt(W)))==="L")return!1;if(I==="R")return!0}return!1},$=function(D,I,W,q){var et,ot,lt,nt,ht=I[q];switch(ht){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":A=!1;break;case"N":case"AN":break;case"EN":A&&(ht="AN");break;case"AL":A=!0,ht="R";break;case"WS":case"BN":ht="N";break;case"CS":q<1||q+1>=I.length||(et=W[q-1])!=="EN"&&et!=="AN"||(ot=I[q+1])!=="EN"&&ot!=="AN"?ht="N":A&&(ot="AN"),ht=ot===et?ot:"N";break;case"ES":ht=(et=q>0?W[q-1]:"B")==="EN"&&q+1<I.length&&I[q+1]==="EN"?"EN":"N";break;case"ET":if(q>0&&W[q-1]==="EN"){ht="EN";break}if(A){ht="N";break}for(lt=q+1,nt=I.length;lt<nt&&I[lt]==="ET";)lt++;ht=lt<nt&&I[lt]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(nt=I.length,lt=q+1;lt<nt&&I[lt]==="NSM";)lt++;if(lt<nt){var kt=D[q],yt=kt>=1425&&kt<=2303||kt===64286;if(et=I[lt],yt&&(et==="R"||et==="AL")){ht="R";break}}}ht=q<1||(et=I[q-1])==="B"?"N":W[q-1];break;case"B":A=!1,r=!0,ht=N;break;case"S":a=!0,ht="N"}return ht},K=function(D,I,W){var q=D.split("");return W&&z(q,W,{hiLevel:N}),q.reverse(),I&&I.reverse(),q.join("")},z=function(D,I,W){var q,et,ot,lt,nt,ht=-1,kt=D.length,yt=0,P=[],V=N?f:g,H=[];for(A=!1,r=!1,a=!1,et=0;et<kt;et++)H[et]=T(D[et]);for(ot=0;ot<kt;ot++){if(nt=yt,P[ot]=$(D,H,P,ot),q=240&(yt=V[nt][v[P[ot]]]),yt&=15,I[ot]=lt=V[yt][5],q>0)if(q===16){for(et=ht;et<ot;et++)I[et]=1;ht=-1}else ht=-1;if(V[yt][6])ht===-1&&(ht=ot);else if(ht>-1){for(et=ht;et<ot;et++)I[et]=lt;ht=-1}H[ot]==="B"&&(I[ot]=0),W.hiLevel|=lt}a&&function(G,Q,st){for(var ft=0;ft<st;ft++)if(G[ft]==="S"){Q[ft]=N;for(var ct=ft-1;ct>=0&&G[ct]==="WS";ct--)Q[ct]=N}}(H,I,kt)},E=function(D,I,W,q,et){if(!(et.hiLevel<D)){if(D===1&&N===1&&!r)return I.reverse(),void(W&&W.reverse());for(var ot,lt,nt,ht,kt=I.length,yt=0;yt<kt;){if(q[yt]>=D){for(nt=yt+1;nt<kt&&q[nt]>=D;)nt++;for(ht=yt,lt=nt-1;ht<lt;ht++,lt--)ot=I[ht],I[ht]=I[lt],I[lt]=ot,W&&(ot=W[ht],W[ht]=W[lt],W[lt]=ot);yt=nt}yt++}}},X=function(D,I,W){var q=D.split(""),et={hiLevel:N};return W||(W=[]),z(q,W,et),function(ot,lt,nt){if(nt.hiLevel!==0&&c)for(var ht,kt=0;kt<ot.length;kt++)lt[kt]===1&&(ht=y.indexOf(ot[kt]))>=0&&(ot[kt]=y[ht+1])}(q,W,et),E(2,q,I,W,et),E(1,q,I,W,et),q.join("")};return this.__bidiEngine__.doBidiReorder=function(D,I,W){if(function(et,ot){if(ot)for(var lt=0;lt<et.length;lt++)ot[lt]=lt;o===void 0&&(o=F(et)),h===void 0&&(h=F(et))}(D,I),s||!l||h)if(s&&l&&o^h)N=o?1:0,D=K(D,I,W);else if(!s&&l&&h)N=o?1:0,D=X(D,I,W),D=K(D,I);else if(!s||o||l||h){if(s&&!l&&o^h)D=K(D,I),o?(N=0,D=X(D,I,W)):(N=1,D=X(D,I,W),D=K(D,I));else if(s&&o&&!l&&h)N=1,D=X(D,I,W),D=K(D,I);else if(!s&&!l&&o^h){var q=c;o?(N=1,D=X(D,I,W),N=0,c=!1,D=X(D,I,W),c=q):(N=0,D=X(D,I,W),D=K(D,I),N=1,c=!1,D=X(D,I,W),c=q,D=K(D,I))}}else N=0,D=X(D,I,W);else N=o?1:0,D=X(D,I,W);return D},this.__bidiEngine__.setOptions=function(D){D&&(s=D.isInputVisual,l=D.isOutputVisual,o=D.isInputRtl,h=D.isOutputRtl,c=D.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],i=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var r=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,i.setOptions(a),Object.prototype.toString.call(r)==="[object Array]"){var o=0;for(s=[],o=0;o<r.length;o+=1)Object.prototype.toString.call(r[o])==="[object Array]"?s.push([i.doBidiReorder(r[o][0]),r[o][1],r[o][2]]):s.push([i.doBidiReorder(r[o])]);n.text=s}else n.text=i.doBidiReorder(r);i.setOptions({isInputVisual:!0})}])}(Ft),Ft.API.TTFFont=function(){function t(e){var i;if(this.rawData=e,i=this.contents=new qa(e),this.contents.pos=4,i.readString(4)==="ttcf")throw new Error("TTCF not supported.");i.pos=0,this.parse(),this.subset=new PL(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new mL(this.contents),this.head=new vL(this),this.name=new SL(this),this.cmap=new Fx(this),this.toUnicode={},this.hhea=new xL(this),this.maxp=new CL(this),this.hmtx=new AL(this),this.post=new yL(this),this.os2=new _L(this),this.loca=new TL(this),this.glyf=new kL(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,i,n,r,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var s,o,l,h;for(h=[],s=0,o=(l=this.bbox).length;s<o;s++)e=l[s],h.push(Math.round(e*this.scaleFactor));return h}.call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),32768&(i=r>>16)&&(i=-(1+(65535^i))),this.italicAngle=+(i+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var i;return((i=this.cmap.unicode)!=null?i.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var i;return i=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*i},t.prototype.widthOfString=function(e,i,n){var r,a,s,o;for(s=0,a=0,o=(e=""+e).length;0<=o?a<o:a>o;a=0<=o?++a:--a)r=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/i)||0;return s*(i/1e3)},t.prototype.lineHeight=function(e,i){var n;return i==null&&(i=!1),n=i?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var rr,qa=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var i,n;for(n=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)n[i]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var i,n,r;for(r=[],i=0,n=e.length;0<=n?i<n:i>n;i=0<=n?++i:--i)r.push(this.writeByte(e.charCodeAt(i)));return r},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,i,n,r,a,s,o,l;return e=this.readByte(),i=this.readByte(),n=this.readByte(),r=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^i)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^a)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*i+1099511627776*n+4294967296*r+16777216*a+65536*s+256*o+l},t.prototype.writeLongLong=function(e){var i,n;return i=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var i,n;for(i=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)i.push(this.readByte());return i},t.prototype.write=function(e){var i,n,r,a;for(a=[],n=0,r=e.length;n<r;n++)i=e[n],a.push(this.writeByte(i));return a},t}(),mL=function(){var t;function e(i){var n,r,a;for(this.scalarType=i.readInt(),this.tableCount=i.readShort(),this.searchRange=i.readShort(),this.entrySelector=i.readShort(),this.rangeShift=i.readShort(),this.tables={},r=0,a=this.tableCount;0<=a?r<a:r>a;r=0<=a?++r:--r)n={tag:i.readString(4),checksum:i.readInt(),offset:i.readInt(),length:i.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(i){var n,r,a,s,o,l,h,c,p,g,f,v,x;for(x in f=Object.keys(i).length,l=Math.log(2),p=16*Math.floor(Math.log(f)/l),s=Math.floor(p/l),c=16*f-p,(r=new qa).writeInt(this.scalarType),r.writeShort(f),r.writeShort(p),r.writeShort(s),r.writeShort(c),a=16*f,h=r.pos+a,o=null,v=[],i)for(g=i[x],r.writeString(x),r.writeInt(t(g)),r.writeInt(h),r.writeInt(g.length),v=v.concat(g),x==="head"&&(o=h),h+=g.length;h%4;)v.push(0),h++;return r.write(v),n=2981146554-t(r.data),r.pos=o+8,r.writeUInt32(n),r.data},t=function(i){var n,r,a,s;for(i=Rx.call(i);i.length%4;)i.push(0);for(a=new qa(i),r=0,n=0,s=i.length;n<s;n=n+=4)r+=a.readUInt32();return 4294967295&r},e}(),bL={}.hasOwnProperty,kr=function(t,e){for(var i in e)bL.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};rr=function(){function t(e){var i;this.file=e,i=this.file.directory.tables[this.tag],this.exists=!!i,i&&(this.offset=i.offset,this.length=i.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var vL=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return kr(t,rr),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var i;return(i=new qa).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(e),i.writeShort(this.glyphDataFormat),i.data},t}(),Cx=function(){function t(e,i){var n,r,a,s,o,l,h,c,p,g,f,v,x,y,w,A,N;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=i+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),g=f/2,e.pos+=6,a=function(){var T,F;for(F=[],l=T=0;0<=g?T<g:T>g;l=0<=g?++T:--T)F.push(e.readUInt16());return F}(),e.pos+=2,x=function(){var T,F;for(F=[],l=T=0;0<=g?T<g:T>g;l=0<=g?++T:--T)F.push(e.readUInt16());return F}(),h=function(){var T,F;for(F=[],l=T=0;0<=g?T<g:T>g;l=0<=g?++T:--T)F.push(e.readUInt16());return F}(),c=function(){var T,F;for(F=[],l=T=0;0<=g?T<g:T>g;l=0<=g?++T:--T)F.push(e.readUInt16());return F}(),r=(this.length-e.pos+this.offset)/2,o=function(){var T,F;for(F=[],l=T=0;0<=r?T<r:T>r;l=0<=r?++T:--T)F.push(e.readUInt16());return F}(),l=w=0,N=a.length;w<N;l=++w)for(y=a[l],n=A=v=x[l];v<=y?A<=y:A>=y;n=v<=y?++A:--A)c[l]===0?s=n+h[l]:(s=o[c[l]/2+(n-v)-(g-l)]||0)!==0&&(s+=h[l]),this.codeMap[n]=65535&s}e.pos=p}return t.encode=function(e,i){var n,r,a,s,o,l,h,c,p,g,f,v,x,y,w,A,N,T,F,$,K,z,E,X,D,I,W,q,et,ot,lt,nt,ht,kt,yt,P,V,H,G,Q,st,ft,ct,_t,At,Nt;switch(q=new qa,s=Object.keys(e).sort(function(Mt,pt){return Mt-pt}),i){case"macroman":for(x=0,y=function(){var Mt=[];for(v=0;v<256;++v)Mt.push(0);return Mt}(),A={0:0},a={},et=0,ht=s.length;et<ht;et++)A[ct=e[r=s[et]]]==null&&(A[ct]=++x),a[r]={old:e[r],new:A[e[r]]},y[r]=A[e[r]];return q.writeUInt16(1),q.writeUInt16(0),q.writeUInt32(12),q.writeUInt16(0),q.writeUInt16(262),q.writeUInt16(0),q.write(y),{charMap:a,subtable:q.data,maxGlyphID:x+1};case"unicode":for(I=[],p=[],N=0,A={},n={},w=h=null,ot=0,kt=s.length;ot<kt;ot++)A[F=e[r=s[ot]]]==null&&(A[F]=++N),n[r]={old:F,new:A[F]},o=A[F]-r,w!=null&&o===h||(w&&p.push(w),I.push(r),h=o),w=r;for(w&&p.push(w),p.push(65535),I.push(65535),X=2*(E=I.length),z=2*Math.pow(Math.log(E)/Math.LN2,2),g=Math.log(z/2)/Math.LN2,K=2*E-z,l=[],$=[],f=[],v=lt=0,yt=I.length;lt<yt;v=++lt){if(D=I[v],c=p[v],D===65535){l.push(0),$.push(0);break}if(D-(W=n[D].new)>=32768)for(l.push(0),$.push(2*(f.length+E-v)),r=nt=D;D<=c?nt<=c:nt>=c;r=D<=c?++nt:--nt)f.push(n[r].new);else l.push(W-D),$.push(0)}for(q.writeUInt16(3),q.writeUInt16(1),q.writeUInt32(12),q.writeUInt16(4),q.writeUInt16(16+8*E+2*f.length),q.writeUInt16(0),q.writeUInt16(X),q.writeUInt16(z),q.writeUInt16(g),q.writeUInt16(K),st=0,P=p.length;st<P;st++)r=p[st],q.writeUInt16(r);for(q.writeUInt16(0),ft=0,V=I.length;ft<V;ft++)r=I[ft],q.writeUInt16(r);for(_t=0,H=l.length;_t<H;_t++)o=l[_t],q.writeUInt16(o);for(At=0,G=$.length;At<G;At++)T=$[At],q.writeUInt16(T);for(Nt=0,Q=f.length;Nt<Q;Nt++)x=f[Nt],q.writeUInt16(x);return{charMap:n,subtable:q.data,maxGlyphID:N+1}}},t}(),Fx=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return kr(t,rr),t.prototype.tag="cmap",t.prototype.parse=function(e){var i,n,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)i=new Cx(e,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0},t.encode=function(e,i){var n,r;return i==null&&(i="macroman"),n=Cx.encode(e,i),(r=new qa).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},t}(),xL=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return kr(t,rr),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),_L=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return kr(t,rr),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var i,n;for(n=[],i=0;i<10;++i)n.push(e.readByte());return n}(),this.charRange=function(){var i,n;for(n=[],i=0;i<4;++i)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var i,n;for(n=[],i=0;i<2;i=++i)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),yL=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return kr(t,rr),t.prototype.tag="post",t.prototype.parse=function(e){var i,n,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)i=e.readByte(),r.push(this.names.push(e.readString(i)));return r;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=function(){var s,o,l;for(l=[],a=s=0,o=this.file.maxp.numGlyphs;0<=o?s<o:s>o;a=0<=o?++s:--s)l.push(e.readUInt32());return l}.call(this)}},t}(),wL=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},SL=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return kr(t,rr),t.prototype.tag="name",t.prototype.parse=function(e){var i,n,r,a,s,o,l,h,c,p,g;for(e.pos=this.offset,e.readShort(),i=e.readShort(),o=e.readShort(),n=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},a=c=0,p=n.length;c<p;a=++c)r=n[a],e.pos=r.offset,h=e.readString(r.length),s=new wL(h,r),l[g=r.nameID]==null&&(l[g]=[]),l[r.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),CL=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return kr(t,rr),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),AL=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return kr(t,rr),t.prototype.tag="hmtx",t.prototype.parse=function(e){var i,n,r,a,s,o,l;for(e.pos=this.offset,this.metrics=[],i=0,o=this.file.hhea.numberOfMetrics;0<=o?i<o:i>o;i=0<=o?++i:--i)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,c;for(c=[],i=h=0;0<=r?h<r:h>r;i=0<=r?++h:--h)c.push(e.readInt16());return c}(),this.widths=function(){var h,c,p,g;for(g=[],h=0,c=(p=this.metrics).length;h<c;h++)a=p[h],g.push(a.advance);return g}.call(this),n=this.widths[this.widths.length-1],l=[],i=s=0;0<=r?s<r:s>r;i=0<=r?++s:--s)l.push(this.widths.push(n));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),Rx=[].slice,kL=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return kr(t,rr),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var i,n,r,a,s,o,l,h,c,p;return e in this.cache?this.cache[e]:(a=this.file.loca,i=this.file.contents,n=a.indexOf(e),(r=a.lengthOf(e))===0?this.cache[e]=null:(i.pos=this.offset+n,s=(o=new qa(i.read(r))).readShort(),h=o.readShort(),p=o.readShort(),l=o.readShort(),c=o.readShort(),this.cache[e]=s===-1?new LL(o,h,p,l,c):new DL(o,s,h,p,l,c),this.cache[e]))},t.prototype.encode=function(e,i,n){var r,a,s,o,l;for(s=[],a=[],o=0,l=i.length;o<l;o++)r=e[i[o]],a.push(s.length),r&&(s=s.concat(r.encode(n)));return a.push(s.length),{table:s,offsets:a}},t}(),DL=function(){function t(e,i,n,r,a,s){this.raw=e,this.numberOfContours=i,this.xMin=n,this.yMin=r,this.xMax=a,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),LL=function(){function t(e,i,n,r,a){var s,o;for(this.raw=e,this.xMin=i,this.yMin=n,this.xMax=r,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return t.prototype.encode=function(){var e,i,n;for(i=new qa(Rx.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)i.pos=this.glyphOffsets[e];return i.data},t}(),TL=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return kr(t,rr),t.prototype.tag="loca",t.prototype.parse=function(e){var i,n;return e.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?function(){var r,a;for(a=[],n=0,r=this.length;n<r;n+=2)a.push(2*e.readUInt16());return a}.call(this):function(){var r,a;for(a=[],n=0,r=this.length;n<r;n+=4)a.push(e.readUInt32());return a}.call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,i){for(var n=new Uint32Array(this.offsets.length),r=0,a=0,s=0;s<n.length;++s)if(n[s]=r,a<i.length&&i[a]==s){++a,n[s]=r;var o=this.offsets[s],l=this.offsets[s+1]-o;l>0&&(r+=l)}for(var h=new Array(4*n.length),c=0;c<n.length;++c)h[4*c+3]=255&n[c],h[4*c+2]=(65280&n[c])>>8,h[4*c+1]=(16711680&n[c])>>16,h[4*c]=(4278190080&n[c])>>24;return h},t}(),PL=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,i,n,r,a;for(i in r=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[i],e[i]=r[n];return e},t.prototype.glyphsFor=function(e){var i,n,r,a,s,o,l;for(r={},s=0,o=e.length;s<o;s++)r[a=e[s]]=this.font.glyf.glyphFor(a);for(a in i=[],r)(n=r[a])!=null&&n.compound&&i.push.apply(i,n.glyphIDs);if(i.length>0)for(a in l=this.glyphsFor(i))n=l[a],r[a]=n;return r},t.prototype.encode=function(e,i){var n,r,a,s,o,l,h,c,p,g,f,v,x,y,w;for(r in n=Fx.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),f={0:0},w=n.charMap)f[(l=w[r]).old]=l.new;for(v in g=n.maxGlyphID,s)v in f||(f[v]=g++);return c=function(A){var N,T;for(N in T={},A)T[A[N]]=N;return T}(f),p=Object.keys(c).sort(function(A,N){return A-N}),x=function(){var A,N,T;for(T=[],A=0,N=p.length;A<N;A++)o=p[A],T.push(c[o]);return T}(),a=this.font.glyf.encode(s,x,f),h=this.font.loca.encode(a.offsets,x),y={cmap:this.font.cmap.raw(),glyf:a.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(i)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},t}();Ft.API.PDFObject=function(){var t;function e(){}return t=function(i,n){return(Array(n+1).join("0")+i).slice(-n)},e.convert=function(i){var n,r,a,s;if(Array.isArray(i))return"["+function(){var o,l,h;for(h=[],o=0,l=i.length;o<l;o++)n=i[o],h.push(e.convert(n));return h}().join(" ")+"]";if(typeof i=="string")return"/"+i;if(i?.isString)return"("+i+")";if(i instanceof Date)return"(D:"+t(i.getUTCFullYear(),4)+t(i.getUTCMonth(),2)+t(i.getUTCDate(),2)+t(i.getUTCHours(),2)+t(i.getUTCMinutes(),2)+t(i.getUTCSeconds(),2)+"Z)";if({}.toString.call(i)==="[object Object]"){for(r in a=["<<"],i)s=i[r],a.push("/"+r+" "+e.convert(s));return a.push(">>"),a.join(`
`)}return""+i},e}();function Hx(t,e,i,n,r){n=n||{};var a=1.15,s=r.internal.scaleFactor,o=r.internal.getFontSize()/s,l=r.getLineHeightFactor?r.getLineHeightFactor():a,h=o*l,c=/\r\n|\r|\n/g,p="",g=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(p=typeof t=="string"?t.split(c):t,g=p.length||1),i+=o*(2-a),n.valign==="middle"?i-=g/2*h:n.valign==="bottom"&&(i-=g*h),n.halign==="center"||n.halign==="right"){var f=o;if(n.halign==="center"&&(f*=.5),p&&g>=1){for(var v=0;v<p.length;v++)r.text(p[v],e-r.getStringUnitWidth(p[v])*f,i),i+=h;return r}e-=r.getStringUnitWidth(t)*f}return n.halign==="justify"?r.text(t,e,i,{maxWidth:n.maxWidth||100,align:"justify"}):r.text(t,e,i),r}var Bx={},Vo=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,i){i===void 0&&(i=null),i?i.__autoTableDocumentDefaults=e:Bx=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,i){var n,r,a;i===void 0&&(i=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var s=this.jsPDFDocument.internal.getFont(),o=s.fontStyle,l=s.fontName;if(e.font&&(l=e.font),e.fontStyle){o=e.fontStyle;var h=this.getFontList()[l];h&&h.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(h[0]),o=h[0])}if(this.jsPDFDocument.setFont(l,o),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!i){var c=t.unifyColor(e.fillColor);c&&(n=this.jsPDFDocument).setFillColor.apply(n,c),c=t.unifyColor(e.textColor),c&&(r=this.jsPDFDocument).setTextColor.apply(r,c),c=t.unifyColor(e.lineColor),c&&(a=this.jsPDFDocument).setDrawColor.apply(a,c),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,i,n){return this.jsPDFDocument.splitTextToSize(e,i,n)},t.prototype.rect=function(e,i,n,r,a){return this.jsPDFDocument.rect(e,i,n,r,a)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return Bx||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),n0=function(t,e){return n0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])},n0(t,e)};function qx(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n0(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}var Wx=function(t){qx(e,t);function e(i){var n=t.call(this)||this;return n._element=i,n}return e}(Array);function NL(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function ML(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function Eu(t,e,i){i.applyStyles(e,!0);var n=Array.isArray(t)?t:[t],r=n.map(function(a){return i.getTextWidth(a)}).reduce(function(a,s){return Math.max(a,s)},0);return r}function $x(t,e,i,n){var r=e.settings.tableLineWidth,a=e.settings.tableLineColor;t.applyStyles({lineWidth:r,lineColor:a});var s=Yx(r,!1);s&&t.rect(i.x,i.y,e.getWidth(t.pageSize().width),n.y-i.y,s)}function Yx(t,e){var i=t>0,n=e||e===0;return i&&n?"DF":i?"S":n?"F":null}function Ru(t,e){var i,n,r,a;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(i=t.left)!==null&&i!==void 0?i:e,top:(n=t.top)!==null&&n!==void 0?n:e,right:(r=t.right)!==null&&r!==void 0?r:e,bottom:(a=t.bottom)!==null&&a!==void 0?a:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function Gx(t,e){var i=Ru(e.settings.margin,0);return t.pageSize().width-(i.left+i.right)}function IL(t,e,i,n,r){var a={},s=1.3333333333333333,o=Kp(e,function(N){return r.getComputedStyle(N).backgroundColor});o!=null&&(a.fillColor=o);var l=Kp(e,function(N){return r.getComputedStyle(N).color});l!=null&&(a.textColor=l);var h=EL(n,i);h&&(a.cellPadding=h);var c="borderTopColor",p=s*i,g=n.borderTopWidth;if(n.borderBottomWidth===g&&n.borderRightWidth===g&&n.borderLeftWidth===g){var f=(parseFloat(g)||0)/p;f&&(a.lineWidth=f)}else a.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/p,right:(parseFloat(n.borderRightWidth)||0)/p,bottom:(parseFloat(n.borderBottomWidth)||0)/p,left:(parseFloat(n.borderLeftWidth)||0)/p},a.lineWidth.top||(a.lineWidth.right?c="borderRightColor":a.lineWidth.bottom?c="borderBottomColor":a.lineWidth.left&&(c="borderLeftColor"));var v=Kp(e,function(N){return r.getComputedStyle(N)[c]});v!=null&&(a.lineColor=v);var x=["left","right","center","justify"];x.indexOf(n.textAlign)!==-1&&(a.halign=n.textAlign),x=["middle","bottom","top"],x.indexOf(n.verticalAlign)!==-1&&(a.valign=n.verticalAlign);var y=parseInt(n.fontSize||"");isNaN(y)||(a.fontSize=y/s);var w=OL(n);w&&(a.fontStyle=w);var A=(n.fontFamily||"").toLowerCase();return t.indexOf(A)!==-1&&(a.font=A),a}function OL(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function Kp(t,e){var i=Zx(t,e);if(!i)return null;var n=i.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var r=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],a=parseInt(n[4]);return a===0||isNaN(r[0])||isNaN(r[1])||isNaN(r[2])?null:r}function Zx(t,e){var i=e(t);return i==="rgba(0, 0, 0, 0)"||i==="transparent"||i==="initial"||i==="inherit"?t.parentElement==null?null:Zx(t.parentElement,e):i}function EL(t,e){var i=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),r=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,a=i.map(function(o){return parseInt(o||"0")/n}),s=Ru(a,0);return r>s.top&&(s.top=r),r>s.bottom&&(s.bottom=r),s}function Xx(t,e,i,n,r){var a,s;n===void 0&&(n=!1),r===void 0&&(r=!1);var o;typeof e=="string"?o=i.document.querySelector(e):o=e;var l=Object.keys(t.getFontList()),h=t.scaleFactor(),c=[],p=[],g=[];if(!o)return console.error("Html table could not be found with input: ",e),{head:c,body:p,foot:g};for(var f=0;f<o.rows.length;f++){var v=o.rows[f],x=(s=(a=v?.parentElement)===null||a===void 0?void 0:a.tagName)===null||s===void 0?void 0:s.toLowerCase(),y=FL(l,h,i,v,n,r);y&&(x==="thead"?c.push(y):x==="tfoot"?g.push(y):p.push(y))}return{head:c,body:p,foot:g}}function FL(t,e,i,n,r,a){for(var s=new Wx(n),o=0;o<n.cells.length;o++){var l=n.cells[o],h=i.getComputedStyle(l);if(r||h.display!=="none"){var c=void 0;a&&(c=IL(t,l,e,h,i)),s.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:c,_element:l,content:RL(l)})}}var p=i.getComputedStyle(n);if(s.length>0&&(r||p.display!=="none"))return s}function RL(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(i){return i.trim()}).join(`
`),e.innerText||e.textContent||""}function BL(t,e,i){for(var n=0,r=[t,e,i];n<r.length;n++){var a=r[n];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function ta(t,e,i,n,r){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(t),s=1;s<arguments.length;s++){var o=arguments[s];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])}return a}function Kx(t,e){var i=new Vo(t),n=i.getDocumentOptions(),r=i.getGlobalOptions();BL(r,n,e);var a=ta({},r,n,e),s;typeof window<"u"&&(s=window);var o=jL(r,n,e),l=zL(r,n,e),h=VL(i,a),c=HL(i,a,s);return{id:e.tableId,content:c,hooks:l,styles:o,settings:h}}function jL(t,e,i){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},r=function(l){if(l==="columnStyles"){var h=t[l],c=e[l],p=i[l];n.columnStyles=ta({},h,c,p)}else{var g=[t,e,i],f=g.map(function(v){return v[l]||{}});n[l]=ta({},f[0],f[1],f[2])}},a=0,s=Object.keys(n);a<s.length;a++){var o=s[a];r(o)}return n}function zL(t,e,i){for(var n=[t,e,i],r={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,s=n;a<s.length;a++){var o=s[a];o.didParseCell&&r.didParseCell.push(o.didParseCell),o.willDrawCell&&r.willDrawCell.push(o.willDrawCell),o.didDrawCell&&r.didDrawCell.push(o.didDrawCell),o.willDrawPage&&r.willDrawPage.push(o.willDrawPage),o.didDrawPage&&r.didDrawPage.push(o.didDrawPage)}return r}function VL(t,e){var i,n,r,a,s,o,l,h,c,p,g,f,v=Ru(e.margin,40/t.scaleFactor()),x=(i=UL(t,e.startY))!==null&&i!==void 0?i:v.top,y;e.showFoot===!0?y="everyPage":e.showFoot===!1?y="never":y=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var w;e.showHead===!0?w="everyPage":e.showHead===!1?w="never":w=(r=e.showHead)!==null&&r!==void 0?r:"everyPage";var A=(a=e.useCss)!==null&&a!==void 0?a:!1,N=e.theme||(A?"plain":"striped"),T=!!e.horizontalPageBreak,F=(s=e.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(o=e.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:A,theme:N,startY:x,margin:v,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(h=e.rowPageBreak)!==null&&h!==void 0?h:"auto",tableWidth:(c=e.tableWidth)!==null&&c!==void 0?c:"auto",showHead:w,showFoot:y,tableLineWidth:(p=e.tableLineWidth)!==null&&p!==void 0?p:0,tableLineColor:(g=e.tableLineColor)!==null&&g!==void 0?g:200,horizontalPageBreak:T,horizontalPageBreakRepeat:F,horizontalPageBreakBehaviour:(f=e.horizontalPageBreakBehaviour)!==null&&f!==void 0?f:"afterAllRows"}}function UL(t,e){var i=t.getLastAutoTable(),n=t.scaleFactor(),r=t.pageNumber(),a=!1;if(i&&i.startPageNumber){var s=i.startPageNumber+i.pageNumber-1;a=s===r}return typeof e=="number"?e:(e==null||e===!1)&&a&&i?.finalY!=null?i.finalY+20/n:null}function HL(t,e,i){var n=e.head||[],r=e.body||[],a=e.foot||[];if(e.html){var s=e.includeHiddenHtml;if(i){var o=Xx(t,e.html,i,s,e.useCss)||{};n=o.head||n,r=o.body||n,a=o.foot||n}else console.error("Cannot parse html in non browser environment")}var l=e.columns||qL(n,r,a);return{columns:l,head:n,body:r,foot:a}}function qL(t,e,i){var n=t[0]||e[0]||i[0]||[],r=[];return Object.keys(n).filter(function(a){return a!=="_element"}).forEach(function(a){var s=1,o;Array.isArray(n)?o=n[parseInt(a)]:o=n[a],typeof o=="object"&&!Array.isArray(o)&&(s=o?.colSpan||1);for(var l=0;l<s;l++){var h=void 0;Array.isArray(n)?h=r.length:h=a+(l>0?"_".concat(l):"");var c={dataKey:h};r.push(c)}}),r}var r0=function(){function t(e,i,n){this.table=i,this.pageNumber=i.pageNumber,this.settings=i.settings,this.cursor=n,this.doc=e.getDocument()}return t}(),WL=function(t){qx(e,t);function e(i,n,r,a,s,o){var l=t.call(this,i,n,o)||this;return l.cell=r,l.row=a,l.column=s,l.section=a.section,l}return e}(r0),$L=function(){function t(e,i){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=i.columns,this.head=i.head,this.body=i.body,this.foot=i.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(i,n){return i+n.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(i,n){return i+n.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,i,n,r,a,s){for(var o=0,l=i;o<l.length;o++){var h=l[o],c=new WL(e,this,n,r,a,s),p=h(c)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],p)return!1}return!0},t.prototype.callEndPageHooks=function(e,i){e.applyStyles(e.userStyles);for(var n=0,r=this.hooks.didDrawPage;n<r.length;n++){var a=r[n];a(new r0(e,this,i))}},t.prototype.callWillDrawPageHooks=function(e,i){for(var n=0,r=this.hooks.willDrawPage;n<r.length;n++){var a=r[n];a(new r0(e,this,i))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var i=this.columns.reduce(function(r,a){return r+a.wrappedWidth},0);return i}else{var n=this.settings.margin;return e-n.left-n.right}},t}(),Jx=function(){function t(e,i,n,r,a){a===void 0&&(a=!1),this.height=0,this.raw=e,e instanceof Wx&&(this.raw=e._element,this.element=e._element),this.index=i,this.section=n,this.cells=r,this.spansMultiplePages=a}return t.prototype.getMaxCellHeight=function(e){var i=this;return e.reduce(function(n,r){var a;return Math.max(n,((a=i.cells[r.index])===null||a===void 0?void 0:a.height)||0)},0)},t.prototype.hasRowSpan=function(e){var i=this;return e.filter(function(n){var r=i.cells[n.index];return r?r.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,i){return this.getMaxCellHeight(i)<=e},t.prototype.getMinimumRowHeight=function(e,i){var n=this;return e.reduce(function(r,a){var s=n.cells[a.index];if(!s)return 0;var o=i.getLineHeight(s.styles.fontSize),l=s.padding("vertical"),h=l+o;return h>r?h:r},0)},t}(),Qx=function(){function t(e,i,n){var r;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=i,this.section=n,this.raw=e;var a=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,a=(r=e.content)!==null&&r!==void 0?r:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var s=a!=null?""+a:"",o=/\r\n|\r|\n/g;this.text=s.split(o)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var i=this.height-this.padding("vertical");e=this.y+i/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var r=this.width-this.padding("horizontal");n=this.x+r/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},t.prototype.getContentHeight=function(e,i){i===void 0&&(i=1.15);var n=Array.isArray(this.text)?this.text.length:1,r=this.styles.fontSize/e*i,a=n*r+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},t.prototype.padding=function(e){var i=Ru(this.styles.cellPadding,0);return e==="vertical"?i.top+i.bottom:e==="horizontal"?i.left+i.right:i[e]},t}(),YL=function(){function t(e,i,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=i,this.index=n}return t.prototype.getMaxCustomCellWidth=function(e){for(var i=0,n=0,r=e.allRows();n<r.length;n++){var a=r[n],s=a.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(i=Math.max(i,s.styles.cellWidth))}return i},t}();function GL(t,e){ZL(t,e);var i=[],n=0;e.columns.forEach(function(a){var s=a.getMaxCustomCellWidth(e);s?a.width=s:(a.width=a.wrappedWidth,i.push(a)),n+=a.width});var r=e.getWidth(t.pageSize().width)-n;r&&(r=a0(i,r,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),r&&(r=a0(i,r,function(a){return a.minWidth})),r=Math.abs(r),!e.settings.horizontalPageBreak&&r>.1/t.scaleFactor()&&(r=r<1?r:Math.round(r),console.warn("Of the table content, ".concat(r," units width could not fit page"))),KL(e),JL(e,t),XL(e)}function ZL(t,e){var i=t.scaleFactor(),n=e.settings.horizontalPageBreak,r=Gx(t,e);e.allRows().forEach(function(a){for(var s=0,o=e.columns;s<o.length;s++){var l=o[s],h=a.cells[l.index];if(h){var c=e.hooks.didParseCell;e.callCellHooks(t,c,h,a,l,null);var p=h.padding("horizontal");h.contentWidth=Eu(h.text,h.styles,t)+p;var g=Eu(h.text.join(" ").split(/[^\S\u00A0]+/),h.styles,t);if(h.minReadableWidth=g+h.padding("horizontal"),typeof h.styles.cellWidth=="number")h.minWidth=h.styles.cellWidth,h.wrappedWidth=h.styles.cellWidth;else if(h.styles.cellWidth==="wrap"||n===!0)h.contentWidth>r?(h.minWidth=r,h.wrappedWidth=r):(h.minWidth=h.contentWidth,h.wrappedWidth=h.contentWidth);else{var f=10/i;h.minWidth=h.styles.minCellWidth||f,h.wrappedWidth=h.contentWidth,h.minWidth>h.wrappedWidth&&(h.wrappedWidth=h.minWidth)}}}}),e.allRows().forEach(function(a){for(var s=0,o=e.columns;s<o.length;s++){var l=o[s],h=a.cells[l.index];if(h&&h.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,h.wrappedWidth),l.minWidth=Math.max(l.minWidth,h.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,h.minReadableWidth);else{var c=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},p=c.cellWidth||c.minCellWidth;p&&typeof p=="number"&&(l.minWidth=p,l.wrappedWidth=p)}h&&(h.colSpan>1&&!l.minWidth&&(l.minWidth=h.minWidth),h.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=h.minWidth))}})}function a0(t,e,i){for(var n=e,r=t.reduce(function(f,v){return f+v.wrappedWidth},0),a=0;a<t.length;a++){var s=t[a],o=s.wrappedWidth/r,l=n*o,h=s.width+l,c=i(s),p=h<c?c:h;e-=p-s.width,s.width=p}if(e=Math.round(e*1e10)/1e10,e){var g=t.filter(function(f){return e<0?f.width>i(f):!0});g.length&&(e=a0(g,e,i))}return e}function XL(t){for(var e={},i=1,n=t.allRows(),r=0;r<n.length;r++)for(var a=n[r],s=0,o=t.columns;s<o.length;s++){var l=o[s],h=e[l.index];if(i>1)i--,delete a.cells[l.index];else if(h)h.cell.height+=a.height,i=h.cell.colSpan,delete a.cells[l.index],h.left--,h.left<=1&&delete e[l.index];else{var c=a.cells[l.index];if(!c)continue;if(c.height=a.height,c.rowSpan>1){var p=n.length-r,g=c.rowSpan>p?p:c.rowSpan;e[l.index]={cell:c,left:g,row:a}}}}}function KL(t){for(var e=t.allRows(),i=0;i<e.length;i++)for(var n=e[i],r=null,a=0,s=0,o=0;o<t.columns.length;o++){var l=t.columns[o];if(s-=1,s>1&&t.columns[o+1])a+=l.width,delete n.cells[l.index];else if(r){var h=r;delete n.cells[l.index],r=null,h.width=l.width+a}else{var h=n.cells[l.index];if(!h)continue;if(s=h.colSpan,a=0,h.colSpan>1){r=h,a+=l.width;continue}h.width=l.width+a}}}function JL(t,e){for(var i={count:0,height:0},n=0,r=t.allRows();n<r.length;n++){for(var a=r[n],s=0,o=t.columns;s<o.length;s++){var l=o[s],h=a.cells[l.index];if(h){e.applyStyles(h.styles,!0);var c=h.width-h.padding("horizontal");if(h.styles.overflow==="linebreak")h.text=e.splitTextToSize(h.text,c+1/e.scaleFactor(),{fontSize:h.styles.fontSize});else if(h.styles.overflow==="ellipsize")h.text=jx(h.text,c,h.styles,e,"...");else if(h.styles.overflow==="hidden")h.text=jx(h.text,c,h.styles,e,"");else if(typeof h.styles.overflow=="function"){var p=h.styles.overflow(h.text,c);typeof p=="string"?h.text=[p]:h.text=p}h.contentHeight=h.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var g=h.contentHeight/h.rowSpan;h.rowSpan>1&&i.count*i.height<g*h.rowSpan?i={height:g,count:h.rowSpan}:i&&i.count>0&&i.height>g&&(g=i.height),g>a.height&&(a.height=g)}}i.count--}}function jx(t,e,i,n,r){return t.map(function(a){return QL(a,e,i,n,r)})}function QL(t,e,i,n,r){var a=1e4*n.scaleFactor();if(e=Math.ceil(e*a)/a,e>=Eu(t,i,n))return t;for(;e<Eu(t+r,i,n)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+r}function t_(t,e){var i=new Vo(t),n=tT(e,i.scaleFactor()),r=new $L(e,n);return GL(i,r),i.applyStyles(i.userStyles),r}function tT(t,e){var i=t.content,n=iT(i.columns);if(i.head.length===0){var r=zx(n,"head");r&&i.head.push(r)}if(i.foot.length===0){var r=zx(n,"foot");r&&i.foot.push(r)}var a=t.settings.theme,s=t.styles;return{columns:n,head:Jp("head",i.head,n,s,a,e),body:Jp("body",i.body,n,s,a,e),foot:Jp("foot",i.foot,n,s,a,e)}}function Jp(t,e,i,n,r,a){var s={},o=e.map(function(l,h){for(var c=0,p={},g=0,f=0,v=0,x=i;v<x.length;v++){var y=x[v];if(s[y.index]==null||s[y.index].left===0)if(f===0){var w=void 0;Array.isArray(l)?w=l[y.index-g-c]:w=l[y.dataKey];var A={};typeof w=="object"&&!Array.isArray(w)&&(A=w?.styles||{});var N=nT(t,y,h,r,n,a,A),T=new Qx(w,N,t);p[y.dataKey]=T,p[y.index]=T,f=T.colSpan-1,s[y.index]={left:T.rowSpan-1,times:f}}else f--,g++;else s[y.index].left--,f=s[y.index].times,c++}return new Jx(l,h,t,p)});return o}function zx(t,e){var i={};return t.forEach(function(n){if(n.raw!=null){var r=eT(e,n.raw);r!=null&&(i[n.dataKey]=r)}}),Object.keys(i).length>0?i:null}function eT(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function iT(t){return t.map(function(e,i){var n,r;return typeof e=="object"?r=(n=e.dataKey)!==null&&n!==void 0?n:i:r=i,new YL(r,e,i)})}function nT(t,e,i,n,r,a,s){var o=ML(n),l;t==="head"?l=r.headStyles:t==="body"?l=r.bodyStyles:t==="foot"&&(l=r.footStyles);var h=ta({},o.table,o[t],r.styles,l),c=r.columnStyles[e.dataKey]||r.columnStyles[e.index]||{},p=t==="body"?c:{},g=t==="body"&&i%2===0?ta({},o.alternateRow,r.alternateRowStyles):{},f=NL(a),v=ta({},f,h,g,p);return ta(v,s)}function rT(t,e,i){var n;i===void 0&&(i={});var r=Gx(t,e),a=new Map,s=[],o=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(g){var f=e.columns.find(function(v){return v.dataKey===g||v.index===g});f&&!a.has(f.index)&&(a.set(f.index,!0),s.push(f.index),o.push(e.columns[f.index]),r-=f.wrappedWidth)});for(var h=!0,c=(n=i?.start)!==null&&n!==void 0?n:0;c<e.columns.length;){if(a.has(c)){c++;continue}var p=e.columns[c].wrappedWidth;if(h||r>=p)h=!1,s.push(c),o.push(e.columns[c]),r-=p;else break;c++}return{colIndexes:s,columns:o,lastIndex:c-1}}function aT(t,e){for(var i=[],n=0;n<e.columns.length;n++){var r=rT(t,e,{start:n});r.columns.length&&(i.push(r),n=r.lastIndex)}return i}function e_(t,e){var i=e.settings,n=i.startY,r=i.margin,a={x:r.left,y:n},s=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),o=n+r.bottom+s;if(i.pageBreak==="avoid"){var l=e.body,h=l.reduce(function(g,f){return g+f.height},0);o+=h}var c=new Vo(t);(i.pageBreak==="always"||i.startY!=null&&o>c.pageSize().height)&&(n_(c),a.y=r.top),e.callWillDrawPageHooks(c,a);var p=ta({},a);e.startPageNumber=c.pageNumber(),i.horizontalPageBreak?sT(c,e,p,a):(c.applyStyles(c.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(g){return ea(c,e,g,a,e.columns)}),c.applyStyles(c.userStyles),e.body.forEach(function(g,f){var v=f===e.body.length-1;Fu(c,e,g,v,p,a,e.columns)}),c.applyStyles(c.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(g){return ea(c,e,g,a,e.columns)})),$x(c,e,p,a),e.callEndPageHooks(c,a),e.finalY=a.y,t.lastAutoTable=e,c.applyStyles(c.userStyles)}function sT(t,e,i,n){var r=aT(t,e),a=e.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")r.forEach(function(h,c){t.applyStyles(t.userStyles),c>0?gh(t,e,i,n,h.columns,!0):Vx(t,e,n,h.columns),oT(t,e,i,n,h.columns),Qp(t,e,n,h.columns)});else for(var s=-1,o=r[0],l=function(){var h=s;if(o){t.applyStyles(t.userStyles);var c=o.columns;s>=0?gh(t,e,i,n,c,!0):Vx(t,e,n,c),h=Ux(t,e,s+1,n,c),Qp(t,e,n,c)}var p=h-s;r.slice(1).forEach(function(g){t.applyStyles(t.userStyles),gh(t,e,i,n,g.columns,!0),Ux(t,e,s+1,n,g.columns,p),Qp(t,e,n,g.columns)}),s=h};s<e.body.length-1;)l()}function Vx(t,e,i,n){var r=e.settings;t.applyStyles(t.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(a){return ea(t,e,a,i,n)})}function oT(t,e,i,n,r){t.applyStyles(t.userStyles),e.body.forEach(function(a,s){var o=s===e.body.length-1;Fu(t,e,a,o,i,n,r)})}function Ux(t,e,i,n,r,a){t.applyStyles(t.userStyles),a=a??e.body.length;var s=Math.min(i+a,e.body.length),o=-1;return e.body.slice(i,s).forEach(function(l,h){var c=i+h===e.body.length-1,p=i_(t,e,c,n);l.canEntireRowFit(p,r)&&(ea(t,e,l,n,r),o=i+h)}),o}function Qp(t,e,i,n){var r=e.settings;t.applyStyles(t.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(a){return ea(t,e,a,i,n)})}function lT(t,e,i){var n=i.getLineHeight(t.styles.fontSize),r=t.padding("vertical"),a=Math.floor((e-r)/n);return Math.max(0,a)}function hT(t,e,i,n){var r={};t.spansMultiplePages=!0,t.height=0;for(var a=0,s=0,o=i.columns;s<o.length;s++){var l=o[s],h=t.cells[l.index];if(h){Array.isArray(h.text)||(h.text=[h.text]);var c=new Qx(h.raw,h.styles,h.section);c=ta(c,h),c.text=[];var p=lT(h,e,n);h.text.length>p&&(c.text=h.text.splice(p,h.text.length));var g=n.scaleFactor(),f=n.getLineHeightFactor();h.contentHeight=h.getContentHeight(g,f),h.contentHeight>=e&&(h.contentHeight=e,c.styles.minCellHeight-=e),h.contentHeight>t.height&&(t.height=h.contentHeight),c.contentHeight=c.getContentHeight(g,f),c.contentHeight>a&&(a=c.contentHeight),r[l.index]=c}}var v=new Jx(t.raw,-1,t.section,r,!0);v.height=a;for(var x=0,y=i.columns;x<y.length;x++){var l=y[x],c=v.cells[l.index];c&&(c.height=v.height);var h=t.cells[l.index];h&&(h.height=t.height)}return v}function cT(t,e,i,n){var r=t.pageSize().height,a=n.settings.margin,s=a.top+a.bottom,o=r-s;e.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=e.getMinimumRowHeight(n.columns,t),h=l<i;if(l>o)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!h)return!1;var c=e.hasRowSpan(n.columns),p=e.getMaxCellHeight(n.columns)>o;return p?(c&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(c||n.settings.rowPageBreak==="avoid")}function Fu(t,e,i,n,r,a,s){var o=i_(t,e,n,a);if(i.canEntireRowFit(o,s))ea(t,e,i,a,s);else if(cT(t,i,o,e)){var l=hT(i,o,e,t);ea(t,e,i,a,s),gh(t,e,r,a,s),Fu(t,e,l,n,r,a,s)}else gh(t,e,r,a,s),Fu(t,e,i,n,r,a,s)}function ea(t,e,i,n,r){n.x=e.settings.margin.left;for(var a=0,s=r;a<s.length;a++){var o=s[a],l=i.cells[o.index];if(!l){n.x+=o.width;continue}t.applyStyles(l.styles),l.x=n.x,l.y=n.y;var h=e.callCellHooks(t,e.hooks.willDrawCell,l,i,o,n);if(h===!1){n.x+=o.width;continue}uT(t,l,n);var c=l.getTextPos();Hx(l.text,c.x,c.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,i,o,n),n.x+=o.width}n.y+=i.height}function uT(t,e,i){var n=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof n.lineWidth=="number"){var r=Yx(n.lineWidth,n.fillColor);r&&t.rect(e.x,i.y,e.width,e.height,r)}else typeof n.lineWidth=="object"&&(n.fillColor&&t.rect(e.x,i.y,e.width,e.height,"F"),fT(t,e,i,n.lineWidth))}function fT(t,e,i,n){var r,a,s,o;n.top&&(r=i.x,a=i.y,s=i.x+e.width,o=i.y,n.right&&(s+=.5*n.right),n.left&&(r-=.5*n.left),l(n.top,r,a,s,o)),n.bottom&&(r=i.x,a=i.y+e.height,s=i.x+e.width,o=i.y+e.height,n.right&&(s+=.5*n.right),n.left&&(r-=.5*n.left),l(n.bottom,r,a,s,o)),n.left&&(r=i.x,a=i.y,s=i.x,o=i.y+e.height,n.top&&(a-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.left,r,a,s,o)),n.right&&(r=i.x+e.width,a=i.y,s=i.x+e.width,o=i.y+e.height,n.top&&(a-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.right,r,a,s,o));function l(h,c,p,g,f){t.getDocument().setLineWidth(h),t.getDocument().line(c,p,g,f,"S")}}function i_(t,e,i,n){var r=e.settings.margin.bottom,a=e.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&i)&&(r+=e.getFootHeight(e.columns)),t.pageSize().height-n.y-r}function gh(t,e,i,n,r,a){r===void 0&&(r=[]),a===void 0&&(a=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!a&&e.foot.forEach(function(o){return ea(t,e,o,n,r)}),e.callEndPageHooks(t,n);var s=e.settings.margin;$x(t,e,i,n),n_(t),e.pageNumber++,n.x=s.left,n.y=s.top,i.y=s.top,e.callWillDrawPageHooks(t,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(o){return ea(t,e,o,n,r)}),t.applyStyles(t.userStyles))}function n_(t){var e=t.pageNumber();t.setPage(e+1);var i=t.pageNumber();return i===e?(t.addPage(),!0):!1}function dT(t){t.API.autoTable=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var n=e[0],r=Kx(this,n),a=t_(this,r);return e_(this,a),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,i,n,r){Hx(e,i,n,r,this)},t.API.autoTableSetDefaults=function(e){return Vo.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,i){Vo.setDefaults(e,i)},t.API.autoTableHtmlToJson=function(e,i){var n;if(i===void 0&&(i=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var r=new Vo(this),a=Xx(r,e,window,i,!1),s=a.head,o=a.body,l=((n=s[0])===null||n===void 0?void 0:n.map(function(h){return h.content}))||[];return{columns:l,rows:o,data:o}}}var t0;function Yi(t,e){var i=Kx(t,e),n=t_(t,i);e_(t,n)}try{typeof window<"u"&&window&&(e0=window,i0=e0.jsPDF||((t0=e0.jspdf)===null||t0===void 0?void 0:t0.jsPDF),i0&&dT(i0))}catch(t){console.error("Could not apply autoTable plugin",t)}var e0,i0;function vT(t,e){t&1&&(dt(0,"mat-error"),xt(1," Start date is required "),ut())}function xT(t,e){t&1&&(dt(0,"mat-error"),xt(1," Start time is required "),ut())}function _T(t,e){t&1&&(dt(0,"mat-error"),xt(1," Discharge current is required "),ut())}function yT(t,e){t&1&&(dt(0,"mat-error"),xt(1," Discharge current must be greater than or equal to 0 "),ut())}var Bu=class t{constructor(e,i,n){this.fb=e;this.dialogRef=i;this.data=n;this.isEditMode=!!this.data.schedule;let r=this.data.schedule,a=r?new Date(r.startTime):new Date;this.scheduleForm=this.fb.group({startDate:[a,bl.required],startTime:[this.formatTime(a),bl.required],ratedCurrent:[r?.ratedCurrent??0,[bl.required,bl.min(0)]]})}scheduleForm;isEditMode;formatTime(e){let i=e.getHours().toString().padStart(2,"0"),n=e.getMinutes().toString().padStart(2,"0");return`${i}:${n}`}ngOnInit(){}combineDateTime(e,i){let[n,r]=i.split(":").map(Number),a=new Date(e);return a.setHours(n,r,0,0),a}onCancel(){this.dialogRef.close()}onSubmit(){if(this.scheduleForm.valid){let e=this.scheduleForm.value,n={startTime:this.combineDateTime(e.startDate,e.startTime),ratedCurrent:Number(e.ratedCurrent)};this.dialogRef.close(n)}}static \u0275fac=function(i){return new(i||t)(vi(Ng),vi(l1),vi(h1))};static \u0275cmp=Qh({type:t,selectors:[["app-schedule-form"]],decls:29,vars:10,consts:[["startPicker",""],["mat-dialog-title",""],[1,"schedule-form",3,"formGroup"],[1,"form-row"],["appearance","outline"],["matInput","","formControlName","startDate","required","",3,"matDatepicker"],["matSuffix","",3,"for"],[4,"ngIf"],["matInput","","type","time","formControlName","startTime","required",""],["appearance","outline",1,"full-width"],["matInput","","type","number","formControlName","ratedCurrent","required",""],["align","end"],["mat-button","",3,"click"],["mat-flat-button","","color","primary",3,"click","disabled"]],template:function(i,n){if(i&1){let r=_a();dt(0,"h2",1),xt(1),ut(),dt(2,"mat-dialog-content")(3,"form",2)(4,"div",3)(5,"mat-form-field",4)(6,"mat-label"),xt(7,"Start Date"),ut(),Dn(8,"input",5)(9,"mat-datepicker-toggle",6)(10,"mat-datepicker",null,0),le(12,vT,2,0,"mat-error",7),ut(),dt(13,"mat-form-field",4)(14,"mat-label"),xt(15,"Start Time"),ut(),Dn(16,"input",8),le(17,xT,2,0,"mat-error",7),ut()(),dt(18,"mat-form-field",9)(19,"mat-label"),xt(20,"Discharge Current (A)"),ut(),Dn(21,"input",10),le(22,_T,2,0,"mat-error",7)(23,yT,2,0,"mat-error",7),ut()()(),dt(24,"mat-dialog-actions",11)(25,"button",12),Ln("click",function(){return An(r),kn(n.onCancel())}),xt(26,"Cancel"),ut(),dt(27,"button",13),Ln("click",function(){return An(r),kn(n.onSubmit())}),xt(28),ut()()}if(i&2){let r,a,s,o,l=ml(11);Tt(),Ii(n.isEditMode?"Edit Schedule":"Create Schedule"),Tt(2),ye("formGroup",n.scheduleForm),Tt(5),ye("matDatepicker",l),Tt(),ye("for",l),Tt(3),ye("ngIf",(r=n.scheduleForm.get("startDate"))==null?null:r.hasError("required")),Tt(5),ye("ngIf",(a=n.scheduleForm.get("startTime"))==null?null:a.hasError("required")),Tt(5),ye("ngIf",(s=n.scheduleForm.get("ratedCurrent"))==null?null:s.hasError("required")),Tt(),ye("ngIf",(o=n.scheduleForm.get("ratedCurrent"))==null?null:o.hasError("min")),Tt(4),ye("disabled",n.scheduleForm.invalid),Tt(),Fe(" ",n.isEditMode?"Update":"Create"," ")}},dependencies:[ec,tc,Mg,kg,Sg,Dg,Cg,Ag,Pg,Lg,Tg,rc,u1,d1,f1,Ug,Vg,Bg,jg,zg,qg,Hg,nc,ic,C1,y1,w1,S1,A1],styles:[".schedule-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;min-width:420px}[_nghost-%COMP%]     .mat-mdc-dialog-surface{border-radius:18px!important;padding:32px 32px 28px!important;box-shadow:0 18px 48px #0000002e}.form-row[_ngcontent-%COMP%]{display:flex;gap:16px;flex-wrap:wrap}.form-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1}.full-width[_ngcontent-%COMP%]{width:100%}@media (max-width: 520px){.schedule-form[_ngcontent-%COMP%]{min-width:0;width:100%}.form-row[_ngcontent-%COMP%]{flex-direction:column}}"]})};var ju=class t{constructor(e){this.http=e;this.loadSchedulesFromStorage()}BASE_URL="/rest";SCHEDULE_API_URL="/rest/soh-schedule";STORAGE_KEY="bms_schedules";schedulesCache=new Map;schedulesSubject=new Kh(new Map);sortSchedules(e){return[...e].sort((i,n)=>n.startTime-i.startTime)}formatDateForBackend(e){return e.toISOString()}dtoToSchedule(e,i){let n=o=>{if(!o)return null;if(o.includes("Z")||o.includes("+")||(o.match(/-/g)||[]).length>2)return new Date(o).getTime();let[l,h]=o.split("T");if(!l||!h)return null;let[c,p,g]=l.split("-").map(Number),f=h.split(".")[0],[v,x,y=0]=f.split(":").map(Number),w=new Date(c,p-1,g,v,x,y);return isNaN(w.getTime())?null:w.getTime()},r=e.state??e.dischargeState??e.DischargeState??null,a=e.soh,s=a==null?null:a<=1?a*100:a;return{id:e.id.toString(),stringId:e.strId,startTime:n(e.startTime)||Date.now(),endTime:n(e.endTime),ratedCurrent:i||0,realTimeCurrent:e.current,soh:s,status:this.mapBackendStatus(r),createdAt:n(e.startTime)||Date.now(),updatedAt:Date.now()}}scheduleToDto(e){return{id:parseInt(e.id,10),strId:e.stringId,startTime:this.formatDateForBackend(new Date(e.startTime)),endTime:e.endTime?this.formatDateForBackend(new Date(e.endTime)):null,current:e.realTimeCurrent,soh:e.soh,state:this.mapFrontendStatus(e.status)}}mapBackendStatus(e){if(e==null)return"pending";if(typeof e=="number")return{1:"pending",2:"running",3:"stopped",4:"finished",5:"failed"}[e]||"pending";let i=e.toUpperCase();return i==="PENDING"?"pending":i==="RUNNING"?"running":i==="STOPPED"?"stopped":i==="FINISHED"||i==="SUCCESS"?"finished":i==="FAILED"||i==="FAIL"?"failed":"pending"}mapFrontendStatus(e){return{pending:"PENDING",running:"RUNNING",finished:"SUCCESS",stopped:"STOPPED",failed:"FAILED"}[e]||"PENDING"}loadSchedulesFromStorage(){try{let e=localStorage.getItem(this.STORAGE_KEY);if(e){let i=JSON.parse(e);this.schedulesCache=new Map(Object.entries(i).map(([n,r])=>[n,r.map(a=>Ge(Ee({},a),{endTime:a.endTime??null}))])),this.schedulesSubject.next(new Map(this.schedulesCache))}}catch(e){console.error("Error loading schedules from storage:",e)}}saveSchedulesToStorage(){try{let e=Object.fromEntries(this.schedulesCache);localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e))}catch(e){console.error("Error saving schedules to storage:",e)}}updateCache(e,i){this.schedulesCache.set(e,i),this.schedulesSubject.next(new Map(this.schedulesCache)),this.saveSchedulesToStorage()}getSchedules(e,i=[]){return this.http.get(`${this.SCHEDULE_API_URL}/get-list`).pipe(gs(n=>{console.log("[Schedule] API response:",n);let r=[];n&&n.success&&Array.isArray(n.data)?r=n.data:console.warn("[Schedule] Unexpected response format:",n);let a=new Set([e,...i].filter(Boolean)),o=r.filter(h=>a.has(h.strId)).map(h=>{let p=(this.schedulesCache.get(e)||[]).find(g=>g.id===h.id.toString());return this.dtoToSchedule(h,p?.ratedCurrent)}),l=this.sortSchedules(o);return this.updateCache(e,l),l}),Xs(n=>{console.error("[Schedule] Error fetching schedules from backend:",n),n.error&&typeof n.error=="string"&&n.error.includes("<!DOCTYPE")&&console.error("[Schedule] Backend returned HTML instead of JSON. Check proxy configuration.");let r=this.schedulesCache.get(e)||[];return xa(this.sortSchedules(r))}))}getSchedulesObservable(e,i=[]){return this.getSchedules(e,i).pipe(ms(()=>this.schedulesSubject.pipe(gs(n=>{let r=n.get(e)||[];return this.sortSchedules(r)}))))}createSchedule(e,i){let n=this.formatDateForBackend(i.startTime),r=Number.isFinite(i.ratedCurrent)?i.ratedCurrent:null,a=[`strId=${encodeURIComponent(e)}`,`startTime=${encodeURIComponent(n)}`];r!==null&&a.push(`current=${encodeURIComponent(String(r))}`);let s=a.join("&");return console.log("[Schedule] Creating schedule:",{strId:e,startTime:n,current:r,query:s}),this.http.post(`${this.SCHEDULE_API_URL}/create?${s}`,null).pipe(ms(o=>{if(o&&o.success)return this.getSchedules(e).pipe(gs(l=>{let h=l.find(g=>Math.abs(g.startTime-i.startTime.getTime())<6e4);if(h)return h.ratedCurrent=i.ratedCurrent,this.updateCache(e,l),h;let c={id:this.generateId(),stringId:e,startTime:i.startTime.getTime(),endTime:null,ratedCurrent:i.ratedCurrent,realTimeCurrent:null,soh:null,status:"pending",createdAt:Date.now(),updatedAt:Date.now()},p=[c,...l];return this.updateCache(e,p),c}));throw new Error("Backend did not return success")}),Xs(o=>{console.error("Error creating schedule:",o);let l={id:this.generateId(),stringId:e,startTime:i.startTime.getTime(),endTime:null,ratedCurrent:i.ratedCurrent,realTimeCurrent:null,soh:null,status:"pending",createdAt:Date.now(),updatedAt:Date.now()},h=[l,...this.schedulesCache.get(e)||[]];return this.updateCache(e,h),xa(l)}))}updateSchedule(e,i,n){let r=[...this.schedulesCache.get(e)||[]],a=r.findIndex(h=>h.id===i);if(a===-1)return xf(()=>new Error("Schedule not found"));let s=r[a];if(!n.startTime)return xf(()=>new Error("startTime is required for update"));let o=this.formatDateForBackend(n.startTime),l=`id=${encodeURIComponent(i)}&startTime=${encodeURIComponent(o)}`;return this.http.post(`${this.SCHEDULE_API_URL}/update?${l}`,null).pipe(ms(h=>{if(h&&h.success)return this.getSchedules(e).pipe(gs(c=>{let p=c.find(f=>f.id===i);if(p)return n.ratedCurrent!==void 0&&(p.ratedCurrent=n.ratedCurrent),this.updateCache(e,c),p;let g=Ge(Ee(Ge(Ee({},s),{startTime:n.startTime.getTime()}),n.ratedCurrent!==void 0&&{ratedCurrent:n.ratedCurrent}),{updatedAt:Date.now()});return r[a]=g,this.updateCache(e,this.sortSchedules(r)),g}));throw new Error("Backend did not return success")}),Xs(h=>{console.error("Error updating schedule:",h);let c=Ge(Ee(Ge(Ee({},s),{startTime:n.startTime.getTime()}),n.ratedCurrent!==void 0&&{ratedCurrent:n.ratedCurrent}),{updatedAt:Date.now()});return r[a]=c,this.updateCache(e,this.sortSchedules(r)),xa(c)}))}updateScheduleStatus(e,i,n,r,a,s){let o=this.schedulesCache.get(e)||[],l=o.findIndex(f=>f.id===i);if(l===-1)throw new Error("Schedule not found");let h=o[l],c=s!==void 0?s:n==="finished"||n==="stopped"?Date.now():h.endTime,p=Ge(Ee(Ee(Ge(Ee({},h),{status:n,endTime:c}),r!==void 0&&{realTimeCurrent:r}),a!==void 0&&{soh:a}),{updatedAt:Date.now()}),g=[...o];return g[l]=p,this.schedulesCache.set(e,this.sortSchedules(g)),this.saveSchedulesToStorage(),this.schedulesSubject.next(new Map(this.schedulesCache)),xa(p)}deleteSchedule(e,i){let n=`id=${encodeURIComponent(i)}`;return this.http.post(`${this.SCHEDULE_API_URL}/delete?${n}`,null).pipe(gs(()=>{let a=(this.schedulesCache.get(e)||[]).filter(s=>s.id!==i);return this.updateCache(e,this.sortSchedules(a)),!0}),Xs(r=>{console.error("Error deleting schedule:",r);let s=(this.schedulesCache.get(e)||[]).filter(o=>o.id!==i);return this.updateCache(e,this.sortSchedules(s)),xa(!1)}))}stopSchedule(e,i){let n=`id=${encodeURIComponent(i)}`,r=[...this.schedulesCache.get(e)||[]],a=r.find(s=>s.id===i);return this.http.post(`${this.SCHEDULE_API_URL}/stop?${n}`,null).pipe(ms(s=>{if(s&&s.success)return this.getSchedules(e).pipe(gs(o=>{let l=o.find(p=>p.id===i);if(l)return a&&(l.ratedCurrent=a.ratedCurrent),this.updateCache(e,o),l;let h=Ge(Ee({},a),{status:"stopped",endTime:Date.now(),updatedAt:Date.now()}),c=r.findIndex(p=>p.id===i);return c!==-1&&(r[c]=h,this.updateCache(e,this.sortSchedules(r))),h}));throw new Error("Backend did not return success")}),Xs(s=>(console.error("Error stopping schedule:",s),this.updateScheduleStatus(e,i,"stopped",void 0,void 0,Date.now()))))}generateId(){return`schedule_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}static \u0275fac=function(i){return new(i||t)(K0(fg))};static \u0275prov=Jh({token:t,factory:t.\u0275fac,providedIn:"root"})};function ST(t,e){t&1&&(dt(0,"div",5),Dn(1,"mat-spinner"),dt(2,"p"),xt(3,"Loading String..."),ut()())}function CT(t,e){if(t&1){let i=_a();dt(0,"div",63)(1,"div",64)(2,"mat-icon",65),xt(3,"schedule"),ut(),dt(4,"div",66)(5,"strong"),xt(6,"Active discharge cycle:"),ut(),xt(7),ut(),dt(8,"button",67),Ln("click",function(){An(i);let r=Mi(2);return kn(r.stopSchedule(r.activeSchedule))}),dt(9,"mat-icon"),xt(10,"stop"),ut(),xt(11," Stop "),ut()()()}if(t&2){let i=Mi(2);Tt(7),og(" ",i.formatDateTime(i.activeSchedule.startTime)," - ",i.formatDateTime(i.activeSchedule.endTime)," | Discharge Current: ",i.activeSchedule.ratedCurrent,"A ")}}function AT(t,e){if(t&1&&(dt(0,"div",10)(1,"span",11),xt(2,"Cell Brand"),ut(),dt(3,"span",12),xt(4),ut()()),t&2){let i=Mi(2);Tt(4),Ii(i.liveHeaderData.cellBrand||(i.stringConfig==null?null:i.stringConfig.cellBrand)||"...")}}function kT(t,e){if(t&1&&(dt(0,"div",10)(1,"span",11),xt(2,"Cell Model"),ut(),dt(3,"span",12),xt(4),ut()()),t&2){let i=Mi(2);Tt(4),Ii(i.liveHeaderData.cellModel||(i.stringConfig==null?null:i.stringConfig.cellModel)||"...")}}function DT(t,e){t&1&&(dt(0,"th",68),xt(1," String Vol (V)"),ut())}function LT(t,e){if(t&1&&(dt(0,"td",69),xt(1),li(2,"number"),ut()),t&2){let i=e.$implicit;Tt(),Fe(" ",hi(2,1,i.totalVoltage,"1.3-3"),"")}}function TT(t,e){t&1&&(dt(0,"th",68),xt(1," Curr (A)"),ut())}function PT(t,e){if(t&1&&(dt(0,"td",69),xt(1),li(2,"number"),ut()),t&2){let i=e.$implicit;Tt(),Fe(" ",hi(2,1,i.stringCurrent,"1.3-3"),"")}}function NT(t,e){t&1&&(dt(0,"th",68),xt(1," Max Vol ID"),ut())}function MT(t,e){if(t&1&&(dt(0,"td",69),xt(1),ut()),t&2){let i=e.$implicit;Tt(),Fe(" ",i.maxVolId,"")}}function IT(t,e){t&1&&(dt(0,"th",68),xt(1," Min Vol ID"),ut())}function OT(t,e){if(t&1&&(dt(0,"td",69),xt(1),ut()),t&2){let i=e.$implicit;Tt(),Fe(" ",i.minVolId,"")}}function ET(t,e){t&1&&(dt(0,"th",68),xt(1," Avg Vol (V)"),ut())}function FT(t,e){if(t&1&&(dt(0,"td",69),xt(1),li(2,"number"),ut()),t&2){let i=e.$implicit;Tt(),Fe(" ",hi(2,1,i.avgVoltage,"1.3-3"),"")}}function RT(t,e){t&1&&(dt(0,"th",68),xt(1," Max Rst ID"),ut())}function BT(t,e){if(t&1&&(dt(0,"td",69),xt(1),ut()),t&2){let i=e.$implicit;Tt(),Fe(" ",i.maxRstId,"")}}function jT(t,e){t&1&&(dt(0,"th",68),xt(1," Min Rst ID"),ut())}function zT(t,e){if(t&1&&(dt(0,"td",69),xt(1),ut()),t&2){let i=e.$implicit;Tt(),Fe(" ",i.minRstId,"")}}function VT(t,e){t&1&&(dt(0,"th",68),xt(1," Avg Rst (\xB5\u03A9)"),ut())}function UT(t,e){if(t&1&&(dt(0,"td",69),xt(1),li(2,"number"),ut()),t&2){let i=e.$implicit;Tt(),Fe(" ",hi(2,1,i.avgRst,"1.0-0"),"")}}function HT(t,e){t&1&&(dt(0,"th",68),xt(1," Max Temp ID"),ut())}function qT(t,e){if(t&1&&(dt(0,"td",69),xt(1),ut()),t&2){let i=e.$implicit;Tt(),Fe(" ",i.maxTempId,"")}}function WT(t,e){t&1&&(dt(0,"th",68),xt(1," Min Temp ID"),ut())}function $T(t,e){if(t&1&&(dt(0,"td",69),xt(1),ut()),t&2){let i=e.$implicit;Tt(),Fe(" ",i.minTempId,"")}}function YT(t,e){t&1&&(dt(0,"th",68),xt(1," Avg Temp (\xB0C)"),ut())}function GT(t,e){if(t&1&&(dt(0,"td",69),xt(1),li(2,"number"),ut()),t&2){let i=e.$implicit;Tt(),Fe(" ",hi(2,1,i.avgTemp,"1.1-1"),"")}}function ZT(t,e){t&1&&(dt(0,"th",68),xt(1," String SoC (%)"),ut())}function XT(t,e){if(t&1&&(dt(0,"td",69),xt(1),li(2,"number"),ut()),t&2){let i=e.$implicit;Tt(),Fe(" ",hi(2,1,i.stringSoC,"1.0-0"),"")}}function KT(t,e){t&1&&(dt(0,"th",68),xt(1," String SoH (%)"),ut())}function JT(t,e){if(t&1&&(dt(0,"td",69),xt(1),li(2,"number"),ut()),t&2){let i=e.$implicit;Tt(),Fe(" ",hi(2,1,i.stringSoH,"1.0-0"),"")}}function QT(t,e){t&1&&(dt(0,"th",68),xt(1," Max Vol Val (V)"),ut())}function t7(t,e){if(t&1&&(dt(0,"td",69),xt(1),li(2,"number"),ut()),t&2){let i=e.$implicit;Tt(),Fe(" ",hi(2,1,i.maxVoltageValue,"1.3-3"),"")}}function e7(t,e){t&1&&(dt(0,"th",68),xt(1," Min Vol Val (V)"),ut())}function i7(t,e){if(t&1&&(dt(0,"td",69),xt(1),li(2,"number"),ut()),t&2){let i=e.$implicit;Tt(),Fe(" ",hi(2,1,i.minVoltageValue,"1.3-3"),"")}}function n7(t,e){t&1&&(dt(0,"th",68),xt(1," Max Rst Val (Ohm)"),ut())}function r7(t,e){if(t&1&&(dt(0,"td",69),xt(1),li(2,"number"),ut()),t&2){let i=e.$implicit;Tt(),Fe(" ",hi(2,1,i.maxRstValue,"1.3-3"),"")}}function a7(t,e){t&1&&(dt(0,"th",68),xt(1," Min Rst Val (Ohm)"),ut())}function s7(t,e){if(t&1&&(dt(0,"td",69),xt(1),li(2,"number"),ut()),t&2){let i=e.$implicit;Tt(),Fe(" ",hi(2,1,i.minRstValue,"1.3-3"),"")}}function o7(t,e){t&1&&(dt(0,"th",68),xt(1," Max Temp Val (\xB0C)"),ut())}function l7(t,e){if(t&1&&(dt(0,"td",69),xt(1),li(2,"number"),ut()),t&2){let i=e.$implicit;Tt(),Fe(" ",hi(2,1,i.maxTempValue,"1.1-1"),"")}}function h7(t,e){t&1&&(dt(0,"th",68),xt(1," Min Temp Val (\xB0C)"),ut())}function c7(t,e){if(t&1&&(dt(0,"td",69),xt(1),li(2,"number"),ut()),t&2){let i=e.$implicit;Tt(),Fe(" ",hi(2,1,i.minTempValue,"1.1-1"),"")}}function u7(t,e){t&1&&Dn(0,"tr",70)}function f7(t,e){t&1&&Dn(0,"tr",71)}function d7(t,e){t&1&&(dt(0,"th",68),xt(1,"Status"),ut())}function p7(t,e){if(t&1&&(dt(0,"td",69)(1,"span"),xt(2),ut()()),t&2){let i=e.$implicit,n=Mi(2);Tt(),ng("status-badge status-"+i.status),Tt(),Fe(" ",n.formatScheduleStatus(i.status)," ")}}function g7(t,e){t&1&&(dt(0,"th",68),xt(1,"Start Time"),ut())}function m7(t,e){if(t&1&&(dt(0,"td",69),xt(1),ut()),t&2){let i=e.$implicit,n=Mi(2);Tt(),Ii(n.formatDateTime(i.startTime))}}function b7(t,e){t&1&&(dt(0,"th",68),xt(1,"End Time"),ut())}function v7(t,e){if(t&1&&(dt(0,"td",69),xt(1),ut()),t&2){let i=e.$implicit,n=Mi(2);Tt(),Ii(n.formatDateTime(i.endTime))}}function x7(t,e){t&1&&(dt(0,"th",68),xt(1,"Discharge Current (A)"),ut())}function _7(t,e){if(t&1&&(dt(0,"td",69),xt(1),li(2,"number"),ut()),t&2){let i=e.$implicit;Tt(),Ii(hi(2,1,i.ratedCurrent,"1.3-3"))}}function y7(t,e){t&1&&(dt(0,"th",68),xt(1,"SoH (%)"),ut())}function w7(t,e){if(t&1&&(dt(0,"td",69),xt(1),li(2,"number"),ut()),t&2){let i=e.$implicit;Tt(),Fe(" ",(i.status==="stopped"||i.status==="finished")&&i.soh!==null?hi(2,1,i.soh,"1.1-1"):"-"," ")}}function S7(t,e){t&1&&(dt(0,"th",68),xt(1,"Actions"),ut())}function C7(t,e){if(t&1){let i=_a();dt(0,"button",76),Ln("click",function(){An(i);let r=Mi().$implicit,a=Mi(2);return kn(a.stopSchedule(r))}),dt(1,"mat-icon"),xt(2,"stop_circle"),ut(),xt(3," Stop "),ut()}}function A7(t,e){if(t&1){let i=_a();dt(0,"td",72),le(1,C7,4,0,"button",73),dt(2,"button",74)(3,"mat-icon"),xt(4,"more_vert"),ut()(),dt(5,"mat-menu",null,1)(7,"button",75),Ln("click",function(){let r=An(i).$implicit,a=Mi(2);return kn(a.openScheduleDialog(r))}),dt(8,"mat-icon"),xt(9,"edit"),ut(),dt(10,"span"),xt(11,"Edit"),ut()(),dt(12,"button",75),Ln("click",function(){let r=An(i).$implicit,a=Mi(2);return kn(a.deleteSchedule(r))}),dt(13,"mat-icon"),xt(14,"delete"),ut(),dt(15,"span"),xt(16,"Delete"),ut()()()()}if(t&2){let i=e.$implicit,n=ml(6),r=Mi(2);Tt(),ye("ngIf",r.canStopSchedule(i)),Tt(),ye("matMenuTriggerFor",n),Tt(5),ye("disabled",!r.canEditSchedule(i)),Tt(5),ye("disabled",!r.canDeleteSchedule(i))}}function k7(t,e){t&1&&Dn(0,"tr",70)}function D7(t,e){t&1&&Dn(0,"tr",71)}function L7(t,e){if(t&1&&(dt(0,"div",82)(1,"span",79),xt(2),ut(),dt(3,"span",80),xt(4),li(5,"number"),ut(),dt(6,"span",80),xt(7),li(8,"number"),ut()()),t&2){let i=e.$implicit;Tt(2),Ii(i.ID),Tt(2),Ii(hi(5,3,i.Vol,"1.3-3")),Tt(3),Ii(hi(8,6,i.Rst,"1.0-0"))}}function T7(t,e){if(t&1&&(dt(0,"div",77)(1,"div",78)(2,"span",79),xt(3,"ID"),ut(),dt(4,"span",80),xt(5,"Voltage (V)"),ut(),dt(6,"span",80),xt(7,"Resistance (\xB5\u03A9)"),ut()(),le(8,L7,9,9,"div",81),ut()),t&2){let i=e.$implicit;Tt(8),ye("ngForOf",i)}}function P7(t,e){if(t&1&&(dt(0,"div",82)(1,"span",79),xt(2),ut(),dt(3,"span",80),xt(4),li(5,"number"),ut(),dt(6,"span",80),xt(7),li(8,"number"),ut()()),t&2){let i=e.$implicit;Tt(2),Ii(i.ID),Tt(2),Ii(hi(5,3,i.Temp,"1.1-1")),Tt(3),Ii(hi(8,6,i.IR,"1.3-3"))}}function N7(t,e){if(t&1&&(dt(0,"div",77)(1,"div",78)(2,"span",79),xt(3,"ID"),ut(),dt(4,"span",80),xt(5,"Temperature (\xB0C)"),ut(),dt(6,"span",80),xt(7,"IR (U)"),ut()(),le(8,P7,9,9,"div",81),ut()),t&2){let i=e.$implicit;Tt(8),ye("ngForOf",i)}}function M7(t,e){t&1&&(dt(0,"mat-icon",84),xt(1," warning "),ut()),t&2&&ig("color","#f44336")}function I7(t,e){if(t&1&&(dt(0,"div",82)(1,"span",79),xt(2),ut(),dt(3,"span",80),xt(4),li(5,"number"),ut(),dt(6,"span",80),xt(7),li(8,"number"),le(9,M7,2,2,"mat-icon",83),ut()()),t&2){let i=e.$implicit,n=Mi(3);Tt(2),Ii(i.ID),Tt(2),Ii(hi(5,4,i.SoC,"1.0-0")),Tt(3),Fe(" ",hi(8,7,i.SoH,"1.0-0")," "),Tt(2),ye("ngIf",n.isLowSoh(i.SoH))}}function O7(t,e){if(t&1&&(dt(0,"div",77)(1,"div",78)(2,"span",79),xt(3,"ID"),ut(),dt(4,"span",80),xt(5,"SoC (%)"),ut(),dt(6,"span",80),xt(7,"SoH (%)"),ut()(),le(8,I7,10,10,"div",81),ut()),t&2){let i=e.$implicit;Tt(8),ye("ngForOf",i)}}function E7(t,e){if(t&1){let i=_a();dt(0,"mat-card",6),le(1,CT,12,3,"div",7),dt(2,"div",8)(3,"div",9)(4,"div",10)(5,"span",11),xt(6,"Site Name"),ut(),dt(7,"span",12),xt(8),ut()(),dt(9,"div",10)(10,"span",11),xt(11,"String"),ut(),dt(12,"span",12),xt(13),ut()(),dt(14,"div",10)(15,"span",11),xt(16,"Cell Qty"),ut(),dt(17,"span",12),xt(18),ut()(),le(19,AT,5,1,"div",13)(20,kT,5,1,"div",13),ut(),dt(21,"div",14)(22,"button",15),Ln("click",function(){An(i);let r=Mi();return kn(r.openScheduleDialog())}),dt(23,"mat-icon"),xt(24,"schedule"),ut(),xt(25," Schedule "),ut(),dt(26,"button",15),Ln("click",function(){An(i);let r=Mi();return kn(r.exportData())}),dt(27,"mat-icon"),xt(28,"download"),ut(),xt(29," Export "),ut(),dt(30,"button",16),Ln("click",function(){An(i);let r=Mi();return kn(r.printData())}),dt(31,"mat-icon"),xt(32,"print"),ut(),xt(33," Print "),ut()()()(),dt(34,"mat-card",17)(35,"mat-card-header")(36,"mat-card-title"),xt(37,"String Data"),ut()(),dt(38,"mat-card-content",18)(39,"table",19),Ze(40,20),le(41,DT,2,0,"th",21)(42,LT,3,4,"td",22),Xe(),Ze(43,23),le(44,TT,2,0,"th",21)(45,PT,3,4,"td",22),Xe(),Ze(46,24),le(47,NT,2,0,"th",21)(48,MT,2,1,"td",22),Xe(),Ze(49,25),le(50,IT,2,0,"th",21)(51,OT,2,1,"td",22),Xe(),Ze(52,26),le(53,ET,2,0,"th",21)(54,FT,3,4,"td",22),Xe(),Ze(55,27),le(56,RT,2,0,"th",21)(57,BT,2,1,"td",22),Xe(),Ze(58,28),le(59,jT,2,0,"th",21)(60,zT,2,1,"td",22),Xe(),Ze(61,29),le(62,VT,2,0,"th",21)(63,UT,3,4,"td",22),Xe(),Ze(64,30),le(65,HT,2,0,"th",21)(66,qT,2,1,"td",22),Xe(),Ze(67,31),le(68,WT,2,0,"th",21)(69,$T,2,1,"td",22),Xe(),Ze(70,32),le(71,YT,2,0,"th",21)(72,GT,3,4,"td",22),Xe(),Ze(73,33),le(74,ZT,2,0,"th",21)(75,XT,3,4,"td",22),Xe(),Ze(76,34),le(77,KT,2,0,"th",21)(78,JT,3,4,"td",22),Xe(),Ze(79,35),le(80,QT,2,0,"th",21)(81,t7,3,4,"td",22),Xe(),Ze(82,36),le(83,e7,2,0,"th",21)(84,i7,3,4,"td",22),Xe(),Ze(85,37),le(86,n7,2,0,"th",21)(87,r7,3,4,"td",22),Xe(),Ze(88,38),le(89,a7,2,0,"th",21)(90,s7,3,4,"td",22),Xe(),Ze(91,39),le(92,o7,2,0,"th",21)(93,l7,3,4,"td",22),Xe(),Ze(94,40),le(95,h7,2,0,"th",21)(96,c7,3,4,"td",22),Xe(),le(97,u7,1,0,"tr",41)(98,f7,1,0,"tr",42),ut()()(),dt(99,"mat-card",17)(100,"mat-card-header")(101,"mat-card-title"),xt(102,"Discharge History"),ut()(),dt(103,"mat-card-content",43)(104,"table",44),Ze(105,45),le(106,d7,2,0,"th",21)(107,p7,3,3,"td",22),Xe(),Ze(108,46),le(109,g7,2,0,"th",21)(110,m7,2,1,"td",22),Xe(),Ze(111,47),le(112,b7,2,0,"th",21)(113,v7,2,1,"td",22),Xe(),Ze(114,48),le(115,x7,2,0,"th",21)(116,_7,3,4,"td",22),Xe(),Ze(117,49),le(118,y7,2,0,"th",21)(119,w7,3,4,"td",22),Xe(),Ze(120,50),le(121,S7,2,0,"th",21)(122,A7,17,4,"td",51),Xe(),le(123,k7,1,0,"tr",41)(124,D7,1,0,"tr",42),ut()()(),dt(125,"mat-tab-group",52),Ln("selectedTabChange",function(r){An(i);let a=Mi();return kn(a.onTabChange(r))}),dt(126,"mat-tab",53)(127,"div",54)(128,"mat-card",17)(129,"mat-card-header")(130,"mat-card-title"),xt(131),ut()(),dt(132,"mat-card-content",55)(133,"div",56),le(134,T7,9,1,"div",57),ut()()(),dt(135,"mat-card",58)(136,"mat-card-header")(137,"mat-card-title"),xt(138,"Chart: Voltage (V) vs Resistance (\xB5\u03A9)"),ut()(),dt(139,"mat-card-content",59),Dn(140,"canvas",60),ut()()()(),dt(141,"mat-tab",61)(142,"div",54)(143,"mat-card",17)(144,"mat-card-header")(145,"mat-card-title"),xt(146),ut()(),dt(147,"mat-card-content",55)(148,"div",56),le(149,N7,9,1,"div",57),ut()()(),dt(150,"mat-card",58)(151,"mat-card-header")(152,"mat-card-title"),xt(153,"Chart: Temperature (\xB0C) vs IR (U)"),ut()(),dt(154,"mat-card-content",59),Dn(155,"canvas",60),ut()()()(),dt(156,"mat-tab",62)(157,"div",54)(158,"mat-card",17)(159,"mat-card-header")(160,"mat-card-title"),xt(161),ut()(),dt(162,"mat-card-content",55)(163,"div",56),le(164,O7,9,1,"div",57),ut()()(),dt(165,"mat-card",58)(166,"mat-card-header")(167,"mat-card-title"),xt(168,"Chart: SoC (%) vs SoH (%)"),ut()(),dt(169,"mat-card-content",59),Dn(170,"canvas",60),ut()()()()()}if(t&2){let i=Mi();Tt(),ye("ngIf",i.activeSchedule),Tt(7),Ii(i.siteName||"..."),Tt(5),Ii(i.liveHeaderData.stringName||"..."),Tt(5),Ii(i.liveHeaderData.cellQty||"..."),Tt(),ye("ngIf",i.liveHeaderData.cellBrand||(i.stringConfig==null?null:i.stringConfig.cellBrand)),Tt(),ye("ngIf",i.liveHeaderData.cellModel||(i.stringConfig==null?null:i.stringConfig.cellModel)),Tt(19),ye("dataSource",i.stringTableDataSource),Tt(58),ye("matHeaderRowDef",i.stringTableDisplayedColumns)("matHeaderRowDefSticky",!0),Tt(),ye("matRowDefColumns",i.stringTableDisplayedColumns),Tt(6),ye("dataSource",i.schedules),Tt(19),ye("matHeaderRowDef",i.displayedScheduleColumns)("matHeaderRowDefSticky",!0),Tt(),ye("matRowDefColumns",i.displayedScheduleColumns),Tt(7),Fe("Cell Data: Vol_Rst (",i.cellDataSource.length," Cells)"),Tt(3),ye("ngForOf",i.chunkedCellData),Tt(6),ye("data",i.volRstChartData)("options",i.volRstChartOptions),Tt(6),Fe("Cell Data: Tenp_IR (",i.cellDataSource.length," Cells)"),Tt(3),ye("ngForOf",i.chunkedCellData),Tt(6),ye("data",i.tempIrChartData)("options",i.tempIrChartOptions),Tt(6),Fe("Cell Data: SoC_SoH (",i.cellDataSource.length," Cells)"),Tt(3),ye("ngForOf",i.chunkedCellData),Tt(6),ye("data",i.socSohChartData)("options",i.socSohChartOptions)}}var r_=class t{constructor(e,i,n,r,a,s,o,l,h,c,p){this.route=e;this.router=i;this.location=n;this.stringService=r;this.openmucService=a;this.configService=s;this.siteService=o;this.scheduleService=l;this.dialog=h;this.snackBar=c;this.sohWarningService=p;uo.register(...Rd),this.siteName=this.configService.siteName,this.volRstChartOptions=Ge(Ee({},this.chartOptionsTemplate),{scales:Ge(Ee({},this.chartOptionsTemplate.scales),{"y-axis-l":Ge(Ee({},this.chartOptionsTemplate.scales?.["y-axis-l"]),{title:{display:!0,text:"Voltage (V)"}}),"y-axis-r":Ge(Ee({},this.chartOptionsTemplate.scales?.["y-axis-r"]),{title:{display:!0,text:"Resistance (\xB5\u03A9)"}})})}),this.tempIrChartOptions=Ge(Ee({},this.chartOptionsTemplate),{scales:Ge(Ee({},this.chartOptionsTemplate.scales),{"y-axis-l":Ge(Ee({},this.chartOptionsTemplate.scales?.["y-axis-l"]),{title:{display:!0,text:"Temperature (\xB0C)"}}),"y-axis-r":Ge(Ee({},this.chartOptionsTemplate.scales?.["y-axis-r"]),{title:{display:!0,text:"IR (U)"}})})}),this.socSohChartOptions=Ge(Ee({},this.chartOptionsTemplate),{scales:Ge(Ee({},this.chartOptionsTemplate.scales),{"y-axis-l":Ge(Ee({},this.chartOptionsTemplate.scales?.["y-axis-l"]),{title:{display:!0,text:"SoC (%)"}}),"y-axis-r":Ge(Ee({},this.chartOptionsTemplate.scales?.["y-axis-r"]),{title:{display:!0,text:"SoH (%)"}})})})}charts;stringConfig;siteName="";stringUuid="";baseStringName="";scheduleLegacyStringIds=[];scheduleFeaturesInitialized=!1;liveHeaderData={stringName:"Loading...",cellQty:0,cellBrand:"",cellModel:""};stringTableDisplayedColumns=["stringVol","curr","maxVolId","minVolId","avgVol","maxRstId","minRstId","avgRst","maxTempId","minTempId","avgTemp","stringSoC","stringSoH","maxVoltageValue","minVoltageValue","maxRstValue","minRstValue","maxTempValue","minTempValue"];stringTableData={};stringTableDataSource=[this.stringTableData];cellDataSource=[];chunkedCellData=[];cellsPerColumn=12;lowSohCellCount=0;schedules=[];displayedScheduleColumns=["status","startTime","endTime","ratedCurrent","soh","actions"];activeSchedule=null;scheduleCheckInterval;chartOptionsTemplate={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{x:{display:!0,title:{display:!0,text:"Cell ID"}},"y-axis-l":{type:"linear",position:"left",display:!0,grid:{drawOnChartArea:!1}},"y-axis-r":{type:"linear",position:"right",display:!0}},plugins:{}};volRstChartOptions;volRstChartData={labels:[],datasets:[{data:[],label:"Voltage (V)",yAxisID:"y-axis-l",borderColor:"#4CAF50",backgroundColor:"rgba(76, 175, 80, 0.7)",type:"bar",order:2},{data:[],label:"Resistance (\xB5\u03A9)",yAxisID:"y-axis-r",borderColor:"#FF9800",backgroundColor:"rgba(255, 152, 0, 0.1)",fill:"origin",type:"line",order:1}]};tempIrChartOptions;tempIrChartData={labels:[],datasets:[{data:[],label:"Temperature (\xB0C)",yAxisID:"y-axis-l",borderColor:"#F44336",backgroundColor:"rgba(244, 67, 54, 0.7)",type:"bar",order:2},{data:[],label:"IR (U)",yAxisID:"y-axis-r",borderColor:"#2196F3",backgroundColor:"rgba(33, 150, 243, 0.1)",fill:"origin",type:"line",order:1}]};socSohChartOptions;socSohChartData={labels:[],datasets:[{data:[],label:"SoC (%)",yAxisID:"y-axis-l",borderColor:"#00BCD4",backgroundColor:"rgba(0, 188, 212, 0.7)",type:"bar",order:2},{data:[],label:"SoH (%)",yAxisID:"y-axis-r",borderColor:"#9C27B0",backgroundColor:"rgba(156, 39, 176, 0.1)",fill:"origin",type:"line",order:1}]};isLoadingConfig=!0;activeTabIndex=0;destroy$=new q0;get isLoading(){return this.isLoadingConfig}ngOnInit(){this.stringUuid=this.route.snapshot.paramMap.get("stringId")||"",this.stringUuid&&this.loadStringConfigAndData(),this.loadSiteName()}loadSiteName(){this.siteService.getSiteName().pipe(fr(this.destroy$)).subscribe(e=>{this.siteName=e},e=>{console.error("Error loading site name:",e),this.siteName=this.configService.siteName})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.scheduleCheckInterval&&clearInterval(this.scheduleCheckInterval),this.baseStringName&&this.sohWarningService.removeStringWarning(this.baseStringName)}loadStringConfigAndData(){this.stringUuid&&(this.isLoadingConfig=!0,this.stringService.getStringById(this.stringUuid).pipe(fr(this.destroy$),$0(300),G0(()=>this.isLoadingConfig=!1)).subscribe(e=>{if(!e||!e.id){console.error("Config not found for string ID:",this.stringUuid);return}this.stringConfig=e;let i=`str${e.stringIndex}`;this.baseStringName&&this.baseStringName!==i&&this.sohWarningService.removeStringWarning(this.baseStringName),this.baseStringName=i,this.scheduleLegacyStringIds=this.stringUuid?[this.stringUuid]:[],this.liveHeaderData.stringName=e.stringName?.trim()||i,this.liveHeaderData.cellQty=e.cellQty||0,this.liveHeaderData.cellBrand=e.cellBrand||"",this.liveHeaderData.cellModel=e.cellModel||"",this.subscribeToLiveData(i),this.initializeScheduleFeatures()},e=>{console.error("Error loading string config:",e)}))}initializeScheduleFeatures(){this.baseStringName&&(this.loadSchedules(),this.refreshSchedulesSnapshot(),this.scheduleFeaturesInitialized||(this.startScheduleCheck(),this.scheduleFeaturesInitialized=!0))}chunkArray(e,i){let n=[];if(i<=0)return[e];for(let r=0;r<e.length;r+=i)n.push(e.slice(r,r+i));return n}isLowSoh(e){return e!==null&&e<80}subscribeToLiveData(e){this.openmucService.getSummaryData(e).pipe(Z0(n=>{n&&(n.stringName&&n.stringName.trim().length>0&&(this.liveHeaderData.stringName=n.stringName.trim()),typeof n.cellQty=="number"&&n.cellQty>0&&(this.liveHeaderData.cellQty=n.cellQty),Object.assign(this.stringTableData,n),this.stringTableDataSource=[...this.stringTableDataSource])})).pipe(ms(n=>{let r=this.stringConfig?.cellQty||0,a=n.cellQty&&n.cellQty>0?n.cellQty:r;return this.cellsPerColumn=a&&a>0?Math.ceil(a/3):12,a&&a>0?this.openmucService.getCellsData(e,a):xa([])}),fr(this.destroy$)).subscribe(n=>{this.cellDataSource=n,this.chunkedCellData=this.chunkArray(n,this.cellsPerColumn),this.updateChartData(n),this.lowSohCellCount=n.filter(r=>r.SoH!==null&&r.SoH<80).length,this.baseStringName&&this.sohWarningService.updateStringWarningCount(this.baseStringName,this.lowSohCellCount)})}updateChartData(e){let i=e.map(n=>`${n.ID}`);this.volRstChartData.labels=i,this.tempIrChartData.labels=i,this.socSohChartData.labels=i,this.volRstChartData.datasets[0].data=e.map(n=>n.Vol??0),this.volRstChartData.datasets[1].data=e.map(n=>n.Rst??0),this.tempIrChartData.datasets[0].data=e.map(n=>n.Temp??0),this.tempIrChartData.datasets[1].data=e.map(n=>n.IR??0),this.socSohChartData.datasets[0].data=e.map(n=>n.SoC??0),this.socSohChartData.datasets[1].data=e.map(n=>n.SoH??0),this.charts?.forEach(n=>{n.update()})}exportData(){let e=prompt(`Ch\u1ECDn lo\u1EA1i export:
1. Vol_Rst (U_IR)
2. T_IR (Temp)
Nh\u1EADp s\u1ED1 (1 ho\u1EB7c 2):`);if(e)switch(e){case"1":this.exportVolRstPDF();break;case"2":this.exportTIRPDF();break;default:console.warn("Invalid export type")}}exportVolRstPDF(){let e=new Ft("portrait"),i=e.internal.pageSize.getWidth(),n=e.internal.pageSize.getHeight(),r=14,a=(A,N)=>{let T=n-10;e.setFontSize(9),e.setTextColor(100,100,100);let F=new Date().toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});e.text(`Report generated: ${F}`,r,T),e.text(`Page ${A} of ${N}`,i-r-20,T,{align:"right"})};e.setFontSize(28),e.setFont("helvetica","bold"),e.setTextColor(1,37,150),e.text("Realtime Data",i/2,20,{align:"center"}),e.setDrawColor(1,37,150),e.setLineWidth(.5),e.line(r,23,i-r,23),e.setFontSize(11),e.setFont("helvetica","normal"),e.setTextColor(0,0,0);let s=32;e.setFont("helvetica","bold"),e.text("Site Name:",r,s),e.setFont("helvetica","normal"),e.text(this.siteName,r+35,s),e.setFont("helvetica","bold"),e.text("String Name:",r,s+6),e.setFont("helvetica","normal"),e.text(this.liveHeaderData.stringName||"N/A",r+35,s+6);let o=this.stringTableData.updateTime?new Date(this.stringTableData.updateTime).toLocaleString("vi-VN",{year:"2-digit",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).replace(/\//g,"-"):new Date().toLocaleString("vi-VN",{year:"2-digit",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).replace(/\//g,"-");e.setFont("helvetica","bold"),e.text("Update Time:",i/2+10,s),e.setFont("helvetica","normal"),e.text(o,i/2+45,s);let l=this.stringTableData.rstUpdateTime?new Date(this.stringTableData.rstUpdateTime).toLocaleString("vi-VN",{year:"2-digit",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).replace(/\//g,"-"):"N/A";e.setFont("helvetica","bold"),e.text("Rst Update Time:",i/2+10,s+6),e.setFont("helvetica","normal"),e.text(l,i/2+45,s+6),e.setFont("helvetica","bold"),e.text("Cell Qty:",r,s+12),e.setFont("helvetica","normal"),e.text(this.liveHeaderData.cellQty.toString(),r+35,s+12),s+=20;let h=[],c=[];if(this.stringTableData.totalVoltage!==null&&this.stringTableData.totalVoltage!==void 0&&(h.push("String Vol(V)"),c.push(this.stringTableData.totalVoltage.toFixed(0))),this.stringTableData.stringCurrent!==null&&this.stringTableData.stringCurrent!==void 0&&(h.push("Current(A)"),c.push(this.stringTableData.stringCurrent.toFixed(0))),this.stringTableData.maxVolId!==null&&this.stringTableData.maxVolId!==void 0&&(h.push("Max Vol ID"),c.push(this.stringTableData.maxVolId.toString())),this.stringTableData.minVolId!==null&&this.stringTableData.minVolId!==void 0&&(h.push("Min Vol ID"),c.push(this.stringTableData.minVolId.toString())),this.stringTableData.avgVoltage!==null&&this.stringTableData.avgVoltage!==void 0&&(h.push("Avg Vol(V)"),c.push(this.stringTableData.avgVoltage.toFixed(3))),this.stringTableData.maxRstId!==null&&this.stringTableData.maxRstId!==void 0&&(h.push("Max Rst ID"),c.push(this.stringTableData.maxRstId.toString())),this.stringTableData.minRstId!==null&&this.stringTableData.minRstId!==void 0&&(h.push("Min Rst ID"),c.push(this.stringTableData.minRstId.toString())),this.stringTableData.avgRst!==null&&this.stringTableData.avgRst!==void 0&&(h.push("Avg Rst(\xB5Ohm)"),c.push(this.stringTableData.avgRst.toFixed(0))),this.stringTableData.maxTempId!==null&&this.stringTableData.maxTempId!==void 0&&(h.push("Max Temp ID"),c.push(this.stringTableData.maxTempId.toString())),this.stringTableData.minTempId!==null&&this.stringTableData.minTempId!==void 0&&(h.push("Min Temp ID"),c.push(this.stringTableData.minTempId.toString())),this.stringTableData.avgTemp!==null&&this.stringTableData.avgTemp!==void 0&&(h.push("Avg Temp(\xB0C)"),c.push(this.stringTableData.avgTemp.toFixed(1))),this.stringTableData.stringSoC!==null&&this.stringTableData.stringSoC!==void 0&&(h.push("String SoC(%)"),c.push(this.stringTableData.stringSoC.toFixed(0))),this.stringTableData.stringSoH!==null&&this.stringTableData.stringSoH!==void 0&&(h.push("String SoH(%)"),c.push(this.stringTableData.stringSoH.toFixed(0))),this.stringTableData.maxVoltageValue!==null&&this.stringTableData.maxVoltageValue!==void 0&&(h.push("Max Vol Val(V)"),c.push(this.stringTableData.maxVoltageValue.toFixed(3))),this.stringTableData.minVoltageValue!==null&&this.stringTableData.minVoltageValue!==void 0&&(h.push("Min Vol Val(V)"),c.push(this.stringTableData.minVoltageValue.toFixed(3))),this.stringTableData.maxRstValue!==null&&this.stringTableData.maxRstValue!==void 0&&(h.push("Max Rst Val(Ohm)"),c.push(this.stringTableData.maxRstValue.toFixed(3))),this.stringTableData.minRstValue!==null&&this.stringTableData.minRstValue!==void 0&&(h.push("Min Rst Val(Ohm)"),c.push(this.stringTableData.minRstValue.toFixed(3))),this.stringTableData.maxTempValue!==null&&this.stringTableData.maxTempValue!==void 0&&(h.push("Max Temp Val(\xB0C)"),c.push(this.stringTableData.maxTempValue.toFixed(1))),this.stringTableData.minTempValue!==null&&this.stringTableData.minTempValue!==void 0&&(h.push("Min Temp Val(\xB0C)"),c.push(this.stringTableData.minTempValue.toFixed(1))),e.setFontSize(14),e.setFont("helvetica","bold"),e.setTextColor(1,37,150),e.text("String Summary",r,s),s+=8,h.length>0){let A=Math.ceil(h.length/2);if(h.length>10){let N=h.slice(0,A),T=c.slice(0,A),F=h.slice(A),$=c.slice(A);Yi(e,{head:[N],body:[T],startY:s,styles:{fontSize:9,cellPadding:4,lineColor:[200,200,200],lineWidth:.1,halign:"center",valign:"middle"},headStyles:{fillColor:[1,37,150],textColor:[255,255,255],fontStyle:"bold",halign:"center",valign:"middle",cellPadding:4},bodyStyles:{fillColor:[255,255,255],textColor:[0,0,0],lineColor:[200,200,200],lineWidth:.1,halign:"center",valign:"middle"},alternateRowStyles:{fillColor:[248,248,248]},margin:{left:r,right:r},theme:"grid"}),s=e.lastAutoTable.finalY+8,Yi(e,{head:[F],body:[$],startY:s,styles:{fontSize:9,cellPadding:4,lineColor:[200,200,200],lineWidth:.1,halign:"center",valign:"middle"},headStyles:{fillColor:[1,37,150],textColor:[255,255,255],fontStyle:"bold",halign:"center",valign:"middle",cellPadding:4},bodyStyles:{fillColor:[255,255,255],textColor:[0,0,0],lineColor:[200,200,200],lineWidth:.1,halign:"center",valign:"middle"},alternateRowStyles:{fillColor:[248,248,248]},margin:{left:r,right:r},theme:"grid"})}else Yi(e,{head:[h],body:[c],startY:s,styles:{fontSize:9,cellPadding:4,lineColor:[200,200,200],lineWidth:.1,halign:"center",valign:"middle"},headStyles:{fillColor:[1,37,150],textColor:[255,255,255],fontStyle:"bold",halign:"center",valign:"middle",cellPadding:4},bodyStyles:{fillColor:[255,255,255],textColor:[0,0,0],lineColor:[200,200,200],lineWidth:.1,halign:"center",valign:"middle"},alternateRowStyles:{fillColor:[248,248,248]},margin:{left:r,right:r},theme:"grid"});s=e.lastAutoTable.finalY+15}e.setFontSize(14),e.setFont("helvetica","bold"),e.setTextColor(1,37,150),e.text("Cell Data (Voltage & Resistance)",r,s),s+=8;let p=this.cellDataSource.length;if(p===0){e.setFontSize(11),e.setFont("helvetica","normal"),e.setTextColor(100,100,100),e.text("No cell data available",r,s);let A=e.internal.pages.length-1;a(1,A),e.save(`U_IR ${this.liveHeaderData.stringName}.pdf`);return}let g=2,f=Math.ceil(p/g),v=[];for(let A=0;A<f;A++){let N=[];for(let T=0;T<g;T++){let F=A*g+T;if(F<p){let $=this.cellDataSource[F];N.push($.ID.toString(),$.Vol!==null?$.Vol.toFixed(3):"N/A",$.Rst!==null?$.Rst.toFixed(0):"N/A")}else N.push("","","")}v.push(N)}Yi(e,{head:[["ID","Vol(V)","Rst(\xB5Ohm)","ID","Vol(V)","Rst(\xB5Ohm)"]],body:v,startY:s,styles:{fontSize:8,cellPadding:3,lineColor:[200,200,200],lineWidth:.1,halign:"center",valign:"middle"},headStyles:{fillColor:[1,37,150],textColor:[255,255,255],fontStyle:"bold",halign:"center",valign:"middle",cellPadding:3},bodyStyles:{fillColor:[255,255,255],textColor:[0,0,0],lineColor:[200,200,200],lineWidth:.1,halign:"center",valign:"middle"},alternateRowStyles:{fillColor:[248,248,248]},columnStyles:{0:{halign:"center"},1:{halign:"right"},2:{halign:"right"},3:{halign:"center"},4:{halign:"right"},5:{halign:"right"}},margin:{left:r,right:r},theme:"grid",didDrawPage:A=>{let N=e.internal.pages.length-1;a(N,N)}});let y=e.internal.pages.length-1;a(y,y);let w=`U_IR ${this.liveHeaderData.stringName}.pdf`;e.save(w)}exportTIRPDF(){let e=new Ft("portrait"),i=e.internal.pageSize.getWidth(),n=e.internal.pageSize.getHeight(),r=14,a=(A,N)=>{let T=n-10;e.setFontSize(9),e.setTextColor(100,100,100);let F=new Date().toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});e.text(`Report generated: ${F}`,r,T),e.text(`Page ${A} of ${N}`,i-r-20,T,{align:"right"})};e.setFontSize(28),e.setFont("helvetica","bold"),e.setTextColor(1,37,150),e.text("Realtime Data",i/2,20,{align:"center"}),e.setDrawColor(1,37,150),e.setLineWidth(.5),e.line(r,23,i-r,23),e.setFontSize(11),e.setFont("helvetica","normal"),e.setTextColor(0,0,0);let s=32;e.setFont("helvetica","bold"),e.text("Site Name:",r,s),e.setFont("helvetica","normal"),e.text(this.siteName,r+35,s),e.setFont("helvetica","bold"),e.text("String Name:",r,s+6),e.setFont("helvetica","normal"),e.text(this.liveHeaderData.stringName||"N/A",r+35,s+6);let o=this.stringTableData.updateTime?new Date(this.stringTableData.updateTime).toLocaleString("vi-VN",{year:"2-digit",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).replace(/\//g,"-"):new Date().toLocaleString("vi-VN",{year:"2-digit",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).replace(/\//g,"-");e.setFont("helvetica","bold"),e.text("Update Time:",i/2+10,s),e.setFont("helvetica","normal"),e.text(o,i/2+45,s);let l=this.stringTableData.rstUpdateTime?new Date(this.stringTableData.rstUpdateTime).toLocaleString("vi-VN",{year:"2-digit",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).replace(/\//g,"-"):"N/A";e.setFont("helvetica","bold"),e.text("Rst Update Time:",i/2+10,s+6),e.setFont("helvetica","normal"),e.text(l,i/2+45,s+6),e.setFont("helvetica","bold"),e.text("Cell Qty:",r,s+12),e.setFont("helvetica","normal"),e.text(this.liveHeaderData.cellQty.toString(),r+35,s+12),s+=20;let h=[],c=[];if(this.stringTableData.totalVoltage!==null&&this.stringTableData.totalVoltage!==void 0&&(h.push("String Vol(V)"),c.push(this.stringTableData.totalVoltage.toFixed(0))),this.stringTableData.stringCurrent!==null&&this.stringTableData.stringCurrent!==void 0&&(h.push("Current(A)"),c.push(this.stringTableData.stringCurrent.toFixed(0))),this.stringTableData.maxVolId!==null&&this.stringTableData.maxVolId!==void 0&&(h.push("Max Vol ID"),c.push(this.stringTableData.maxVolId.toString())),this.stringTableData.minVolId!==null&&this.stringTableData.minVolId!==void 0&&(h.push("Min Vol ID"),c.push(this.stringTableData.minVolId.toString())),this.stringTableData.avgVoltage!==null&&this.stringTableData.avgVoltage!==void 0&&(h.push("Avg Vol(V)"),c.push(this.stringTableData.avgVoltage.toFixed(3))),this.stringTableData.maxRstId!==null&&this.stringTableData.maxRstId!==void 0&&(h.push("Max Rst ID"),c.push(this.stringTableData.maxRstId.toString())),this.stringTableData.minRstId!==null&&this.stringTableData.minRstId!==void 0&&(h.push("Min Rst ID"),c.push(this.stringTableData.minRstId.toString())),this.stringTableData.avgRst!==null&&this.stringTableData.avgRst!==void 0&&(h.push("Avg Rst(\xB5Ohm)"),c.push(this.stringTableData.avgRst.toFixed(0))),this.stringTableData.maxTempId!==null&&this.stringTableData.maxTempId!==void 0&&(h.push("Max Temp ID"),c.push(this.stringTableData.maxTempId.toString())),this.stringTableData.minTempId!==null&&this.stringTableData.minTempId!==void 0&&(h.push("Min Temp ID"),c.push(this.stringTableData.minTempId.toString())),this.stringTableData.avgTemp!==null&&this.stringTableData.avgTemp!==void 0&&(h.push("Avg Temp(\xB0C)"),c.push(this.stringTableData.avgTemp.toFixed(1))),this.stringTableData.stringSoC!==null&&this.stringTableData.stringSoC!==void 0&&(h.push("String SoC(%)"),c.push(this.stringTableData.stringSoC.toFixed(0))),this.stringTableData.stringSoH!==null&&this.stringTableData.stringSoH!==void 0&&(h.push("String SoH(%)"),c.push(this.stringTableData.stringSoH.toFixed(0))),this.stringTableData.maxVoltageValue!==null&&this.stringTableData.maxVoltageValue!==void 0&&(h.push("Max Vol Val(V)"),c.push(this.stringTableData.maxVoltageValue.toFixed(3))),this.stringTableData.minVoltageValue!==null&&this.stringTableData.minVoltageValue!==void 0&&(h.push("Min Vol Val(V)"),c.push(this.stringTableData.minVoltageValue.toFixed(3))),this.stringTableData.maxRstValue!==null&&this.stringTableData.maxRstValue!==void 0&&(h.push("Max Rst Val(Ohm)"),c.push(this.stringTableData.maxRstValue.toFixed(3))),this.stringTableData.minRstValue!==null&&this.stringTableData.minRstValue!==void 0&&(h.push("Min Rst Val(Ohm)"),c.push(this.stringTableData.minRstValue.toFixed(3))),this.stringTableData.maxTempValue!==null&&this.stringTableData.maxTempValue!==void 0&&(h.push("Max Temp Val(\xB0C)"),c.push(this.stringTableData.maxTempValue.toFixed(1))),this.stringTableData.minTempValue!==null&&this.stringTableData.minTempValue!==void 0&&(h.push("Min Temp Val(\xB0C)"),c.push(this.stringTableData.minTempValue.toFixed(1))),e.setFontSize(14),e.setFont("helvetica","bold"),e.setTextColor(1,37,150),e.text("String Summary",r,s),s+=8,h.length>0){let A=Math.ceil(h.length/2);if(h.length>10){let N=h.slice(0,A),T=c.slice(0,A),F=h.slice(A),$=c.slice(A);Yi(e,{head:[N],body:[T],startY:s,styles:{fontSize:9,cellPadding:4,lineColor:[200,200,200],lineWidth:.1,halign:"center",valign:"middle"},headStyles:{fillColor:[1,37,150],textColor:[255,255,255],fontStyle:"bold",halign:"center",valign:"middle",cellPadding:4},bodyStyles:{fillColor:[255,255,255],textColor:[0,0,0],lineColor:[200,200,200],lineWidth:.1,halign:"center",valign:"middle"},alternateRowStyles:{fillColor:[248,248,248]},margin:{left:r,right:r},theme:"grid"}),s=e.lastAutoTable.finalY+8,Yi(e,{head:[F],body:[$],startY:s,styles:{fontSize:9,cellPadding:4,lineColor:[200,200,200],lineWidth:.1,halign:"center",valign:"middle"},headStyles:{fillColor:[1,37,150],textColor:[255,255,255],fontStyle:"bold",halign:"center",valign:"middle",cellPadding:4},bodyStyles:{fillColor:[255,255,255],textColor:[0,0,0],lineColor:[200,200,200],lineWidth:.1,halign:"center",valign:"middle"},alternateRowStyles:{fillColor:[248,248,248]},margin:{left:r,right:r},theme:"grid"})}else Yi(e,{head:[h],body:[c],startY:s,styles:{fontSize:9,cellPadding:4,lineColor:[200,200,200],lineWidth:.1,halign:"center",valign:"middle"},headStyles:{fillColor:[1,37,150],textColor:[255,255,255],fontStyle:"bold",halign:"center",valign:"middle",cellPadding:4},bodyStyles:{fillColor:[255,255,255],textColor:[0,0,0],lineColor:[200,200,200],lineWidth:.1,halign:"center",valign:"middle"},alternateRowStyles:{fillColor:[248,248,248]},margin:{left:r,right:r},theme:"grid"});s=e.lastAutoTable.finalY+15}e.setFontSize(14),e.setFont("helvetica","bold"),e.setTextColor(1,37,150),e.text("Cell Data (Temperature & IR)",r,s),s+=8;let p=this.cellDataSource.length;if(p===0){e.setFontSize(11),e.setFont("helvetica","normal"),e.setTextColor(100,100,100),e.text("No cell data available",r,s);let A=e.internal.pages.length-1;a(1,A),e.save(`Temp ${this.liveHeaderData.stringName}.pdf`);return}let g=2,f=Math.ceil(p/g),v=[];for(let A=0;A<f;A++){let N=[];for(let T=0;T<g;T++){let F=A*g+T;if(F<p){let $=this.cellDataSource[F];N.push($.ID.toString(),$.Temp!==null?$.Temp.toFixed(1):"N/A",$.IR!==null?$.IR.toFixed(3):"N/A")}else N.push("","","")}v.push(N)}Yi(e,{head:[["ID","Temp(\xB0C)","IR(U)","ID","Temp(\xB0C)","IR(U)"]],body:v,startY:s,styles:{fontSize:8,cellPadding:3,lineColor:[200,200,200],lineWidth:.1,halign:"center",valign:"middle"},headStyles:{fillColor:[1,37,150],textColor:[255,255,255],fontStyle:"bold",halign:"center",valign:"middle",cellPadding:3},bodyStyles:{fillColor:[255,255,255],textColor:[0,0,0],lineColor:[200,200,200],lineWidth:.1,halign:"center",valign:"middle"},alternateRowStyles:{fillColor:[248,248,248]},columnStyles:{0:{halign:"center"},1:{halign:"right"},2:{halign:"right"},3:{halign:"center"},4:{halign:"right"},5:{halign:"right"}},margin:{left:r,right:r},theme:"grid",didDrawPage:A=>{let N=e.internal.pages.length-1;a(N,N)}});let y=e.internal.pages.length-1;a(y,y);let w=`Temp ${this.liveHeaderData.stringName}.pdf`;e.save(w)}printData(){let e=prompt(`Ch\u1ECDn lo\u1EA1i print:
1. Vol_Rst (U_IR)
2. T_IR (Temp)
Nh\u1EADp s\u1ED1 (1 ho\u1EB7c 2):`);if(e)switch(e){case"1":this.printVolRstPDF();break;case"2":this.printTIRPDF();break;default:console.warn("Invalid print type")}}printVolRstPDF(){let e=new Ft("portrait"),i=e.internal.pageSize.getWidth(),n=e.internal.pageSize.getHeight(),r=14,a=(w,A)=>{let N=n-10;e.setFontSize(9),e.setTextColor(100,100,100);let T=new Date().toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});e.text(`Report generated: ${T}`,r,N),e.text(`Page ${w} of ${A}`,i-r-20,N,{align:"right"})};e.setFontSize(28),e.setFont("helvetica","bold"),e.setTextColor(1,37,150),e.text("Realtime Data",i/2,20,{align:"center"}),e.setDrawColor(1,37,150),e.setLineWidth(.5),e.line(r,23,i-r,23),e.setFontSize(11),e.setFont("helvetica","normal"),e.setTextColor(0,0,0);let s=32;e.setFont("helvetica","bold"),e.text("Site Name:",r,s),e.setFont("helvetica","normal"),e.text(this.siteName,r+35,s),e.setFont("helvetica","bold"),e.text("String Name:",r,s+6),e.setFont("helvetica","normal"),e.text(this.liveHeaderData.stringName||"N/A",r+35,s+6);let o=this.stringTableData.updateTime?new Date(this.stringTableData.updateTime).toLocaleString("vi-VN",{year:"2-digit",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).replace(/\//g,"-"):new Date().toLocaleString("vi-VN",{year:"2-digit",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).replace(/\//g,"-");e.setFont("helvetica","bold"),e.text("Update Time:",i/2+10,s),e.setFont("helvetica","normal"),e.text(o,i/2+45,s);let l=this.stringTableData.rstUpdateTime?new Date(this.stringTableData.rstUpdateTime).toLocaleString("vi-VN",{year:"2-digit",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).replace(/\//g,"-"):"N/A";e.setFont("helvetica","bold"),e.text("Rst Update Time:",i/2+10,s+6),e.setFont("helvetica","normal"),e.text(l,i/2+45,s+6),e.setFont("helvetica","bold"),e.text("Cell Qty:",r,s+12),e.setFont("helvetica","normal"),e.text(this.liveHeaderData.cellQty.toString(),r+35,s+12),s+=20;let h=[],c=[];if(this.stringTableData.totalVoltage!==null&&this.stringTableData.totalVoltage!==void 0&&(h.push("String Vol(V)"),c.push(this.stringTableData.totalVoltage.toFixed(0))),this.stringTableData.stringCurrent!==null&&this.stringTableData.stringCurrent!==void 0&&(h.push("Current(A)"),c.push(this.stringTableData.stringCurrent.toFixed(0))),this.stringTableData.maxVolId!==null&&this.stringTableData.maxVolId!==void 0&&(h.push("Max Vol ID"),c.push(this.stringTableData.maxVolId.toString())),this.stringTableData.minVolId!==null&&this.stringTableData.minVolId!==void 0&&(h.push("Min Vol ID"),c.push(this.stringTableData.minVolId.toString())),this.stringTableData.avgVoltage!==null&&this.stringTableData.avgVoltage!==void 0&&(h.push("Avg Vol(V)"),c.push(this.stringTableData.avgVoltage.toFixed(3))),this.stringTableData.maxRstId!==null&&this.stringTableData.maxRstId!==void 0&&(h.push("Max Rst ID"),c.push(this.stringTableData.maxRstId.toString())),this.stringTableData.minRstId!==null&&this.stringTableData.minRstId!==void 0&&(h.push("Min Rst ID"),c.push(this.stringTableData.minRstId.toString())),this.stringTableData.avgRst!==null&&this.stringTableData.avgRst!==void 0&&(h.push("Avg Rst(\xB5Ohm)"),c.push(this.stringTableData.avgRst.toFixed(0))),this.stringTableData.maxTempId!==null&&this.stringTableData.maxTempId!==void 0&&(h.push("Max Temp ID"),c.push(this.stringTableData.maxTempId.toString())),this.stringTableData.minTempId!==null&&this.stringTableData.minTempId!==void 0&&(h.push("Min Temp ID"),c.push(this.stringTableData.minTempId.toString())),this.stringTableData.avgTemp!==null&&this.stringTableData.avgTemp!==void 0&&(h.push("Avg Temp(\xB0C)"),c.push(this.stringTableData.avgTemp.toFixed(1))),this.stringTableData.stringSoC!==null&&this.stringTableData.stringSoC!==void 0&&(h.push("String SoC(%)"),c.push(this.stringTableData.stringSoC.toFixed(0))),this.stringTableData.stringSoH!==null&&this.stringTableData.stringSoH!==void 0&&(h.push("String SoH(%)"),c.push(this.stringTableData.stringSoH.toFixed(0))),this.stringTableData.maxVoltageValue!==null&&this.stringTableData.maxVoltageValue!==void 0&&(h.push("Max Vol Val(V)"),c.push(this.stringTableData.maxVoltageValue.toFixed(3))),this.stringTableData.minVoltageValue!==null&&this.stringTableData.minVoltageValue!==void 0&&(h.push("Min Vol Val(V)"),c.push(this.stringTableData.minVoltageValue.toFixed(3))),this.stringTableData.maxRstValue!==null&&this.stringTableData.maxRstValue!==void 0&&(h.push("Max Rst Val(Ohm)"),c.push(this.stringTableData.maxRstValue.toFixed(3))),this.stringTableData.minRstValue!==null&&this.stringTableData.minRstValue!==void 0&&(h.push("Min Rst Val(Ohm)"),c.push(this.stringTableData.minRstValue.toFixed(3))),this.stringTableData.maxTempValue!==null&&this.stringTableData.maxTempValue!==void 0&&(h.push("Max Temp Val(\xB0C)"),c.push(this.stringTableData.maxTempValue.toFixed(1))),this.stringTableData.minTempValue!==null&&this.stringTableData.minTempValue!==void 0&&(h.push("Min Temp Val(\xB0C)"),c.push(this.stringTableData.minTempValue.toFixed(1))),e.setFontSize(14),e.setFont("helvetica","bold"),e.setTextColor(1,37,150),e.text("String Summary",r,s),s+=8,h.length>0){let w=Math.ceil(h.length/2);if(h.length>10){let A=h.slice(0,w),N=c.slice(0,w),T=h.slice(w),F=c.slice(w);Yi(e,{head:[A],body:[N],startY:s,styles:{fontSize:9,cellPadding:4,lineColor:[200,200,200],lineWidth:.1,halign:"center",valign:"middle"},headStyles:{fillColor:[1,37,150],textColor:[255,255,255],fontStyle:"bold",halign:"center",valign:"middle",cellPadding:4},bodyStyles:{fillColor:[255,255,255],textColor:[0,0,0],lineColor:[200,200,200],lineWidth:.1,halign:"center",valign:"middle"},alternateRowStyles:{fillColor:[248,248,248]},margin:{left:r,right:r},theme:"grid"}),s=e.lastAutoTable.finalY+8,Yi(e,{head:[T],body:[F],startY:s,styles:{fontSize:9,cellPadding:4,lineColor:[200,200,200],lineWidth:.1,halign:"center",valign:"middle"},headStyles:{fillColor:[1,37,150],textColor:[255,255,255],fontStyle:"bold",halign:"center",valign:"middle",cellPadding:4},bodyStyles:{fillColor:[255,255,255],textColor:[0,0,0],lineColor:[200,200,200],lineWidth:.1,halign:"center",valign:"middle"},alternateRowStyles:{fillColor:[248,248,248]},margin:{left:r,right:r},theme:"grid"})}else Yi(e,{head:[h],body:[c],startY:s,styles:{fontSize:9,cellPadding:4,lineColor:[200,200,200],lineWidth:.1,halign:"center",valign:"middle"},headStyles:{fillColor:[1,37,150],textColor:[255,255,255],fontStyle:"bold",halign:"center",valign:"middle",cellPadding:4},bodyStyles:{fillColor:[255,255,255],textColor:[0,0,0],lineColor:[200,200,200],lineWidth:.1,halign:"center",valign:"middle"},alternateRowStyles:{fillColor:[248,248,248]},margin:{left:r,right:r},theme:"grid"});s=e.lastAutoTable.finalY+15}e.setFontSize(14),e.setFont("helvetica","bold"),e.setTextColor(1,37,150),e.text("Cell Data (Voltage & Resistance)",r,s),s+=8;let p=this.cellDataSource.length;if(p===0){e.setFontSize(11),e.setFont("helvetica","normal"),e.setTextColor(100,100,100),e.text("No cell data available",r,s);let w=e.internal.pages.length-1;a(1,w),e.autoPrint(),window.open(URL.createObjectURL(e.output("blob")),"_blank");return}let g=2,f=Math.ceil(p/g),v=[];for(let w=0;w<f;w++){let A=[];for(let N=0;N<g;N++){let T=w*g+N;if(T<p){let F=this.cellDataSource[T];A.push(F.ID.toString(),F.Vol!==null?F.Vol.toFixed(3):"N/A",F.Rst!==null?F.Rst.toFixed(0):"N/A")}else A.push("","","")}v.push(A)}Yi(e,{head:[["ID","Vol(V)","Rst(\xB5Ohm)","ID","Vol(V)","Rst(\xB5Ohm)"]],body:v,startY:s,styles:{fontSize:8,cellPadding:3,lineColor:[200,200,200],lineWidth:.1,halign:"center",valign:"middle"},headStyles:{fillColor:[1,37,150],textColor:[255,255,255],fontStyle:"bold",halign:"center",valign:"middle",cellPadding:3},bodyStyles:{fillColor:[255,255,255],textColor:[0,0,0],lineColor:[200,200,200],lineWidth:.1,halign:"center",valign:"middle"},alternateRowStyles:{fillColor:[248,248,248]},columnStyles:{0:{halign:"center"},1:{halign:"right"},2:{halign:"right"},3:{halign:"center"},4:{halign:"right"},5:{halign:"right"}},margin:{left:r,right:r},theme:"grid",didDrawPage:w=>{let A=e.internal.pages.length-1;a(A,A)}});let y=e.internal.pages.length-1;a(y,y),e.autoPrint(),window.open(URL.createObjectURL(e.output("blob")),"_blank")}printTIRPDF(){let e=new Ft("portrait"),i=e.internal.pageSize.getWidth(),n=e.internal.pageSize.getHeight(),r=14,a=(w,A)=>{let N=n-10;e.setFontSize(9),e.setTextColor(100,100,100);let T=new Date().toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});e.text(`Report generated: ${T}`,r,N),e.text(`Page ${w} of ${A}`,i-r-20,N,{align:"right"})};e.setFontSize(28),e.setFont("helvetica","bold"),e.setTextColor(1,37,150),e.text("Realtime Data",i/2,20,{align:"center"}),e.setDrawColor(1,37,150),e.setLineWidth(.5),e.line(r,23,i-r,23),e.setFontSize(11),e.setFont("helvetica","normal"),e.setTextColor(0,0,0);let s=32;e.setFont("helvetica","bold"),e.text("Site Name:",r,s),e.setFont("helvetica","normal"),e.text(this.siteName,r+35,s),e.setFont("helvetica","bold"),e.text("String Name:",r,s+6),e.setFont("helvetica","normal"),e.text(this.liveHeaderData.stringName||"N/A",r+35,s+6);let o=this.stringTableData.updateTime?new Date(this.stringTableData.updateTime).toLocaleString("vi-VN",{year:"2-digit",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).replace(/\//g,"-"):new Date().toLocaleString("vi-VN",{year:"2-digit",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).replace(/\//g,"-");e.setFont("helvetica","bold"),e.text("Update Time:",i/2+10,s),e.setFont("helvetica","normal"),e.text(o,i/2+45,s);let l=this.stringTableData.rstUpdateTime?new Date(this.stringTableData.rstUpdateTime).toLocaleString("vi-VN",{year:"2-digit",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).replace(/\//g,"-"):"N/A";e.setFont("helvetica","bold"),e.text("Rst Update Time:",i/2+10,s+6),e.setFont("helvetica","normal"),e.text(l,i/2+45,s+6),e.setFont("helvetica","bold"),e.text("Cell Qty:",r,s+12),e.setFont("helvetica","normal"),e.text(this.liveHeaderData.cellQty.toString(),r+35,s+12),s+=20;let h=[],c=[];if(this.stringTableData.totalVoltage!==null&&this.stringTableData.totalVoltage!==void 0&&(h.push("String Vol(V)"),c.push(this.stringTableData.totalVoltage.toFixed(0))),this.stringTableData.stringCurrent!==null&&this.stringTableData.stringCurrent!==void 0&&(h.push("Current(A)"),c.push(this.stringTableData.stringCurrent.toFixed(0))),this.stringTableData.maxVolId!==null&&this.stringTableData.maxVolId!==void 0&&(h.push("Max Vol ID"),c.push(this.stringTableData.maxVolId.toString())),this.stringTableData.minVolId!==null&&this.stringTableData.minVolId!==void 0&&(h.push("Min Vol ID"),c.push(this.stringTableData.minVolId.toString())),this.stringTableData.avgVoltage!==null&&this.stringTableData.avgVoltage!==void 0&&(h.push("Avg Vol(V)"),c.push(this.stringTableData.avgVoltage.toFixed(3))),this.stringTableData.maxRstId!==null&&this.stringTableData.maxRstId!==void 0&&(h.push("Max Rst ID"),c.push(this.stringTableData.maxRstId.toString())),this.stringTableData.minRstId!==null&&this.stringTableData.minRstId!==void 0&&(h.push("Min Rst ID"),c.push(this.stringTableData.minRstId.toString())),this.stringTableData.avgRst!==null&&this.stringTableData.avgRst!==void 0&&(h.push("Avg Rst(\xB5Ohm)"),c.push(this.stringTableData.avgRst.toFixed(0))),this.stringTableData.maxTempId!==null&&this.stringTableData.maxTempId!==void 0&&(h.push("Max Temp ID"),c.push(this.stringTableData.maxTempId.toString())),this.stringTableData.minTempId!==null&&this.stringTableData.minTempId!==void 0&&(h.push("Min Temp ID"),c.push(this.stringTableData.minTempId.toString())),this.stringTableData.avgTemp!==null&&this.stringTableData.avgTemp!==void 0&&(h.push("Avg Temp(\xB0C)"),c.push(this.stringTableData.avgTemp.toFixed(1))),this.stringTableData.stringSoC!==null&&this.stringTableData.stringSoC!==void 0&&(h.push("String SoC(%)"),c.push(this.stringTableData.stringSoC.toFixed(0))),this.stringTableData.stringSoH!==null&&this.stringTableData.stringSoH!==void 0&&(h.push("String SoH(%)"),c.push(this.stringTableData.stringSoH.toFixed(0))),this.stringTableData.maxVoltageValue!==null&&this.stringTableData.maxVoltageValue!==void 0&&(h.push("Max Vol Val(V)"),c.push(this.stringTableData.maxVoltageValue.toFixed(3))),this.stringTableData.minVoltageValue!==null&&this.stringTableData.minVoltageValue!==void 0&&(h.push("Min Vol Val(V)"),c.push(this.stringTableData.minVoltageValue.toFixed(3))),this.stringTableData.maxRstValue!==null&&this.stringTableData.maxRstValue!==void 0&&(h.push("Max Rst Val(Ohm)"),c.push(this.stringTableData.maxRstValue.toFixed(3))),this.stringTableData.minRstValue!==null&&this.stringTableData.minRstValue!==void 0&&(h.push("Min Rst Val(Ohm)"),c.push(this.stringTableData.minRstValue.toFixed(3))),this.stringTableData.maxTempValue!==null&&this.stringTableData.maxTempValue!==void 0&&(h.push("Max Temp Val(\xB0C)"),c.push(this.stringTableData.maxTempValue.toFixed(1))),this.stringTableData.minTempValue!==null&&this.stringTableData.minTempValue!==void 0&&(h.push("Min Temp Val(\xB0C)"),c.push(this.stringTableData.minTempValue.toFixed(1))),e.setFontSize(14),e.setFont("helvetica","bold"),e.setTextColor(1,37,150),e.text("String Summary",r,s),s+=8,h.length>0){let w=Math.ceil(h.length/2);if(h.length>10){let A=h.slice(0,w),N=c.slice(0,w),T=h.slice(w),F=c.slice(w);Yi(e,{head:[A],body:[N],startY:s,styles:{fontSize:9,cellPadding:4,lineColor:[200,200,200],lineWidth:.1,halign:"center",valign:"middle"},headStyles:{fillColor:[1,37,150],textColor:[255,255,255],fontStyle:"bold",halign:"center",valign:"middle",cellPadding:4},bodyStyles:{fillColor:[255,255,255],textColor:[0,0,0],lineColor:[200,200,200],lineWidth:.1,halign:"center",valign:"middle"},alternateRowStyles:{fillColor:[248,248,248]},margin:{left:r,right:r},theme:"grid"}),s=e.lastAutoTable.finalY+8,Yi(e,{head:[T],body:[F],startY:s,styles:{fontSize:9,cellPadding:4,lineColor:[200,200,200],lineWidth:.1,halign:"center",valign:"middle"},headStyles:{fillColor:[1,37,150],textColor:[255,255,255],fontStyle:"bold",halign:"center",valign:"middle",cellPadding:4},bodyStyles:{fillColor:[255,255,255],textColor:[0,0,0],lineColor:[200,200,200],lineWidth:.1,halign:"center",valign:"middle"},alternateRowStyles:{fillColor:[248,248,248]},margin:{left:r,right:r},theme:"grid"})}else Yi(e,{head:[h],body:[c],startY:s,styles:{fontSize:9,cellPadding:4,lineColor:[200,200,200],lineWidth:.1,halign:"center",valign:"middle"},headStyles:{fillColor:[1,37,150],textColor:[255,255,255],fontStyle:"bold",halign:"center",valign:"middle",cellPadding:4},bodyStyles:{fillColor:[255,255,255],textColor:[0,0,0],lineColor:[200,200,200],lineWidth:.1,halign:"center",valign:"middle"},alternateRowStyles:{fillColor:[248,248,248]},margin:{left:r,right:r},theme:"grid"});s=e.lastAutoTable.finalY+15}e.setFontSize(14),e.setFont("helvetica","bold"),e.setTextColor(1,37,150),e.text("Cell Data (Temperature & IR)",r,s),s+=8;let p=this.cellDataSource.length;if(p===0){e.setFontSize(11),e.setFont("helvetica","normal"),e.setTextColor(100,100,100),e.text("No cell data available",r,s);let w=e.internal.pages.length-1;a(1,w),e.autoPrint(),window.open(URL.createObjectURL(e.output("blob")),"_blank");return}let g=2,f=Math.ceil(p/g),v=[];for(let w=0;w<f;w++){let A=[];for(let N=0;N<g;N++){let T=w*g+N;if(T<p){let F=this.cellDataSource[T];A.push(F.ID.toString(),F.Temp!==null?F.Temp.toFixed(1):"N/A",F.IR!==null?F.IR.toFixed(3):"N/A")}else A.push("","","")}v.push(A)}Yi(e,{head:[["ID","Temp(\xB0C)","IR(U)","ID","Temp(\xB0C)","IR(U)"]],body:v,startY:s,styles:{fontSize:8,cellPadding:3,lineColor:[200,200,200],lineWidth:.1,halign:"center",valign:"middle"},headStyles:{fillColor:[1,37,150],textColor:[255,255,255],fontStyle:"bold",halign:"center",valign:"middle",cellPadding:3},bodyStyles:{fillColor:[255,255,255],textColor:[0,0,0],lineColor:[200,200,200],lineWidth:.1,halign:"center",valign:"middle"},alternateRowStyles:{fillColor:[248,248,248]},columnStyles:{0:{halign:"center"},1:{halign:"right"},2:{halign:"right"},3:{halign:"center"},4:{halign:"right"},5:{halign:"right"}},margin:{left:r,right:r},theme:"grid",didDrawPage:w=>{let A=e.internal.pages.length-1;a(A,A)}});let y=e.internal.pages.length-1;a(y,y),e.autoPrint(),window.open(URL.createObjectURL(e.output("blob")),"_blank")}goBack(){this.route.snapshot.queryParamMap.get("from")==="dashboard"?this.router.navigate(["/"]):window.history.length>1?this.location.back():this.router.navigate(["/setting/strings"])}onTabChange(e){this.activeTabIndex=e.index}loadSchedules(){this.baseStringName&&this.scheduleService.getSchedulesObservable(this.baseStringName,this.scheduleLegacyStringIds).pipe(fr(this.destroy$)).subscribe(e=>{this.schedules=e,this.updateActiveSchedule()})}startScheduleCheck(){this.scheduleCheckInterval=setInterval(()=>{this.checkAndUpdateSchedules()},8e3)}checkAndUpdateSchedules(){this.refreshSchedulesSnapshot()}updateActiveSchedule(){let e=Date.now();this.activeSchedule=this.schedules.find(i=>i.status==="running"&&e>=i.startTime)||null}openScheduleDialog(e){this.dialog.open(Bu,{width:"600px",data:{schedule:e}}).afterClosed().subscribe(n=>{n&&(e?this.editSchedule(e.id,n):this.createSchedule(n))})}createSchedule(e){this.baseStringName&&this.scheduleService.createSchedule(this.baseStringName,e).pipe(fr(this.destroy$)).subscribe(i=>{this.snackBar.open("Schedule created successfully","Close",{duration:3e3}),this.refreshSchedulesSnapshot()},i=>{console.error("Error creating schedule:",i),this.snackBar.open("Failed to create schedule","Close",{duration:3e3})})}editSchedule(e,i){this.baseStringName&&this.scheduleService.updateSchedule(this.baseStringName,e,i).pipe(fr(this.destroy$)).subscribe(n=>{this.snackBar.open("Schedule updated successfully","Close",{duration:3e3}),this.refreshSchedulesSnapshot()},n=>{console.error("Error updating schedule:",n),this.snackBar.open("Failed to update schedule","Close",{duration:3e3})})}deleteSchedule(e){this.dialog.open(yf,{width:"400px",data:{title:"Delete schedule",message:this.getDeleteMessage(e),type:"danger"}}).afterClosed().subscribe(n=>{n&&this.baseStringName&&this.scheduleService.deleteSchedule(this.baseStringName,e.id).pipe(fr(this.destroy$)).subscribe(()=>{this.snackBar.open("Schedule deleted","Close",{duration:3e3}),this.refreshSchedulesSnapshot()},r=>{console.error("Error deleting schedule:",r),this.snackBar.open("Failed to delete schedule","Close",{duration:3e3})})})}stopSchedule(e){this.dialog.open(yf,{width:"400px",data:{title:"Stop schedule",message:"Do you want to stop this schedule now?",type:"warning"}}).afterClosed().subscribe(n=>{n&&this.baseStringName&&this.scheduleService.stopSchedule(this.baseStringName,e.id).pipe(fr(this.destroy$)).subscribe(()=>{this.snackBar.open("Schedule stopped","Close",{duration:3e3}),this.refreshSchedulesSnapshot()},r=>{console.error("Error stopping schedule:",r),this.snackBar.open("Failed to stop schedule","Close",{duration:3e3})})})}formatScheduleStatus(e){return{pending:"Pending",running:"Running",finished:"Finished",stopped:"Stopped",failed:"Failed"}[e]||e}formatDateTime(e){return e?new Date(e).toLocaleString("en-GB",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"\u2014"}getDeleteMessage(e){let i=this.formatDateTime(e.startTime),n=e.endTime?this.formatDateTime(e.endTime):"no recorded end time";return e.endTime?`Are you sure you want to delete the schedule from ${i} to ${n}?`:`Are you sure you want to delete the schedule starting at ${i}?`}canEditSchedule(e){return e.status==="pending"}canDeleteSchedule(e){return e.status==="pending"}canStopSchedule(e){return e.status==="running"}refreshSchedulesSnapshot(){this.baseStringName&&this.scheduleService.getSchedules(this.baseStringName,this.scheduleLegacyStringIds).pipe(W0(1),fr(this.destroy$)).subscribe(e=>{this.schedules=e,this.updateActiveSchedule()})}static \u0275fac=function(i){return new(i||t)(vi(dg),vi(pg),vi(hg),vi(s1),vi(r1),vi(a1),vi(o1),vi(ju),vi(c1),vi(_g),vi(wg))};static \u0275cmp=Qh({type:t,selectors:[["app-string-detail"]],viewQuery:function(i,n){if(i&1&&rg(Wd,5),i&2){let r;ag(r=sg())&&(n.charts=r)}},decls:8,vars:2,consts:[["content",""],["actionsMenu","matMenu"],[1,"page-container"],[1,"back-link",3,"click"],["class","loading-spinner",4,"ngIf","ngIfElse"],[1,"loading-spinner"],[1,"header-card","mat-elevation-z4"],["class","active-schedule-banner",4,"ngIf"],[1,"header-content-wrapper"],[1,"header-info"],[1,"info-item"],[1,"info-label"],[1,"info-value"],["class","info-item",4,"ngIf"],[1,"header-actions"],["mat-stroked-button","","color","primary",3,"click"],["mat-stroked-button","",3,"click"],[1,"table-card","mat-elevation-z4"],[1,"table-container-horizontal"],["mat-table","",1,"string-data-table",3,"dataSource"],["matColumnDef","stringVol"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","curr"],["matColumnDef","maxVolId"],["matColumnDef","minVolId"],["matColumnDef","avgVol"],["matColumnDef","maxRstId"],["matColumnDef","minRstId"],["matColumnDef","avgRst"],["matColumnDef","maxTempId"],["matColumnDef","minTempId"],["matColumnDef","avgTemp"],["matColumnDef","stringSoC"],["matColumnDef","stringSoH"],["matColumnDef","maxVoltageValue"],["matColumnDef","minVoltageValue"],["matColumnDef","maxRstValue"],["matColumnDef","minRstValue"],["matColumnDef","maxTempValue"],["matColumnDef","minTempValue"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"table-container-horizontal","schedule-table-container"],["mat-table","",1,"schedule-table",3,"dataSource"],["matColumnDef","status"],["matColumnDef","startTime"],["matColumnDef","endTime"],["matColumnDef","ratedCurrent"],["matColumnDef","soh"],["matColumnDef","actions"],["mat-cell","","class","schedule-actions-cell",4,"matCellDef"],["animationDuration","0ms",3,"selectedTabChange"],["label","Vol_Rst"],[1,"cell-grid"],[1,"cell-data-grid-container"],[1,"cell-data-grid"],["class","cell-data-column",4,"ngFor","ngForOf"],[1,"chart-card","mat-elevation-z4"],[1,"chart-container"],["baseChart","","type","bar",3,"data","options"],["label","T_IR"],["label","SoC_SoH"],[1,"active-schedule-banner"],[1,"banner-content"],[1,"banner-icon"],[1,"banner-text"],["mat-raised-button","","color","warn",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],["mat-cell","",1,"schedule-actions-cell"],["mat-stroked-button","","color","warn",3,"click",4,"ngIf"],["mat-icon-button","","aria-label","Schedule actions",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click","disabled"],["mat-stroked-button","","color","warn",3,"click"],[1,"cell-data-column"],[1,"cell-data-item-row","header"],[1,"cell-id"],[1,"cell-val"],["class","cell-data-item-row",4,"ngFor","ngForOf"],[1,"cell-data-item-row"],["class","soh-warning-icon","matTooltip","SoH below 80%",3,"color",4,"ngIf"],["matTooltip","SoH below 80%",1,"soh-warning-icon"]],template:function(i,n){if(i&1){let r=_a();dt(0,"div",2)(1,"a",3),Ln("click",function(){return An(r),kn(n.goBack())}),dt(2,"mat-icon"),xt(3,"arrow_back"),ut(),xt(4," Back to list "),ut(),le(5,ST,4,0,"div",4)(6,E7,171,26,"ng-template",null,0,lg),ut()}if(i&2){let r=ml(7);Tt(5),ye("ngIf",n.isLoading)("ngIfElse",r)}},dependencies:[ec,cg,tc,ug,Rg,Ig,Eg,Fg,Og,nc,ic,bg,mg,gg,xg,vg,n1,i1,m1,p1,g1,e1,Wg,Yg,Kg,Gg,$g,Jg,Zg,Xg,Qg,t1,_1,v1,b1,x1,rc,yg,Wd],styles:['@charset "UTF-8";.page-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.back-link[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;text-decoration:none;color:#3f51b5;margin-bottom:-16px;font-size:.9rem;font-weight:500;width:fit-content}.back-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.loading-spinner[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;gap:16px;color:#0009}.header-card[_ngcontent-%COMP%]{padding:16px 24px;margin-bottom:24px}.header-card[_ngcontent-%COMP%]   .active-schedule-banner[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b6b,#ee5a6f);color:#fff;padding:12px 16px;border-radius:8px;margin-bottom:16px;box-shadow:0 2px 8px #00000026}.header-card[_ngcontent-%COMP%]   .active-schedule-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex-wrap:wrap}.header-card[_ngcontent-%COMP%]   .active-schedule-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.header-card[_ngcontent-%COMP%]   .active-schedule-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   .banner-text[_ngcontent-%COMP%]{flex:1;font-size:14px;line-height:1.5}.header-card[_ngcontent-%COMP%]   .active-schedule-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:auto}.header-card[_ngcontent-%COMP%]   .header-content-wrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center;gap:16px}.header-card[_ngcontent-%COMP%]   .header-info[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:24px}.header-card[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}.header-card[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]{font-size:.8rem;color:#0009;margin-bottom:4px;text-transform:uppercase}.header-card[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:500;color:var(--primary-color)}.header-card[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:12px}.table-card[_ngcontent-%COMP%]{width:100%}.table-container-horizontal[_ngcontent-%COMP%]{width:100%;overflow-x:auto;border:1px solid rgba(0,0,0,.12);border-radius:4px}.table-container-horizontal[_ngcontent-%COMP%]   .string-data-table[_ngcontent-%COMP%]{width:100%}.table-container-horizontal[_ngcontent-%COMP%]   .string-data-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]{font-size:.8rem;font-weight:500;color:#000000b3;white-space:nowrap;text-align:center;padding:8px 16px}.table-container-horizontal[_ngcontent-%COMP%]   .string-data-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:500;text-align:center;padding:12px 16px;border-top:1px solid rgba(0,0,0,.12);white-space:nowrap}  .mat-mdc-tab-body-content{padding:24px 0 0}.cell-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:24px}.cell-data-grid-container[_ngcontent-%COMP%]{width:100%;max-height:450px;overflow-y:auto;border:1px solid rgba(0,0,0,.12);border-radius:4px;padding:16px;background:#fafafa}.cell-data-grid[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;gap:16px;align-items:flex-start}.cell-data-column[_ngcontent-%COMP%]{flex:1;min-width:200px;border:1px solid #ddd;border-radius:4px;background:#fff}.cell-data-item-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:40px 1fr 1fr;gap:8px;padding:6px 8px;border-bottom:1px solid #f0f0f0}.cell-data-item-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.cell-data-item-row.header[_ngcontent-%COMP%]{font-weight:700;color:#000;background:#f0f0f0;border-bottom:1px solid #ccc;position:sticky;top:0}.cell-data-item-row[_ngcontent-%COMP%]   .cell-id[_ngcontent-%COMP%]{font-weight:500;color:var(--primary-color)}.cell-data-item-row[_ngcontent-%COMP%]   .cell-val[_ngcontent-%COMP%]{text-align:right;font-weight:500;display:flex;align-items:center;justify-content:flex-end;gap:4px}.cell-data-item-row[_ngcontent-%COMP%]   .cell-val[_ngcontent-%COMP%]   .soh-warning-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.chart-card[_ngcontent-%COMP%]{width:100%}.chart-container[_ngcontent-%COMP%]{width:100%;position:relative;height:300px}.schedule-table-container[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto;overflow-x:auto}.schedule-table[_ngcontent-%COMP%]{width:100%}.schedule-table[_ngcontent-%COMP%]   th.mat-mdc-header-cell[_ngcontent-%COMP%]{font-size:.85rem;font-weight:500;color:#000000b3;white-space:nowrap;text-align:center;padding:12px 16px;position:sticky;top:0;background-color:#fff;z-index:1}.schedule-table[_ngcontent-%COMP%]   td.mat-mdc-cell[_ngcontent-%COMP%]{font-size:.9rem;text-align:center;padding:12px 16px;border-top:1px solid rgba(0,0,0,.12)}.schedule-table[_ngcontent-%COMP%]   .schedule-actions-cell[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px}.schedule-table[_ngcontent-%COMP%]   .schedule-actions-cell[_ngcontent-%COMP%]   button[mat-stroked-button][_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;text-transform:none}.schedule-table[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 12px;border-radius:12px;font-size:.85rem;font-weight:500;text-transform:uppercase}.schedule-table[_ngcontent-%COMP%]   .status-badge.status-pending[_ngcontent-%COMP%]{background-color:#ff9800;color:#fff}.schedule-table[_ngcontent-%COMP%]   .status-badge.status-running[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;animation:_ngcontent-%COMP%_pulse 1.5s infinite}.schedule-table[_ngcontent-%COMP%]   .status-badge.status-finished[_ngcontent-%COMP%]{background-color:#2196f3;color:#fff}.schedule-table[_ngcontent-%COMP%]   .status-badge.status-stopped[_ngcontent-%COMP%]{background-color:#9e9e9e;color:#fff}.schedule-table[_ngcontent-%COMP%]   .status-badge.status-failed[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.7}}']})};export{r_ as StringDetailComponent};
